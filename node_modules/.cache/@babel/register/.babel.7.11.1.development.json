{
  "{\"sourceRoot\":\"/home/jake/Documents/WebAhead/Project/eShop.uk/backend/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jake/Documents/WebAhead/Project/eShop.uk\",\"filename\":\"/home/jake/Documents/WebAhead/Project/eShop.uk/backend/server.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jake/Documents/WebAhead/Project/eShop.uk\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.1": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/jake/Documents/WebAhead/Project/eShop.uk",
      "filename": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/server.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/jake/Documents/WebAhead/Project/eShop.uk",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/server.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/server.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/",
        "sourceFileName": "server.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _config = _interopRequireDefault(require(\"./config\"));\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nvar _userRoute = _interopRequireDefault(require(\"./routes/userRoute\"));\n\nvar _productRoute = _interopRequireDefault(require(\"./routes/productRoute\"));\n\nvar _orderRoute = _interopRequireDefault(require(\"./routes/orderRoute\"));\n\nvar _uploadRoute = _interopRequireDefault(require(\"./routes/uploadRoute\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst mongodbUrl = _config.default.MONGODB_URL;\n\n_mongoose.default.connect(mongodbUrl, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true,\n  useCreateIndex: true\n}).then(() => console.log('MongoDB Connected...')).catch(error => console.log(error));\n\nconst app = (0, _express.default)(); //middleware\n\napp.use(_express.default.json());\napp.use('/api/users', _userRoute.default);\napp.use('/api/products', _productRoute.default);\napp.use('/api/orders', _orderRoute.default);\napp.use('/api/uploads', _uploadRoute.default);\napp.get('/api/config/paypal', (req, res) => {\n  res.send(_config.default.PAYPAL_CLIENT_ID);\n}); //serve files from uplaod folder\n\napp.use('/uploads', _express.default.static(_path.default.join(__dirname, '/../uploads'))); // Serve static assets if in production\n\nif (process.env.NODE_ENV === 'production') {\n  app.use(_express.default.static(_path.default.join(__dirname, '/../frontend/build')));\n  app.get('*', (req, res) => {\n    res.sendFile(_path.default.join(`${__dirname}/../frontend/build/index.html`));\n  });\n}\n\napp.listen(_config.default.PORT, () => {\n  console.log('Server started at http://localhost:5000');\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZlci5qcyJdLCJuYW1lcyI6WyJtb25nb2RiVXJsIiwiY29uZmlnIiwiTU9OR09EQl9VUkwiLCJtb25nb29zZSIsImNvbm5lY3QiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJ1c2VDcmVhdGVJbmRleCIsInRoZW4iLCJjb25zb2xlIiwibG9nIiwiY2F0Y2giLCJlcnJvciIsImFwcCIsInVzZSIsImV4cHJlc3MiLCJqc29uIiwidXNlclJvdXRlIiwicHJvZHVjdFJvdXRlIiwib3JkZXJSb3V0ZSIsInVwbG9hZFJvdXRlIiwiZ2V0IiwicmVxIiwicmVzIiwic2VuZCIsIlBBWVBBTF9DTElFTlRfSUQiLCJzdGF0aWMiLCJwYXRoIiwiam9pbiIsIl9fZGlybmFtZSIsInByb2Nlc3MiLCJlbnYiLCJOT0RFX0VOViIsInNlbmRGaWxlIiwibGlzdGVuIiwiUE9SVCJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUdBLE1BQU1BLFVBQVUsR0FBR0MsZ0JBQU9DLFdBQTFCOztBQUVBQyxrQkFDS0MsT0FETCxDQUNhSixVQURiLEVBQ3lCO0FBQ2pCSyxFQUFBQSxlQUFlLEVBQUUsSUFEQTtBQUVqQkMsRUFBQUEsa0JBQWtCLEVBQUUsSUFGSDtBQUdqQkMsRUFBQUEsY0FBYyxFQUFFO0FBSEMsQ0FEekIsRUFNS0MsSUFOTCxDQU1VLE1BQU1DLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLHNCQUFaLENBTmhCLEVBT0tDLEtBUEwsQ0FPWUMsS0FBRCxJQUFXSCxPQUFPLENBQUNDLEdBQVIsQ0FBWUUsS0FBWixDQVB0Qjs7QUFTQSxNQUFNQyxHQUFHLEdBQUcsdUJBQVosQyxDQUVBOztBQUNBQSxHQUFHLENBQUNDLEdBQUosQ0FBUUMsaUJBQVFDLElBQVIsRUFBUjtBQUVBSCxHQUFHLENBQUNDLEdBQUosQ0FBUSxZQUFSLEVBQXNCRyxrQkFBdEI7QUFDQUosR0FBRyxDQUFDQyxHQUFKLENBQVEsZUFBUixFQUF5QkkscUJBQXpCO0FBQ0FMLEdBQUcsQ0FBQ0MsR0FBSixDQUFRLGFBQVIsRUFBdUJLLG1CQUF2QjtBQUNBTixHQUFHLENBQUNDLEdBQUosQ0FBUSxjQUFSLEVBQXdCTSxvQkFBeEI7QUFHQVAsR0FBRyxDQUFDUSxHQUFKLENBQVEsb0JBQVIsRUFBOEIsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEtBQWM7QUFDeENBLEVBQUFBLEdBQUcsQ0FBQ0MsSUFBSixDQUFTdkIsZ0JBQU93QixnQkFBaEI7QUFDSCxDQUZELEUsQ0FJQTs7QUFDQVosR0FBRyxDQUFDQyxHQUFKLENBQVEsVUFBUixFQUFvQkMsaUJBQVFXLE1BQVIsQ0FBZUMsY0FBS0MsSUFBTCxDQUFVQyxTQUFWLEVBQXFCLGFBQXJCLENBQWYsQ0FBcEIsRSxDQUVBOztBQUNBLElBQUlDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxRQUFaLEtBQXlCLFlBQTdCLEVBQTJDO0FBQ3ZDbkIsRUFBQUEsR0FBRyxDQUFDQyxHQUFKLENBQVFDLGlCQUFRVyxNQUFSLENBQWVDLGNBQUtDLElBQUwsQ0FBVUMsU0FBVixFQUFxQixvQkFBckIsQ0FBZixDQUFSO0FBRUFoQixFQUFBQSxHQUFHLENBQUNRLEdBQUosQ0FBUSxHQUFSLEVBQWEsQ0FBQ0MsR0FBRCxFQUFNQyxHQUFOLEtBQWM7QUFDdkJBLElBQUFBLEdBQUcsQ0FBQ1UsUUFBSixDQUFhTixjQUFLQyxJQUFMLENBQVcsR0FBRUMsU0FBVSwrQkFBdkIsQ0FBYjtBQUNILEdBRkQ7QUFHSDs7QUFFRGhCLEdBQUcsQ0FBQ3FCLE1BQUosQ0FBV2pDLGdCQUFPa0MsSUFBbEIsRUFBd0IsTUFBTTtBQUMxQjFCLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLHlDQUFaO0FBQ0gsQ0FGRCIsInNvdXJjZVJvb3QiOiIvaG9tZS9qYWtlL0RvY3VtZW50cy9XZWJBaGVhZC9Qcm9qZWN0L2VTaG9wLnVrL2JhY2tlbmQvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIlxuaW1wb3J0IHBhdGggZnJvbSAncGF0aCdcbmltcG9ydCBjb25maWcgZnJvbSAnLi9jb25maWcnXG5pbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnXG5pbXBvcnQgdXNlclJvdXRlIGZyb20gJy4vcm91dGVzL3VzZXJSb3V0ZSdcbmltcG9ydCBwcm9kdWN0Um91dGUgZnJvbSAnLi9yb3V0ZXMvcHJvZHVjdFJvdXRlJ1xuaW1wb3J0IG9yZGVyUm91dGUgZnJvbSAnLi9yb3V0ZXMvb3JkZXJSb3V0ZSdcbmltcG9ydCB1cGxvYWRSb3V0ZSBmcm9tICcuL3JvdXRlcy91cGxvYWRSb3V0ZSdcblxuXG5jb25zdCBtb25nb2RiVXJsID0gY29uZmlnLk1PTkdPREJfVVJMXG5cbm1vbmdvb3NlXG4gICAgLmNvbm5lY3QobW9uZ29kYlVybCwge1xuICAgICAgICB1c2VOZXdVcmxQYXJzZXI6IHRydWUsXG4gICAgICAgIHVzZVVuaWZpZWRUb3BvbG9neTogdHJ1ZSxcbiAgICAgICAgdXNlQ3JlYXRlSW5kZXg6IHRydWUsXG4gICAgfSlcbiAgICAudGhlbigoKSA9PiBjb25zb2xlLmxvZygnTW9uZ29EQiBDb25uZWN0ZWQuLi4nKSlcbiAgICAuY2F0Y2goKGVycm9yKSA9PiBjb25zb2xlLmxvZyhlcnJvcikpO1xuXG5jb25zdCBhcHAgPSBleHByZXNzKCk7XG5cbi8vbWlkZGxld2FyZVxuYXBwLnVzZShleHByZXNzLmpzb24oKSk7XG5cbmFwcC51c2UoJy9hcGkvdXNlcnMnLCB1c2VyUm91dGUpO1xuYXBwLnVzZSgnL2FwaS9wcm9kdWN0cycsIHByb2R1Y3RSb3V0ZSk7XG5hcHAudXNlKCcvYXBpL29yZGVycycsIG9yZGVyUm91dGUpO1xuYXBwLnVzZSgnL2FwaS91cGxvYWRzJywgdXBsb2FkUm91dGUpXG5cblxuYXBwLmdldCgnL2FwaS9jb25maWcvcGF5cGFsJywgKHJlcSwgcmVzKSA9PiB7XG4gICAgcmVzLnNlbmQoY29uZmlnLlBBWVBBTF9DTElFTlRfSUQpO1xufSk7XG5cbi8vc2VydmUgZmlsZXMgZnJvbSB1cGxhb2QgZm9sZGVyXG5hcHAudXNlKCcvdXBsb2FkcycsIGV4cHJlc3Muc3RhdGljKHBhdGguam9pbihfX2Rpcm5hbWUsICcvLi4vdXBsb2FkcycpKSk7XG5cbi8vIFNlcnZlIHN0YXRpYyBhc3NldHMgaWYgaW4gcHJvZHVjdGlvblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgICBhcHAudXNlKGV4cHJlc3Muc3RhdGljKHBhdGguam9pbihfX2Rpcm5hbWUsICcvLi4vZnJvbnRlbmQvYnVpbGQnKSkpO1xuXG4gICAgYXBwLmdldCgnKicsIChyZXEsIHJlcykgPT4ge1xuICAgICAgICByZXMuc2VuZEZpbGUocGF0aC5qb2luKGAke19fZGlybmFtZX0vLi4vZnJvbnRlbmQvYnVpbGQvaW5kZXguaHRtbGApKTtcbiAgICB9KTtcbn1cblxuYXBwLmxpc3Rlbihjb25maWcuUE9SVCwgKCkgPT4ge1xuICAgIGNvbnNvbGUubG9nKCdTZXJ2ZXIgc3RhcnRlZCBhdCBodHRwOi8vbG9jYWxob3N0OjUwMDAnKTtcbn0pOyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "server.js"
      ],
      "names": [
        "mongodbUrl",
        "config",
        "MONGODB_URL",
        "mongoose",
        "connect",
        "useNewUrlParser",
        "useUnifiedTopology",
        "useCreateIndex",
        "then",
        "console",
        "log",
        "catch",
        "error",
        "app",
        "use",
        "express",
        "json",
        "userRoute",
        "productRoute",
        "orderRoute",
        "uploadRoute",
        "get",
        "req",
        "res",
        "send",
        "PAYPAL_CLIENT_ID",
        "static",
        "path",
        "join",
        "__dirname",
        "process",
        "env",
        "NODE_ENV",
        "sendFile",
        "listen",
        "PORT"
      ],
      "mappings": ";;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAGA,MAAMA,UAAU,GAAGC,gBAAOC,WAA1B;;AAEAC,kBACKC,OADL,CACaJ,UADb,EACyB;AACjBK,EAAAA,eAAe,EAAE,IADA;AAEjBC,EAAAA,kBAAkB,EAAE,IAFH;AAGjBC,EAAAA,cAAc,EAAE;AAHC,CADzB,EAMKC,IANL,CAMU,MAAMC,OAAO,CAACC,GAAR,CAAY,sBAAZ,CANhB,EAOKC,KAPL,CAOYC,KAAD,IAAWH,OAAO,CAACC,GAAR,CAAYE,KAAZ,CAPtB;;AASA,MAAMC,GAAG,GAAG,uBAAZ,C,CAEA;;AACAA,GAAG,CAACC,GAAJ,CAAQC,iBAAQC,IAAR,EAAR;AAEAH,GAAG,CAACC,GAAJ,CAAQ,YAAR,EAAsBG,kBAAtB;AACAJ,GAAG,CAACC,GAAJ,CAAQ,eAAR,EAAyBI,qBAAzB;AACAL,GAAG,CAACC,GAAJ,CAAQ,aAAR,EAAuBK,mBAAvB;AACAN,GAAG,CAACC,GAAJ,CAAQ,cAAR,EAAwBM,oBAAxB;AAGAP,GAAG,CAACQ,GAAJ,CAAQ,oBAAR,EAA8B,CAACC,GAAD,EAAMC,GAAN,KAAc;AACxCA,EAAAA,GAAG,CAACC,IAAJ,CAASvB,gBAAOwB,gBAAhB;AACH,CAFD,E,CAIA;;AACAZ,GAAG,CAACC,GAAJ,CAAQ,UAAR,EAAoBC,iBAAQW,MAAR,CAAeC,cAAKC,IAAL,CAAUC,SAAV,EAAqB,aAArB,CAAf,CAApB,E,CAEA;;AACA,IAAIC,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAA7B,EAA2C;AACvCnB,EAAAA,GAAG,CAACC,GAAJ,CAAQC,iBAAQW,MAAR,CAAeC,cAAKC,IAAL,CAAUC,SAAV,EAAqB,oBAArB,CAAf,CAAR;AAEAhB,EAAAA,GAAG,CAACQ,GAAJ,CAAQ,GAAR,EAAa,CAACC,GAAD,EAAMC,GAAN,KAAc;AACvBA,IAAAA,GAAG,CAACU,QAAJ,CAAaN,cAAKC,IAAL,CAAW,GAAEC,SAAU,+BAAvB,CAAb;AACH,GAFD;AAGH;;AAEDhB,GAAG,CAACqB,MAAJ,CAAWjC,gBAAOkC,IAAlB,EAAwB,MAAM;AAC1B1B,EAAAA,OAAO,CAACC,GAAR,CAAY,yCAAZ;AACH,CAFD",
      "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/",
      "sourcesContent": [
        "import express from \"express\"\nimport path from 'path'\nimport config from './config'\nimport mongoose from 'mongoose'\nimport userRoute from './routes/userRoute'\nimport productRoute from './routes/productRoute'\nimport orderRoute from './routes/orderRoute'\nimport uploadRoute from './routes/uploadRoute'\n\n\nconst mongodbUrl = config.MONGODB_URL\n\nmongoose\n    .connect(mongodbUrl, {\n        useNewUrlParser: true,\n        useUnifiedTopology: true,\n        useCreateIndex: true,\n    })\n    .then(() => console.log('MongoDB Connected...'))\n    .catch((error) => console.log(error));\n\nconst app = express();\n\n//middleware\napp.use(express.json());\n\napp.use('/api/users', userRoute);\napp.use('/api/products', productRoute);\napp.use('/api/orders', orderRoute);\napp.use('/api/uploads', uploadRoute)\n\n\napp.get('/api/config/paypal', (req, res) => {\n    res.send(config.PAYPAL_CLIENT_ID);\n});\n\n//serve files from uplaod folder\napp.use('/uploads', express.static(path.join(__dirname, '/../uploads')));\n\n// Serve static assets if in production\nif (process.env.NODE_ENV === 'production') {\n    app.use(express.static(path.join(__dirname, '/../frontend/build')));\n\n    app.get('*', (req, res) => {\n        res.sendFile(path.join(`${__dirname}/../frontend/build/index.html`));\n    });\n}\n\napp.listen(config.PORT, () => {\n    console.log('Server started at http://localhost:5000');\n});"
      ]
    },
    "sourceType": "script",
    "mtime": 1598696307943
  },
  "{\"sourceRoot\":\"/home/jake/Documents/WebAhead/Project/eShop.uk/backend/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jake/Documents/WebAhead/Project/eShop.uk\",\"filename\":\"/home/jake/Documents/WebAhead/Project/eShop.uk/backend/data.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jake/Documents/WebAhead/Project/eShop.uk\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.1": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/jake/Documents/WebAhead/Project/eShop.uk",
      "filename": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/data.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/jake/Documents/WebAhead/Project/eShop.uk",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/data.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/data.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/",
        "sourceFileName": "data.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = {\n  products: [{\n    _id: \"1\",\n    name: \"Fnatic 2019 Jersey\",\n    category: \"League of Legends\",\n    image: \"/images/fnaticshirt.jpg\",\n    price: 60,\n    brand: \"Fnatic - Legaue of Legends\",\n    rating: 4.5,\n    numReviews: 10,\n    countInStock: 6\n  }, {\n    _id: \"2\",\n    name: \"G2 2019 Jersey\",\n    category: \"League of Legends\",\n    image: \"/images/g2shirt.jpg\",\n    price: 65,\n    brand: \"G2 - Legaue of Legends\",\n    rating: 4.4,\n    numReviews: 12,\n    countInStock: 2\n  }, {\n    _id: \"3\",\n    name: \"Rogue 2019 Jersey\",\n    category: \"League of Legends\",\n    image: \"/images/rogueshirt.jpg\",\n    price: 45,\n    brand: \"Origin - Legaue of Legends\",\n    rating: 4.2,\n    numReviews: 4,\n    countInStock: 7\n  }, {\n    _id: \"4\",\n    name: \"Misfits 2019 Jersey\",\n    category: \"League of Legends\",\n    image: \"/images/misfitsshirt.jpg\",\n    price: 55,\n    brand: \"Misfits - Legaue of Legends\",\n    rating: 4.3,\n    numReviews: 7,\n    countInStock: 0\n  }]\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRhdGEuanMiXSwibmFtZXMiOlsicHJvZHVjdHMiLCJfaWQiLCJuYW1lIiwiY2F0ZWdvcnkiLCJpbWFnZSIsInByaWNlIiwiYnJhbmQiLCJyYXRpbmciLCJudW1SZXZpZXdzIiwiY291bnRJblN0b2NrIl0sIm1hcHBpbmdzIjoiOzs7Ozs7ZUFBZTtBQUNYQSxFQUFBQSxRQUFRLEVBQUUsQ0FDTjtBQUNJQyxJQUFBQSxHQUFHLEVBQUUsR0FEVDtBQUVJQyxJQUFBQSxJQUFJLEVBQUUsb0JBRlY7QUFHSUMsSUFBQUEsUUFBUSxFQUFFLG1CQUhkO0FBSUlDLElBQUFBLEtBQUssRUFBRSx5QkFKWDtBQUtJQyxJQUFBQSxLQUFLLEVBQUUsRUFMWDtBQU1JQyxJQUFBQSxLQUFLLEVBQUUsNEJBTlg7QUFPSUMsSUFBQUEsTUFBTSxFQUFFLEdBUFo7QUFRSUMsSUFBQUEsVUFBVSxFQUFFLEVBUmhCO0FBU0lDLElBQUFBLFlBQVksRUFBRTtBQVRsQixHQURNLEVBWU47QUFDSVIsSUFBQUEsR0FBRyxFQUFFLEdBRFQ7QUFFSUMsSUFBQUEsSUFBSSxFQUFFLGdCQUZWO0FBR0lDLElBQUFBLFFBQVEsRUFBRSxtQkFIZDtBQUlJQyxJQUFBQSxLQUFLLEVBQUUscUJBSlg7QUFLSUMsSUFBQUEsS0FBSyxFQUFFLEVBTFg7QUFNSUMsSUFBQUEsS0FBSyxFQUFFLHdCQU5YO0FBT0lDLElBQUFBLE1BQU0sRUFBRSxHQVBaO0FBUUlDLElBQUFBLFVBQVUsRUFBRSxFQVJoQjtBQVNJQyxJQUFBQSxZQUFZLEVBQUU7QUFUbEIsR0FaTSxFQXVCTjtBQUNJUixJQUFBQSxHQUFHLEVBQUUsR0FEVDtBQUVJQyxJQUFBQSxJQUFJLEVBQUUsbUJBRlY7QUFHSUMsSUFBQUEsUUFBUSxFQUFFLG1CQUhkO0FBSUlDLElBQUFBLEtBQUssRUFBRSx3QkFKWDtBQUtJQyxJQUFBQSxLQUFLLEVBQUUsRUFMWDtBQU1JQyxJQUFBQSxLQUFLLEVBQUUsNEJBTlg7QUFPSUMsSUFBQUEsTUFBTSxFQUFFLEdBUFo7QUFRSUMsSUFBQUEsVUFBVSxFQUFFLENBUmhCO0FBU0lDLElBQUFBLFlBQVksRUFBRTtBQVRsQixHQXZCTSxFQWtDTjtBQUNJUixJQUFBQSxHQUFHLEVBQUUsR0FEVDtBQUVJQyxJQUFBQSxJQUFJLEVBQUUscUJBRlY7QUFHSUMsSUFBQUEsUUFBUSxFQUFFLG1CQUhkO0FBSUlDLElBQUFBLEtBQUssRUFBRSwwQkFKWDtBQUtJQyxJQUFBQSxLQUFLLEVBQUUsRUFMWDtBQU1JQyxJQUFBQSxLQUFLLEVBQUUsNkJBTlg7QUFPSUMsSUFBQUEsTUFBTSxFQUFFLEdBUFo7QUFRSUMsSUFBQUEsVUFBVSxFQUFFLENBUmhCO0FBU0lDLElBQUFBLFlBQVksRUFBRTtBQVRsQixHQWxDTTtBQURDLEMiLCJzb3VyY2VSb290IjoiL2hvbWUvamFrZS9Eb2N1bWVudHMvV2ViQWhlYWQvUHJvamVjdC9lU2hvcC51ay9iYWNrZW5kLyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IHtcbiAgICBwcm9kdWN0czogW1xuICAgICAgICB7XG4gICAgICAgICAgICBfaWQ6IFwiMVwiLFxuICAgICAgICAgICAgbmFtZTogXCJGbmF0aWMgMjAxOSBKZXJzZXlcIixcbiAgICAgICAgICAgIGNhdGVnb3J5OiBcIkxlYWd1ZSBvZiBMZWdlbmRzXCIsXG4gICAgICAgICAgICBpbWFnZTogXCIvaW1hZ2VzL2ZuYXRpY3NoaXJ0LmpwZ1wiLFxuICAgICAgICAgICAgcHJpY2U6IDYwLFxuICAgICAgICAgICAgYnJhbmQ6IFwiRm5hdGljIC0gTGVnYXVlIG9mIExlZ2VuZHNcIixcbiAgICAgICAgICAgIHJhdGluZzogNC41LFxuICAgICAgICAgICAgbnVtUmV2aWV3czogMTAsXG4gICAgICAgICAgICBjb3VudEluU3RvY2s6IDZcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgX2lkOiBcIjJcIixcbiAgICAgICAgICAgIG5hbWU6IFwiRzIgMjAxOSBKZXJzZXlcIixcbiAgICAgICAgICAgIGNhdGVnb3J5OiBcIkxlYWd1ZSBvZiBMZWdlbmRzXCIsXG4gICAgICAgICAgICBpbWFnZTogXCIvaW1hZ2VzL2cyc2hpcnQuanBnXCIsXG4gICAgICAgICAgICBwcmljZTogNjUsXG4gICAgICAgICAgICBicmFuZDogXCJHMiAtIExlZ2F1ZSBvZiBMZWdlbmRzXCIsXG4gICAgICAgICAgICByYXRpbmc6IDQuNCxcbiAgICAgICAgICAgIG51bVJldmlld3M6IDEyLFxuICAgICAgICAgICAgY291bnRJblN0b2NrOiAyXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIF9pZDogXCIzXCIsXG4gICAgICAgICAgICBuYW1lOiBcIlJvZ3VlIDIwMTkgSmVyc2V5XCIsXG4gICAgICAgICAgICBjYXRlZ29yeTogXCJMZWFndWUgb2YgTGVnZW5kc1wiLFxuICAgICAgICAgICAgaW1hZ2U6IFwiL2ltYWdlcy9yb2d1ZXNoaXJ0LmpwZ1wiLFxuICAgICAgICAgICAgcHJpY2U6IDQ1LFxuICAgICAgICAgICAgYnJhbmQ6IFwiT3JpZ2luIC0gTGVnYXVlIG9mIExlZ2VuZHNcIixcbiAgICAgICAgICAgIHJhdGluZzogNC4yLFxuICAgICAgICAgICAgbnVtUmV2aWV3czogNCxcbiAgICAgICAgICAgIGNvdW50SW5TdG9jazogN1xuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBfaWQ6IFwiNFwiLFxuICAgICAgICAgICAgbmFtZTogXCJNaXNmaXRzIDIwMTkgSmVyc2V5XCIsXG4gICAgICAgICAgICBjYXRlZ29yeTogXCJMZWFndWUgb2YgTGVnZW5kc1wiLFxuICAgICAgICAgICAgaW1hZ2U6IFwiL2ltYWdlcy9taXNmaXRzc2hpcnQuanBnXCIsXG4gICAgICAgICAgICBwcmljZTogNTUsXG4gICAgICAgICAgICBicmFuZDogXCJNaXNmaXRzIC0gTGVnYXVlIG9mIExlZ2VuZHNcIixcbiAgICAgICAgICAgIHJhdGluZzogNC4zLFxuICAgICAgICAgICAgbnVtUmV2aWV3czogNyxcbiAgICAgICAgICAgIGNvdW50SW5TdG9jazogMFxuICAgICAgICB9XG4gICAgXVxufSJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "data.js"
      ],
      "names": [
        "products",
        "_id",
        "name",
        "category",
        "image",
        "price",
        "brand",
        "rating",
        "numReviews",
        "countInStock"
      ],
      "mappings": ";;;;;;eAAe;AACXA,EAAAA,QAAQ,EAAE,CACN;AACIC,IAAAA,GAAG,EAAE,GADT;AAEIC,IAAAA,IAAI,EAAE,oBAFV;AAGIC,IAAAA,QAAQ,EAAE,mBAHd;AAIIC,IAAAA,KAAK,EAAE,yBAJX;AAKIC,IAAAA,KAAK,EAAE,EALX;AAMIC,IAAAA,KAAK,EAAE,4BANX;AAOIC,IAAAA,MAAM,EAAE,GAPZ;AAQIC,IAAAA,UAAU,EAAE,EARhB;AASIC,IAAAA,YAAY,EAAE;AATlB,GADM,EAYN;AACIR,IAAAA,GAAG,EAAE,GADT;AAEIC,IAAAA,IAAI,EAAE,gBAFV;AAGIC,IAAAA,QAAQ,EAAE,mBAHd;AAIIC,IAAAA,KAAK,EAAE,qBAJX;AAKIC,IAAAA,KAAK,EAAE,EALX;AAMIC,IAAAA,KAAK,EAAE,wBANX;AAOIC,IAAAA,MAAM,EAAE,GAPZ;AAQIC,IAAAA,UAAU,EAAE,EARhB;AASIC,IAAAA,YAAY,EAAE;AATlB,GAZM,EAuBN;AACIR,IAAAA,GAAG,EAAE,GADT;AAEIC,IAAAA,IAAI,EAAE,mBAFV;AAGIC,IAAAA,QAAQ,EAAE,mBAHd;AAIIC,IAAAA,KAAK,EAAE,wBAJX;AAKIC,IAAAA,KAAK,EAAE,EALX;AAMIC,IAAAA,KAAK,EAAE,4BANX;AAOIC,IAAAA,MAAM,EAAE,GAPZ;AAQIC,IAAAA,UAAU,EAAE,CARhB;AASIC,IAAAA,YAAY,EAAE;AATlB,GAvBM,EAkCN;AACIR,IAAAA,GAAG,EAAE,GADT;AAEIC,IAAAA,IAAI,EAAE,qBAFV;AAGIC,IAAAA,QAAQ,EAAE,mBAHd;AAIIC,IAAAA,KAAK,EAAE,0BAJX;AAKIC,IAAAA,KAAK,EAAE,EALX;AAMIC,IAAAA,KAAK,EAAE,6BANX;AAOIC,IAAAA,MAAM,EAAE,GAPZ;AAQIC,IAAAA,UAAU,EAAE,CARhB;AASIC,IAAAA,YAAY,EAAE;AATlB,GAlCM;AADC,C",
      "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/",
      "sourcesContent": [
        "export default {\n    products: [\n        {\n            _id: \"1\",\n            name: \"Fnatic 2019 Jersey\",\n            category: \"League of Legends\",\n            image: \"/images/fnaticshirt.jpg\",\n            price: 60,\n            brand: \"Fnatic - Legaue of Legends\",\n            rating: 4.5,\n            numReviews: 10,\n            countInStock: 6\n        },\n        {\n            _id: \"2\",\n            name: \"G2 2019 Jersey\",\n            category: \"League of Legends\",\n            image: \"/images/g2shirt.jpg\",\n            price: 65,\n            brand: \"G2 - Legaue of Legends\",\n            rating: 4.4,\n            numReviews: 12,\n            countInStock: 2\n        },\n        {\n            _id: \"3\",\n            name: \"Rogue 2019 Jersey\",\n            category: \"League of Legends\",\n            image: \"/images/rogueshirt.jpg\",\n            price: 45,\n            brand: \"Origin - Legaue of Legends\",\n            rating: 4.2,\n            numReviews: 4,\n            countInStock: 7\n        },\n        {\n            _id: \"4\",\n            name: \"Misfits 2019 Jersey\",\n            category: \"League of Legends\",\n            image: \"/images/misfitsshirt.jpg\",\n            price: 55,\n            brand: \"Misfits - Legaue of Legends\",\n            rating: 4.3,\n            numReviews: 7,\n            countInStock: 0\n        }\n    ]\n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1597230388639
  },
  "{\"sourceRoot\":\"/home/jake/Documents/WebAhead/Project/eShop.uk/backend/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jake/Documents/WebAhead/Project/eShop.uk\",\"filename\":\"/home/jake/Documents/WebAhead/Project/eShop.uk/backend/data.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jake/Documents/WebAhead/Project/eShop.uk\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.1": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/jake/Documents/WebAhead/Project/eShop.uk",
      "filename": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/data.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/jake/Documents/WebAhead/Project/eShop.uk",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/data.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/data.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/",
        "sourceFileName": "data.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = {\n  products: [{\n    _id: \"1\",\n    name: \"Fnatic 2019 Jersey\",\n    category: \"League of Legends\",\n    image: \"/images/fnaticshirt.jpg\",\n    price: 60,\n    brand: \"Fnatic - Legaue of Legends\",\n    rating: 4.5,\n    numReviews: 10,\n    countInStock: 6\n  }, {\n    _id: \"2\",\n    name: \"G2 2019 Jersey\",\n    category: \"League of Legends\",\n    image: \"/images/g2shirt.jpg\",\n    price: 65,\n    brand: \"G2 - Legaue of Legends\",\n    rating: 4.4,\n    numReviews: 12,\n    countInStock: 2\n  }, {\n    _id: \"3\",\n    name: \"Rogue 2019 Jersey\",\n    category: \"League of Legends\",\n    image: \"/images/rogueshirt.jpg\",\n    price: 45,\n    brand: \"Origin - Legaue of Legends\",\n    rating: 4.2,\n    numReviews: 4,\n    countInStock: 7\n  }, {\n    _id: \"4\",\n    name: \"Misfits 2019 Jersey\",\n    category: \"League of Legends\",\n    image: \"/images/misfitsshirt.jpg\",\n    price: 55,\n    brand: \"Misfits - Legaue of Legends\",\n    rating: 4.3,\n    numReviews: 7,\n    countInStock: 0\n  }]\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRhdGEuanMiXSwibmFtZXMiOlsicHJvZHVjdHMiLCJfaWQiLCJuYW1lIiwiY2F0ZWdvcnkiLCJpbWFnZSIsInByaWNlIiwiYnJhbmQiLCJyYXRpbmciLCJudW1SZXZpZXdzIiwiY291bnRJblN0b2NrIl0sIm1hcHBpbmdzIjoiOzs7Ozs7ZUFBZTtBQUNYQSxFQUFBQSxRQUFRLEVBQUUsQ0FDTjtBQUNJQyxJQUFBQSxHQUFHLEVBQUUsR0FEVDtBQUVJQyxJQUFBQSxJQUFJLEVBQUUsb0JBRlY7QUFHSUMsSUFBQUEsUUFBUSxFQUFFLG1CQUhkO0FBSUlDLElBQUFBLEtBQUssRUFBRSx5QkFKWDtBQUtJQyxJQUFBQSxLQUFLLEVBQUUsRUFMWDtBQU1JQyxJQUFBQSxLQUFLLEVBQUUsNEJBTlg7QUFPSUMsSUFBQUEsTUFBTSxFQUFFLEdBUFo7QUFRSUMsSUFBQUEsVUFBVSxFQUFFLEVBUmhCO0FBU0lDLElBQUFBLFlBQVksRUFBRTtBQVRsQixHQURNLEVBWU47QUFDSVIsSUFBQUEsR0FBRyxFQUFFLEdBRFQ7QUFFSUMsSUFBQUEsSUFBSSxFQUFFLGdCQUZWO0FBR0lDLElBQUFBLFFBQVEsRUFBRSxtQkFIZDtBQUlJQyxJQUFBQSxLQUFLLEVBQUUscUJBSlg7QUFLSUMsSUFBQUEsS0FBSyxFQUFFLEVBTFg7QUFNSUMsSUFBQUEsS0FBSyxFQUFFLHdCQU5YO0FBT0lDLElBQUFBLE1BQU0sRUFBRSxHQVBaO0FBUUlDLElBQUFBLFVBQVUsRUFBRSxFQVJoQjtBQVNJQyxJQUFBQSxZQUFZLEVBQUU7QUFUbEIsR0FaTSxFQXVCTjtBQUNJUixJQUFBQSxHQUFHLEVBQUUsR0FEVDtBQUVJQyxJQUFBQSxJQUFJLEVBQUUsbUJBRlY7QUFHSUMsSUFBQUEsUUFBUSxFQUFFLG1CQUhkO0FBSUlDLElBQUFBLEtBQUssRUFBRSx3QkFKWDtBQUtJQyxJQUFBQSxLQUFLLEVBQUUsRUFMWDtBQU1JQyxJQUFBQSxLQUFLLEVBQUUsNEJBTlg7QUFPSUMsSUFBQUEsTUFBTSxFQUFFLEdBUFo7QUFRSUMsSUFBQUEsVUFBVSxFQUFFLENBUmhCO0FBU0lDLElBQUFBLFlBQVksRUFBRTtBQVRsQixHQXZCTSxFQWtDTjtBQUNJUixJQUFBQSxHQUFHLEVBQUUsR0FEVDtBQUVJQyxJQUFBQSxJQUFJLEVBQUUscUJBRlY7QUFHSUMsSUFBQUEsUUFBUSxFQUFFLG1CQUhkO0FBSUlDLElBQUFBLEtBQUssRUFBRSwwQkFKWDtBQUtJQyxJQUFBQSxLQUFLLEVBQUUsRUFMWDtBQU1JQyxJQUFBQSxLQUFLLEVBQUUsNkJBTlg7QUFPSUMsSUFBQUEsTUFBTSxFQUFFLEdBUFo7QUFRSUMsSUFBQUEsVUFBVSxFQUFFLENBUmhCO0FBU0lDLElBQUFBLFlBQVksRUFBRTtBQVRsQixHQWxDTTtBQURDLEMiLCJzb3VyY2VSb290IjoiL2hvbWUvamFrZS9Eb2N1bWVudHMvV2ViQWhlYWQvUHJvamVjdC9lU2hvcC51ay9iYWNrZW5kLyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IHtcbiAgICBwcm9kdWN0czogW1xuICAgICAgICB7XG4gICAgICAgICAgICBfaWQ6IFwiMVwiLFxuICAgICAgICAgICAgbmFtZTogXCJGbmF0aWMgMjAxOSBKZXJzZXlcIixcbiAgICAgICAgICAgIGNhdGVnb3J5OiBcIkxlYWd1ZSBvZiBMZWdlbmRzXCIsXG4gICAgICAgICAgICBpbWFnZTogXCIvaW1hZ2VzL2ZuYXRpY3NoaXJ0LmpwZ1wiLFxuICAgICAgICAgICAgcHJpY2U6IDYwLFxuICAgICAgICAgICAgYnJhbmQ6IFwiRm5hdGljIC0gTGVnYXVlIG9mIExlZ2VuZHNcIixcbiAgICAgICAgICAgIHJhdGluZzogNC41LFxuICAgICAgICAgICAgbnVtUmV2aWV3czogMTAsXG4gICAgICAgICAgICBjb3VudEluU3RvY2s6IDZcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgX2lkOiBcIjJcIixcbiAgICAgICAgICAgIG5hbWU6IFwiRzIgMjAxOSBKZXJzZXlcIixcbiAgICAgICAgICAgIGNhdGVnb3J5OiBcIkxlYWd1ZSBvZiBMZWdlbmRzXCIsXG4gICAgICAgICAgICBpbWFnZTogXCIvaW1hZ2VzL2cyc2hpcnQuanBnXCIsXG4gICAgICAgICAgICBwcmljZTogNjUsXG4gICAgICAgICAgICBicmFuZDogXCJHMiAtIExlZ2F1ZSBvZiBMZWdlbmRzXCIsXG4gICAgICAgICAgICByYXRpbmc6IDQuNCxcbiAgICAgICAgICAgIG51bVJldmlld3M6IDEyLFxuICAgICAgICAgICAgY291bnRJblN0b2NrOiAyXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIF9pZDogXCIzXCIsXG4gICAgICAgICAgICBuYW1lOiBcIlJvZ3VlIDIwMTkgSmVyc2V5XCIsXG4gICAgICAgICAgICBjYXRlZ29yeTogXCJMZWFndWUgb2YgTGVnZW5kc1wiLFxuICAgICAgICAgICAgaW1hZ2U6IFwiL2ltYWdlcy9yb2d1ZXNoaXJ0LmpwZ1wiLFxuICAgICAgICAgICAgcHJpY2U6IDQ1LFxuICAgICAgICAgICAgYnJhbmQ6IFwiT3JpZ2luIC0gTGVnYXVlIG9mIExlZ2VuZHNcIixcbiAgICAgICAgICAgIHJhdGluZzogNC4yLFxuICAgICAgICAgICAgbnVtUmV2aWV3czogNCxcbiAgICAgICAgICAgIGNvdW50SW5TdG9jazogN1xuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBfaWQ6IFwiNFwiLFxuICAgICAgICAgICAgbmFtZTogXCJNaXNmaXRzIDIwMTkgSmVyc2V5XCIsXG4gICAgICAgICAgICBjYXRlZ29yeTogXCJMZWFndWUgb2YgTGVnZW5kc1wiLFxuICAgICAgICAgICAgaW1hZ2U6IFwiL2ltYWdlcy9taXNmaXRzc2hpcnQuanBnXCIsXG4gICAgICAgICAgICBwcmljZTogNTUsXG4gICAgICAgICAgICBicmFuZDogXCJNaXNmaXRzIC0gTGVnYXVlIG9mIExlZ2VuZHNcIixcbiAgICAgICAgICAgIHJhdGluZzogNC4zLFxuICAgICAgICAgICAgbnVtUmV2aWV3czogNyxcbiAgICAgICAgICAgIGNvdW50SW5TdG9jazogMFxuICAgICAgICB9XG4gICAgXVxufSJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "data.js"
      ],
      "names": [
        "products",
        "_id",
        "name",
        "category",
        "image",
        "price",
        "brand",
        "rating",
        "numReviews",
        "countInStock"
      ],
      "mappings": ";;;;;;eAAe;AACXA,EAAAA,QAAQ,EAAE,CACN;AACIC,IAAAA,GAAG,EAAE,GADT;AAEIC,IAAAA,IAAI,EAAE,oBAFV;AAGIC,IAAAA,QAAQ,EAAE,mBAHd;AAIIC,IAAAA,KAAK,EAAE,yBAJX;AAKIC,IAAAA,KAAK,EAAE,EALX;AAMIC,IAAAA,KAAK,EAAE,4BANX;AAOIC,IAAAA,MAAM,EAAE,GAPZ;AAQIC,IAAAA,UAAU,EAAE,EARhB;AASIC,IAAAA,YAAY,EAAE;AATlB,GADM,EAYN;AACIR,IAAAA,GAAG,EAAE,GADT;AAEIC,IAAAA,IAAI,EAAE,gBAFV;AAGIC,IAAAA,QAAQ,EAAE,mBAHd;AAIIC,IAAAA,KAAK,EAAE,qBAJX;AAKIC,IAAAA,KAAK,EAAE,EALX;AAMIC,IAAAA,KAAK,EAAE,wBANX;AAOIC,IAAAA,MAAM,EAAE,GAPZ;AAQIC,IAAAA,UAAU,EAAE,EARhB;AASIC,IAAAA,YAAY,EAAE;AATlB,GAZM,EAuBN;AACIR,IAAAA,GAAG,EAAE,GADT;AAEIC,IAAAA,IAAI,EAAE,mBAFV;AAGIC,IAAAA,QAAQ,EAAE,mBAHd;AAIIC,IAAAA,KAAK,EAAE,wBAJX;AAKIC,IAAAA,KAAK,EAAE,EALX;AAMIC,IAAAA,KAAK,EAAE,4BANX;AAOIC,IAAAA,MAAM,EAAE,GAPZ;AAQIC,IAAAA,UAAU,EAAE,CARhB;AASIC,IAAAA,YAAY,EAAE;AATlB,GAvBM,EAkCN;AACIR,IAAAA,GAAG,EAAE,GADT;AAEIC,IAAAA,IAAI,EAAE,qBAFV;AAGIC,IAAAA,QAAQ,EAAE,mBAHd;AAIIC,IAAAA,KAAK,EAAE,0BAJX;AAKIC,IAAAA,KAAK,EAAE,EALX;AAMIC,IAAAA,KAAK,EAAE,6BANX;AAOIC,IAAAA,MAAM,EAAE,GAPZ;AAQIC,IAAAA,UAAU,EAAE,CARhB;AASIC,IAAAA,YAAY,EAAE;AATlB,GAlCM;AADC,C",
      "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/",
      "sourcesContent": [
        "export default {\n    products: [\n        {\n            _id: \"1\",\n            name: \"Fnatic 2019 Jersey\",\n            category: \"League of Legends\",\n            image: \"/images/fnaticshirt.jpg\",\n            price: 60,\n            brand: \"Fnatic - Legaue of Legends\",\n            rating: 4.5,\n            numReviews: 10,\n            countInStock: 6\n        },\n        {\n            _id: \"2\",\n            name: \"G2 2019 Jersey\",\n            category: \"League of Legends\",\n            image: \"/images/g2shirt.jpg\",\n            price: 65,\n            brand: \"G2 - Legaue of Legends\",\n            rating: 4.4,\n            numReviews: 12,\n            countInStock: 2\n        },\n        {\n            _id: \"3\",\n            name: \"Rogue 2019 Jersey\",\n            category: \"League of Legends\",\n            image: \"/images/rogueshirt.jpg\",\n            price: 45,\n            brand: \"Origin - Legaue of Legends\",\n            rating: 4.2,\n            numReviews: 4,\n            countInStock: 7\n        },\n        {\n            _id: \"4\",\n            name: \"Misfits 2019 Jersey\",\n            category: \"League of Legends\",\n            image: \"/images/misfitsshirt.jpg\",\n            price: 55,\n            brand: \"Misfits - Legaue of Legends\",\n            rating: 4.3,\n            numReviews: 7,\n            countInStock: 0\n        }\n    ]\n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1597230388639
  },
  "{\"sourceRoot\":\"/home/jake/Documents/WebAhead/Project/eShop.uk/backend/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jake/Documents/WebAhead/Project/eShop.uk\",\"filename\":\"/home/jake/Documents/WebAhead/Project/eShop.uk/backend/config.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jake/Documents/WebAhead/Project/eShop.uk\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.1": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/jake/Documents/WebAhead/Project/eShop.uk",
      "filename": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/config.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/jake/Documents/WebAhead/Project/eShop.uk",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/config.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/config.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/",
        "sourceFileName": "config.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_dotenv.default.config();\n\nvar _default = {\n  MONGODB_URL: process.env.MONGODB_URL || 'mongodb://localhost/eshop',\n  JWT_SECRET: process.env.JWT_SECRET || 'anythingworks',\n  PAYPAL_CLIENT_ID: process.env.PAYPAL_CLIENT_ID || 'sb',\n  PORT: process.env.PORT || 5000\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZpZy5qcyJdLCJuYW1lcyI6WyJkb3RlbnYiLCJjb25maWciLCJNT05HT0RCX1VSTCIsInByb2Nlc3MiLCJlbnYiLCJKV1RfU0VDUkVUIiwiUEFZUEFMX0NMSUVOVF9JRCIsIlBPUlQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUVBQSxnQkFBT0MsTUFBUDs7ZUFFZTtBQUNYQyxFQUFBQSxXQUFXLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRixXQUFaLElBQTJCLDJCQUQ3QjtBQUVYRyxFQUFBQSxVQUFVLEVBQUVGLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxVQUFaLElBQTBCLGVBRjNCO0FBR1hDLEVBQUFBLGdCQUFnQixFQUFFSCxPQUFPLENBQUNDLEdBQVIsQ0FBWUUsZ0JBQVosSUFBZ0MsSUFIdkM7QUFJWEMsRUFBQUEsSUFBSSxFQUFFSixPQUFPLENBQUNDLEdBQVIsQ0FBWUcsSUFBWixJQUFvQjtBQUpmLEMiLCJzb3VyY2VSb290IjoiL2hvbWUvamFrZS9Eb2N1bWVudHMvV2ViQWhlYWQvUHJvamVjdC9lU2hvcC51ay9iYWNrZW5kLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBkb3RlbnYgZnJvbSAnZG90ZW52JztcblxuZG90ZW52LmNvbmZpZygpO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgTU9OR09EQl9VUkw6IHByb2Nlc3MuZW52Lk1PTkdPREJfVVJMIHx8ICdtb25nb2RiOi8vbG9jYWxob3N0L2VzaG9wJyxcbiAgICBKV1RfU0VDUkVUOiBwcm9jZXNzLmVudi5KV1RfU0VDUkVUIHx8ICdhbnl0aGluZ3dvcmtzJyxcbiAgICBQQVlQQUxfQ0xJRU5UX0lEOiBwcm9jZXNzLmVudi5QQVlQQUxfQ0xJRU5UX0lEIHx8ICdzYicsXG4gICAgUE9SVDogcHJvY2Vzcy5lbnYuUE9SVCB8fCA1MDAwXG59Il19",
    "map": {
      "version": 3,
      "sources": [
        "config.js"
      ],
      "names": [
        "dotenv",
        "config",
        "MONGODB_URL",
        "process",
        "env",
        "JWT_SECRET",
        "PAYPAL_CLIENT_ID",
        "PORT"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEAA,gBAAOC,MAAP;;eAEe;AACXC,EAAAA,WAAW,EAAEC,OAAO,CAACC,GAAR,CAAYF,WAAZ,IAA2B,2BAD7B;AAEXG,EAAAA,UAAU,EAAEF,OAAO,CAACC,GAAR,CAAYC,UAAZ,IAA0B,eAF3B;AAGXC,EAAAA,gBAAgB,EAAEH,OAAO,CAACC,GAAR,CAAYE,gBAAZ,IAAgC,IAHvC;AAIXC,EAAAA,IAAI,EAAEJ,OAAO,CAACC,GAAR,CAAYG,IAAZ,IAAoB;AAJf,C",
      "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/",
      "sourcesContent": [
        "import dotenv from 'dotenv';\n\ndotenv.config();\n\nexport default {\n    MONGODB_URL: process.env.MONGODB_URL || 'mongodb://localhost/eshop',\n    JWT_SECRET: process.env.JWT_SECRET || 'anythingworks',\n    PAYPAL_CLIENT_ID: process.env.PAYPAL_CLIENT_ID || 'sb',\n    PORT: process.env.PORT || 5000\n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1598374146093
  },
  "{\"sourceRoot\":\"/home/jake/Documents/WebAhead/Project/eShop.uk/backend/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jake/Documents/WebAhead/Project/eShop.uk\",\"filename\":\"/home/jake/Documents/WebAhead/Project/eShop.uk/backend/config.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jake/Documents/WebAhead/Project/eShop.uk\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.1": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/jake/Documents/WebAhead/Project/eShop.uk",
      "filename": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/config.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/jake/Documents/WebAhead/Project/eShop.uk",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/config.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/config.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/",
        "sourceFileName": "config.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_dotenv.default.config();\n\nvar _default = {\n  MONGODB_URL: process.env.MONGODB_URL || 'mongodb://localhost/eshop',\n  JWT_SECRET: process.env.JWT_SECRET || 'anythingworks',\n  PAYPAL_CLIENT_ID: process.env.PAYPAL_CLIENT_ID || 'sb',\n  PORT: process.env.PORT || 5000,\n  accessKeyId: process.env.accessKeyId || 'accessKeyId',\n  secretAccessKey: process.env.secretAccessKey || 'secretAccessKey'\n};\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbmZpZy5qcyJdLCJuYW1lcyI6WyJkb3RlbnYiLCJjb25maWciLCJNT05HT0RCX1VSTCIsInByb2Nlc3MiLCJlbnYiLCJKV1RfU0VDUkVUIiwiUEFZUEFMX0NMSUVOVF9JRCIsIlBPUlQiLCJhY2Nlc3NLZXlJZCIsInNlY3JldEFjY2Vzc0tleSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBRUFBLGdCQUFPQyxNQUFQOztlQUVlO0FBQ1hDLEVBQUFBLFdBQVcsRUFBRUMsT0FBTyxDQUFDQyxHQUFSLENBQVlGLFdBQVosSUFBMkIsMkJBRDdCO0FBRVhHLEVBQUFBLFVBQVUsRUFBRUYsT0FBTyxDQUFDQyxHQUFSLENBQVlDLFVBQVosSUFBMEIsZUFGM0I7QUFHWEMsRUFBQUEsZ0JBQWdCLEVBQUVILE9BQU8sQ0FBQ0MsR0FBUixDQUFZRSxnQkFBWixJQUFnQyxJQUh2QztBQUlYQyxFQUFBQSxJQUFJLEVBQUVKLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRyxJQUFaLElBQW9CLElBSmY7QUFLWEMsRUFBQUEsV0FBVyxFQUFFTCxPQUFPLENBQUNDLEdBQVIsQ0FBWUksV0FBWixJQUEyQixhQUw3QjtBQU1YQyxFQUFBQSxlQUFlLEVBQUVOLE9BQU8sQ0FBQ0MsR0FBUixDQUFZSyxlQUFaLElBQStCO0FBTnJDLEMiLCJzb3VyY2VSb290IjoiL2hvbWUvamFrZS9Eb2N1bWVudHMvV2ViQWhlYWQvUHJvamVjdC9lU2hvcC51ay9iYWNrZW5kLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBkb3RlbnYgZnJvbSAnZG90ZW52JztcblxuZG90ZW52LmNvbmZpZygpO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgTU9OR09EQl9VUkw6IHByb2Nlc3MuZW52Lk1PTkdPREJfVVJMIHx8ICdtb25nb2RiOi8vbG9jYWxob3N0L2VzaG9wJyxcbiAgICBKV1RfU0VDUkVUOiBwcm9jZXNzLmVudi5KV1RfU0VDUkVUIHx8ICdhbnl0aGluZ3dvcmtzJyxcbiAgICBQQVlQQUxfQ0xJRU5UX0lEOiBwcm9jZXNzLmVudi5QQVlQQUxfQ0xJRU5UX0lEIHx8ICdzYicsXG4gICAgUE9SVDogcHJvY2Vzcy5lbnYuUE9SVCB8fCA1MDAwLFxuICAgIGFjY2Vzc0tleUlkOiBwcm9jZXNzLmVudi5hY2Nlc3NLZXlJZCB8fCAnYWNjZXNzS2V5SWQnLFxuICAgIHNlY3JldEFjY2Vzc0tleTogcHJvY2Vzcy5lbnYuc2VjcmV0QWNjZXNzS2V5IHx8ICdzZWNyZXRBY2Nlc3NLZXknLFxufSJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "config.js"
      ],
      "names": [
        "dotenv",
        "config",
        "MONGODB_URL",
        "process",
        "env",
        "JWT_SECRET",
        "PAYPAL_CLIENT_ID",
        "PORT",
        "accessKeyId",
        "secretAccessKey"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEAA,gBAAOC,MAAP;;eAEe;AACXC,EAAAA,WAAW,EAAEC,OAAO,CAACC,GAAR,CAAYF,WAAZ,IAA2B,2BAD7B;AAEXG,EAAAA,UAAU,EAAEF,OAAO,CAACC,GAAR,CAAYC,UAAZ,IAA0B,eAF3B;AAGXC,EAAAA,gBAAgB,EAAEH,OAAO,CAACC,GAAR,CAAYE,gBAAZ,IAAgC,IAHvC;AAIXC,EAAAA,IAAI,EAAEJ,OAAO,CAACC,GAAR,CAAYG,IAAZ,IAAoB,IAJf;AAKXC,EAAAA,WAAW,EAAEL,OAAO,CAACC,GAAR,CAAYI,WAAZ,IAA2B,aAL7B;AAMXC,EAAAA,eAAe,EAAEN,OAAO,CAACC,GAAR,CAAYK,eAAZ,IAA+B;AANrC,C",
      "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/",
      "sourcesContent": [
        "import dotenv from 'dotenv';\n\ndotenv.config();\n\nexport default {\n    MONGODB_URL: process.env.MONGODB_URL || 'mongodb://localhost/eshop',\n    JWT_SECRET: process.env.JWT_SECRET || 'anythingworks',\n    PAYPAL_CLIENT_ID: process.env.PAYPAL_CLIENT_ID || 'sb',\n    PORT: process.env.PORT || 5000,\n    accessKeyId: process.env.accessKeyId || 'accessKeyId',\n    secretAccessKey: process.env.secretAccessKey || 'secretAccessKey',\n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1598698139808
  },
  "{\"sourceRoot\":\"/home/jake/Documents/WebAhead/Project/eShop.uk/backend/models/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jake/Documents/WebAhead/Project/eShop.uk\",\"filename\":\"/home/jake/Documents/WebAhead/Project/eShop.uk/backend/models/routes/userRoute.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jake/Documents/WebAhead/Project/eShop.uk\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.1": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/models/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/jake/Documents/WebAhead/Project/eShop.uk",
      "filename": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/models/routes/userRoute.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/jake/Documents/WebAhead/Project/eShop.uk",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/models/routes/userRoute.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/models/routes/userRoute.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/models/routes/",
        "sourceFileName": "userRoute.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _userModel = _interopRequireDefault(require(\"../models/userModel\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\nrouter.get(\"/api/users/createadmin\", async (req, res) => {\n  try {\n    const user = new _userModel.default({\n      name: 'Jake',\n      email: 'jakepowis@gmail.com',\n      password: \"1234\",\n      isAdmin: true\n    });\n    const newUser = await user.save();\n    res.send(user);\n  } catch (error) {\n    res.send({\n      msg: error.message\n    });\n  }\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJSb3V0ZS5qcyJdLCJuYW1lcyI6WyJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwiZ2V0IiwicmVxIiwicmVzIiwidXNlciIsIlVzZXIiLCJuYW1lIiwiZW1haWwiLCJwYXNzd29yZCIsImlzQWRtaW4iLCJuZXdVc2VyIiwic2F2ZSIsInNlbmQiLCJlcnJvciIsIm1zZyIsIm1lc3NhZ2UiXSwibWFwcGluZ3MiOiI7O0FBQUE7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxNQUFNLEdBQUdDLGlCQUFRQyxNQUFSLEVBQWY7O0FBRUFGLE1BQU0sQ0FBQ0csR0FBUCxDQUFXLHdCQUFYLEVBQXFDLE9BQU9DLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtBQUNyRCxNQUFJO0FBQ0EsVUFBTUMsSUFBSSxHQUFHLElBQUlDLGtCQUFKLENBQVM7QUFDbEJDLE1BQUFBLElBQUksRUFBRSxNQURZO0FBRWxCQyxNQUFBQSxLQUFLLEVBQUUscUJBRlc7QUFHbEJDLE1BQUFBLFFBQVEsRUFBRSxNQUhRO0FBSWxCQyxNQUFBQSxPQUFPLEVBQUU7QUFKUyxLQUFULENBQWI7QUFNQSxVQUFNQyxPQUFPLEdBQUcsTUFBTU4sSUFBSSxDQUFDTyxJQUFMLEVBQXRCO0FBQ0FSLElBQUFBLEdBQUcsQ0FBQ1MsSUFBSixDQUFTUixJQUFUO0FBRUgsR0FWRCxDQVVFLE9BQU9TLEtBQVAsRUFBYztBQUNaVixJQUFBQSxHQUFHLENBQUNTLElBQUosQ0FBUztBQUFFRSxNQUFBQSxHQUFHLEVBQUVELEtBQUssQ0FBQ0U7QUFBYixLQUFUO0FBQ0g7QUFDSixDQWREIiwic291cmNlUm9vdCI6Ii9ob21lL2pha2UvRG9jdW1lbnRzL1dlYkFoZWFkL1Byb2plY3QvZVNob3AudWsvYmFja2VuZC9tb2RlbHMvcm91dGVzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IFVzZXIgZnJvbSAnLi4vbW9kZWxzL3VzZXJNb2RlbCc7XG5cbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cbnJvdXRlci5nZXQoXCIvYXBpL3VzZXJzL2NyZWF0ZWFkbWluXCIsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHVzZXIgPSBuZXcgVXNlcih7XG4gICAgICAgICAgICBuYW1lOiAnSmFrZScsXG4gICAgICAgICAgICBlbWFpbDogJ2pha2Vwb3dpc0BnbWFpbC5jb20nLFxuICAgICAgICAgICAgcGFzc3dvcmQ6IFwiMTIzNFwiLFxuICAgICAgICAgICAgaXNBZG1pbjogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgbmV3VXNlciA9IGF3YWl0IHVzZXIuc2F2ZSgpO1xuICAgICAgICByZXMuc2VuZCh1c2VyKVxuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmVzLnNlbmQoeyBtc2c6IGVycm9yLm1lc3NhZ2UgfSlcbiAgICB9XG59KSJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "userRoute.js"
      ],
      "names": [
        "router",
        "express",
        "Router",
        "get",
        "req",
        "res",
        "user",
        "User",
        "name",
        "email",
        "password",
        "isAdmin",
        "newUser",
        "save",
        "send",
        "error",
        "msg",
        "message"
      ],
      "mappings": ";;AAAA;;AACA;;;;AAEA,MAAMA,MAAM,GAAGC,iBAAQC,MAAR,EAAf;;AAEAF,MAAM,CAACG,GAAP,CAAW,wBAAX,EAAqC,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACrD,MAAI;AACA,UAAMC,IAAI,GAAG,IAAIC,kBAAJ,CAAS;AAClBC,MAAAA,IAAI,EAAE,MADY;AAElBC,MAAAA,KAAK,EAAE,qBAFW;AAGlBC,MAAAA,QAAQ,EAAE,MAHQ;AAIlBC,MAAAA,OAAO,EAAE;AAJS,KAAT,CAAb;AAMA,UAAMC,OAAO,GAAG,MAAMN,IAAI,CAACO,IAAL,EAAtB;AACAR,IAAAA,GAAG,CAACS,IAAJ,CAASR,IAAT;AAEH,GAVD,CAUE,OAAOS,KAAP,EAAc;AACZV,IAAAA,GAAG,CAACS,IAAJ,CAAS;AAAEE,MAAAA,GAAG,EAAED,KAAK,CAACE;AAAb,KAAT;AACH;AACJ,CAdD",
      "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/models/routes/",
      "sourcesContent": [
        "import express from 'express';\nimport User from '../models/userModel';\n\nconst router = express.Router();\n\nrouter.get(\"/api/users/createadmin\", async (req, res) => {\n    try {\n        const user = new User({\n            name: 'Jake',\n            email: 'jakepowis@gmail.com',\n            password: \"1234\",\n            isAdmin: true\n        });\n        const newUser = await user.save();\n        res.send(user)\n\n    } catch (error) {\n        res.send({ msg: error.message })\n    }\n})"
      ]
    },
    "sourceType": "script",
    "mtime": 1597345494910
  },
  "{\"sourceRoot\":\"/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jake/Documents/WebAhead/Project/eShop.uk\",\"filename\":\"/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/userRoute.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jake/Documents/WebAhead/Project/eShop.uk\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.1": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/jake/Documents/WebAhead/Project/eShop.uk",
      "filename": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/userRoute.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/jake/Documents/WebAhead/Project/eShop.uk",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/userRoute.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/userRoute.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/",
        "sourceFileName": "userRoute.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _userModel = _interopRequireDefault(require(\"../models/userModel\"));\n\nvar _util = require(\"../util\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\nrouter.post('/register', async (req, res) => {\n  const user = new _userModel.default({\n    name: req.body.name,\n    email: req.body.email,\n    password: req.body.password\n  });\n  const newUser = await user.save();\n\n  if (newUser) {\n    res.send({\n      _id: newUser.id,\n      name: newUser.name,\n      email: newUser.email,\n      isAdmin: newUser.isAdmin,\n      token: (0, _util.getToken)(newUser)\n    });\n  } else {\n    res.status(401).send({\n      message: 'Invalid User Data.'\n    });\n  }\n});\nrouter.post('/signin', async (req, res) => {\n  console.log(\"sign in hit with body: \", req.body);\n  const signinUser = await _userModel.default.findOne({\n    email: req.body.email,\n    password: req.body.password\n  });\n\n  if (signinUser) {\n    res.send({\n      _id: signinUser.id,\n      name: signinUser.name,\n      email: signinUser.email,\n      isAdmin: signinUser.isAdmin,\n      token: (0, _util.getToken)(signinUser)\n    });\n  } else {\n    res.status(401).send({\n      message: 'Invalid Email or Password.'\n    });\n  }\n}); // UPDATE USER\n\nrouter.put('/:id', _util.isAuth, async (req, res) => {\n  const userId = req.params.id;\n  const user = await _userModel.default.findById(userId);\n\n  if (user) {\n    user.name = req.body.name || user.name;\n    user.email = req.body.email || user.email;\n    user.password = req.body.password || user.password;\n    const updatedUser = await user.save();\n    res.send({\n      _id: updatedUser.id,\n      name: updatedUser.name,\n      email: updatedUser.email,\n      isAdmin: updatedUser.isAdmin,\n      token: (0, _util.getToken)(updatedUser)\n    });\n  } else {\n    res.status(404).send({\n      message: 'User Not Found'\n    });\n  }\n});\nrouter.get(\"/createadmin\", async (req, res) => {\n  try {\n    const user = new _userModel.default({\n      name: 'Jake',\n      email: 'jakepowis@gmail.com',\n      password: \"1234\",\n      isAdmin: true\n    });\n    const newUser = await user.save();\n    res.send(user);\n  } catch (error) {\n    res.send({\n      msg: error.message\n    });\n  }\n});\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJSb3V0ZS5qcyJdLCJuYW1lcyI6WyJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwicG9zdCIsInJlcSIsInJlcyIsInVzZXIiLCJVc2VyIiwibmFtZSIsImJvZHkiLCJlbWFpbCIsInBhc3N3b3JkIiwibmV3VXNlciIsInNhdmUiLCJzZW5kIiwiX2lkIiwiaWQiLCJpc0FkbWluIiwidG9rZW4iLCJzdGF0dXMiLCJtZXNzYWdlIiwiY29uc29sZSIsImxvZyIsInNpZ25pblVzZXIiLCJmaW5kT25lIiwicHV0IiwiaXNBdXRoIiwidXNlcklkIiwicGFyYW1zIiwiZmluZEJ5SWQiLCJ1cGRhdGVkVXNlciIsImdldCIsImVycm9yIiwibXNnIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7Ozs7QUFHQSxNQUFNQSxNQUFNLEdBQUdDLGlCQUFRQyxNQUFSLEVBQWY7O0FBSUFGLE1BQU0sQ0FBQ0csSUFBUCxDQUFZLFdBQVosRUFBeUIsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQ3pDLFFBQU1DLElBQUksR0FBRyxJQUFJQyxrQkFBSixDQUFTO0FBQ2xCQyxJQUFBQSxJQUFJLEVBQUVKLEdBQUcsQ0FBQ0ssSUFBSixDQUFTRCxJQURHO0FBRWxCRSxJQUFBQSxLQUFLLEVBQUVOLEdBQUcsQ0FBQ0ssSUFBSixDQUFTQyxLQUZFO0FBR2xCQyxJQUFBQSxRQUFRLEVBQUVQLEdBQUcsQ0FBQ0ssSUFBSixDQUFTRTtBQUhELEdBQVQsQ0FBYjtBQUtBLFFBQU1DLE9BQU8sR0FBRyxNQUFNTixJQUFJLENBQUNPLElBQUwsRUFBdEI7O0FBRUEsTUFBSUQsT0FBSixFQUFhO0FBQ1RQLElBQUFBLEdBQUcsQ0FBQ1MsSUFBSixDQUFTO0FBQ0xDLE1BQUFBLEdBQUcsRUFBRUgsT0FBTyxDQUFDSSxFQURSO0FBRUxSLE1BQUFBLElBQUksRUFBRUksT0FBTyxDQUFDSixJQUZUO0FBR0xFLE1BQUFBLEtBQUssRUFBRUUsT0FBTyxDQUFDRixLQUhW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Y0FBWCxFQUEyQixPQUFPM0IsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQzNDLE1BQUk7QUFDQSxVQUFNQyxJQUFJLEdBQUcsSUFBSUMsa0JBQUosQ0FBUztBQUNsQkMsTUFBQUEsSUFBSSxFQUFFLE1BRFk7QUFFbEJFLE1BQUFBLEtBQUssRUFBRSxxQkFGVztBQUdsQkMsTUFBQUEsUUFBUSxFQUFFLE1BSFE7QUFJbEJNLE1BQUFBLE9BQU8sRUFBRTtBQUpTLEtBQVQsQ0FBYjtBQU1BLFVBQU1MLE9BQU8sR0FBRyxNQUFNTixJQUFJLENBQUNPLElBQUwsRUFBdEI7QUFDQVIsSUFBQUEsR0FBRyxDQUFDUyxJQUFKLENBQVNSLElBQVQ7QUFFSCxHQVZELENBVUUsT0FBTzBCLEtBQVAsRUFBYztBQUNaM0IsSUFBQUEsR0FBRyxDQUFDUyxJQUFKLENBQVM7QUFBRW1CLE1BQUFBLEdBQUcsRUFBRUQsS0FBSyxDQUFDWjtBQUFiLEtBQVQ7QUFDSDtBQUNKLENBZEQ7ZUFnQmVwQixNIiwic291cmNlUm9vdCI6Ii9ob21lL2pha2UvRG9jdW1lbnRzL1dlYkFoZWFkL1Byb2plY3QvZVNob3AudWsvYmFja2VuZC9yb3V0ZXMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgVXNlciBmcm9tICcuLi9tb2RlbHMvdXNlck1vZGVsJztcbmltcG9ydCB7IGdldFRva2VuLCBpc0F1dGggfSBmcm9tICcuLi91dGlsJztcblxuXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG5cblxucm91dGVyLnBvc3QoJy9yZWdpc3RlcicsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHVzZXIgPSBuZXcgVXNlcih7XG4gICAgICAgIG5hbWU6IHJlcS5ib2R5Lm5hbWUsXG4gICAgICAgIGVtYWlsOiByZXEuYm9keS5lbWFpbCxcbiAgICAgICAgcGFzc3dvcmQ6IHJlcS5ib2R5LnBhc3N3b3JkLFxuICAgIH0pO1xuICAgIGNvbnN0IG5ld1VzZXIgPSBhd2FpdCB1c2VyLnNhdmUoKTtcblxuICAgIGlmIChuZXdVc2VyKSB7XG4gICAgICAgIHJlcy5zZW5kKHtcbiAgICAgICAgICAgIF9pZDogbmV3VXNlci5pZCxcbiAgICAgICAgICAgIG5hbWU6IG5ld1VzZXIubmFtZSxcbiAgICAgICAgICAgIGVtYWlsOiBuZXdVc2VyLmVtYWlsLFxuICAgICAgICAgICAgaXNBZG1pbjogbmV3VXNlci5pc0FkbWluLFxuICAgICAgICAgICAgdG9rZW46IGdldFRva2VuKG5ld1VzZXIpLFxuICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7IG1lc3NhZ2U6ICdJbnZhbGlkIFVzZXIgRGF0YS4nIH0pO1xuICAgIH1cbn0pO1xuXG5cbnJvdXRlci5wb3N0KCcvc2lnbmluJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc29sZS5sb2coXCJzaWduIGluIGhpdCB3aXRoIGJvZHk6IFwiLCByZXEuYm9keSlcbiAgICBjb25zdCBzaWduaW5Vc2VyID0gYXdhaXQgVXNlci5maW5kT25lKHtcbiAgICAgICAgZW1haWw6IHJlcS5ib2R5LmVtYWlsLFxuICAgICAgICBwYXNzd29yZDogcmVxLmJvZHkucGFzc3dvcmRcbiAgICB9KVxuICAgIGlmIChzaWduaW5Vc2VyKSB7XG4gICAgICAgIHJlcy5zZW5kKHtcbiAgICAgICAgICAgIF9pZDogc2lnbmluVXNlci5pZCxcbiAgICAgICAgICAgIG5hbWU6IHNpZ25pblVzZXIubmFtZSxcbiAgICAgICAgICAgIGVtYWlsOiBzaWduaW5Vc2VyLmVtYWlsLFxuICAgICAgICAgICAgaXNBZG1pbjogc2lnbmluVXNlci5pc0FkbWluLFxuICAgICAgICAgICAgdG9rZW46IGdldFRva2VuKHNpZ25pblVzZXIpLFxuICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7IG1lc3NhZ2U6ICdJbnZhbGlkIEVtYWlsIG9yIFBhc3N3b3JkLicgfSk7XG4gICAgfVxufSlcblxuLy8gVVBEQVRFIFVTRVJcbnJvdXRlci5wdXQoJy86aWQnLCBpc0F1dGgsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHVzZXJJZCA9IHJlcS5wYXJhbXMuaWQ7XG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZEJ5SWQodXNlcklkKTtcbiAgICBpZiAodXNlcikge1xuICAgICAgICB1c2VyLm5hbWUgPSByZXEuYm9keS5uYW1lIHx8IHVzZXIubmFtZTtcbiAgICAgICAgdXNlci5lbWFpbCA9IHJlcS5ib2R5LmVtYWlsIHx8IHVzZXIuZW1haWw7XG4gICAgICAgIHVzZXIucGFzc3dvcmQgPSByZXEuYm9keS5wYXNzd29yZCB8fCB1c2VyLnBhc3N3b3JkO1xuICAgICAgICBjb25zdCB1cGRhdGVkVXNlciA9IGF3YWl0IHVzZXIuc2F2ZSgpO1xuICAgICAgICByZXMuc2VuZCh7XG4gICAgICAgICAgICBfaWQ6IHVwZGF0ZWRVc2VyLmlkLFxuICAgICAgICAgICAgbmFtZTogdXBkYXRlZFVzZXIubmFtZSxcbiAgICAgICAgICAgIGVtYWlsOiB1cGRhdGVkVXNlci5lbWFpbCxcbiAgICAgICAgICAgIGlzQWRtaW46IHVwZGF0ZWRVc2VyLmlzQWRtaW4sXG4gICAgICAgICAgICB0b2tlbjogZ2V0VG9rZW4odXBkYXRlZFVzZXIpLFxuICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IG1lc3NhZ2U6ICdVc2VyIE5vdCBGb3VuZCcgfSk7XG4gICAgfVxufSk7XG5cblxuXG5yb3V0ZXIuZ2V0KFwiL2NyZWF0ZWFkbWluXCIsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHVzZXIgPSBuZXcgVXNlcih7XG4gICAgICAgICAgICBuYW1lOiAnSmFrZScsXG4gICAgICAgICAgICBlbWFpbDogJ2pha2Vwb3dpc0BnbWFpbC5jb20nLFxuICAgICAgICAgICAgcGFzc3dvcmQ6IFwiMTIzNFwiLFxuICAgICAgICAgICAgaXNBZG1pbjogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgbmV3VXNlciA9IGF3YWl0IHVzZXIuc2F2ZSgpO1xuICAgICAgICByZXMuc2VuZCh1c2VyKVxuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmVzLnNlbmQoeyBtc2c6IGVycm9yLm1lc3NhZ2UgfSlcbiAgICB9XG59KVxuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il19",
    "map": {
      "version": 3,
      "sources": [
        "userRoute.js"
      ],
      "names": [
        "router",
        "express",
        "Router",
        "post",
        "req",
        "res",
        "user",
        "User",
        "name",
        "body",
        "email",
        "password",
        "newUser",
        "save",
        "send",
        "_id",
        "id",
        "isAdmin",
        "token",
        "status",
        "message",
        "console",
        "log",
        "signinUser",
        "findOne",
        "put",
        "isAuth",
        "userId",
        "params",
        "findById",
        "updatedUser",
        "get",
        "error",
        "msg"
      ],
      "mappings": "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",
      "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/",
      "sourcesContent": [
        "import express from 'express';\nimport User from '../models/userModel';\nimport { getToken, isAuth } from '../util';\n\n\nconst router = express.Router();\n\n\n\nrouter.post('/register', async (req, res) => {\n    const user = new User({\n        name: req.body.name,\n        email: req.body.email,\n        password: req.body.password,\n    });\n    const newUser = await user.save();\n\n    if (newUser) {\n        res.send({\n            _id: newUser.id,\n            name: newUser.name,\n            email: newUser.email,\n            isAdmin: newUser.isAdmin,\n            token: getToken(newUser),\n        });\n    } else {\n        res.status(401).send({ message: 'Invalid User Data.' });\n    }\n});\n\n\nrouter.post('/signin', async (req, res) => {\n    console.log(\"sign in hit with body: \", req.body)\n    const signinUser = await User.findOne({\n        email: req.body.email,\n        password: req.body.password\n    })\n    if (signinUser) {\n        res.send({\n            _id: signinUser.id,\n            name: signinUser.name,\n            email: signinUser.email,\n            isAdmin: signinUser.isAdmin,\n            token: getToken(signinUser),\n        });\n    } else {\n        res.status(401).send({ message: 'Invalid Email or Password.' });\n    }\n})\n\n// UPDATE USER\nrouter.put('/:id', isAuth, async (req, res) => {\n    const userId = req.params.id;\n    const user = await User.findById(userId);\n    if (user) {\n        user.name = req.body.name || user.name;\n        user.email = req.body.email || user.email;\n        user.password = req.body.password || user.password;\n        const updatedUser = await user.save();\n        res.send({\n            _id: updatedUser.id,\n            name: updatedUser.name,\n            email: updatedUser.email,\n            isAdmin: updatedUser.isAdmin,\n            token: getToken(updatedUser),\n        });\n    } else {\n        res.status(404).send({ message: 'User Not Found' });\n    }\n});\n\n\n\nrouter.get(\"/createadmin\", async (req, res) => {\n    try {\n        const user = new User({\n            name: 'Jake',\n            email: 'jakepowis@gmail.com',\n            password: \"1234\",\n            isAdmin: true\n        });\n        const newUser = await user.save();\n        res.send(user)\n\n    } catch (error) {\n        res.send({ msg: error.message })\n    }\n})\n\nexport default router;"
      ]
    },
    "sourceType": "script",
    "mtime": 1598294512052
  },
  "{\"sourceRoot\":\"/home/jake/Documents/WebAhead/Project/eShop.uk/backend/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jake/Documents/WebAhead/Project/eShop.uk\",\"filename\":\"/home/jake/Documents/WebAhead/Project/eShop.uk/backend/models/userModel.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jake/Documents/WebAhead/Project/eShop.uk\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.1": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/models/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/jake/Documents/WebAhead/Project/eShop.uk",
      "filename": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/models/userModel.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/jake/Documents/WebAhead/Project/eShop.uk",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/models/userModel.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/models/userModel.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/models/",
        "sourceFileName": "userModel.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst userSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  email: {\n    type: String,\n    required: true,\n    unique: true,\n    index: true,\n    dropDups: true\n  },\n  password: {\n    type: String,\n    required: true\n  },\n  isAdmin: {\n    type: Boolean,\n    required: true,\n    default: false\n  }\n}); //db name: Users & db schema: userSchema being added to model so when its created\n//it goes to mongodb URL and creates db there.\n\nconst userModel = _mongoose.default.model('User', userSchema);\n\nvar _default = userModel;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJNb2RlbC5qcyJdLCJuYW1lcyI6WyJ1c2VyU2NoZW1hIiwibW9uZ29vc2UiLCJTY2hlbWEiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwiZW1haWwiLCJ1bmlxdWUiLCJpbmRleCIsImRyb3BEdXBzIiwicGFzc3dvcmQiLCJpc0FkbWluIiwiQm9vbGVhbiIsImRlZmF1bHQiLCJ1c2VyTW9kZWwiLCJtb2RlbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBRUEsTUFBTUEsVUFBVSxHQUFHLElBQUlDLGtCQUFTQyxNQUFiLENBQW9CO0FBQ25DQyxFQUFBQSxJQUFJLEVBQUU7QUFBRUMsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUIsR0FENkI7QUFFbkNDLEVBQUFBLEtBQUssRUFBRTtBQUNISCxJQUFBQSxJQUFJLEVBQUVDLE1BREg7QUFDV0MsSUFBQUEsUUFBUSxFQUFFLElBRHJCO0FBQzJCRSxJQUFBQSxNQUFNLEVBQUUsSUFEbkM7QUFDeUNDLElBQUFBLEtBQUssRUFBRSxJQURoRDtBQUNzREMsSUFBQUEsUUFBUSxFQUFFO0FBRGhFLEdBRjRCO0FBS25DQyxFQUFBQSxRQUFRLEVBQUU7QUFBRVAsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUIsR0FMeUI7QUFNbkNNLEVBQUFBLE9BQU8sRUFBRTtBQUFFUixJQUFBQSxJQUFJLEVBQUVTLE9BQVI7QUFBaUJQLElBQUFBLFFBQVEsRUFBRSxJQUEzQjtBQUFpQ1EsSUFBQUEsT0FBTyxFQUFFO0FBQTFDO0FBTjBCLENBQXBCLENBQW5CLEMsQ0FTQTtBQUNBOztBQUVBLE1BQU1DLFNBQVMsR0FBR2Qsa0JBQVNlLEtBQVQsQ0FBZSxNQUFmLEVBQXVCaEIsVUFBdkIsQ0FBbEI7O2VBRWVlLFMiLCJzb3VyY2VSb290IjoiL2hvbWUvamFrZS9Eb2N1bWVudHMvV2ViQWhlYWQvUHJvamVjdC9lU2hvcC51ay9iYWNrZW5kL21vZGVscy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuXG5jb25zdCB1c2VyU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG4gICAgbmFtZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgZW1haWw6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSwgdW5pcXVlOiB0cnVlLCBpbmRleDogdHJ1ZSwgZHJvcER1cHM6IHRydWUsXG4gICAgfSxcbiAgICBwYXNzd29yZDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgaXNBZG1pbjogeyB0eXBlOiBCb29sZWFuLCByZXF1aXJlZDogdHJ1ZSwgZGVmYXVsdDogZmFsc2UgfSxcbn0pO1xuXG4vL2RiIG5hbWU6IFVzZXJzICYgZGIgc2NoZW1hOiB1c2VyU2NoZW1hIGJlaW5nIGFkZGVkIHRvIG1vZGVsIHNvIHdoZW4gaXRzIGNyZWF0ZWRcbi8vaXQgZ29lcyB0byBtb25nb2RiIFVSTCBhbmQgY3JlYXRlcyBkYiB0aGVyZS5cblxuY29uc3QgdXNlck1vZGVsID0gbW9uZ29vc2UubW9kZWwoJ1VzZXInLCB1c2VyU2NoZW1hKTtcblxuZXhwb3J0IGRlZmF1bHQgdXNlck1vZGVsOyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "userModel.js"
      ],
      "names": [
        "userSchema",
        "mongoose",
        "Schema",
        "name",
        "type",
        "String",
        "required",
        "email",
        "unique",
        "index",
        "dropDups",
        "password",
        "isAdmin",
        "Boolean",
        "default",
        "userModel",
        "model"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA,MAAMA,UAAU,GAAG,IAAIC,kBAASC,MAAb,CAAoB;AACnCC,EAAAA,IAAI,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAD6B;AAEnCC,EAAAA,KAAK,EAAE;AACHH,IAAAA,IAAI,EAAEC,MADH;AACWC,IAAAA,QAAQ,EAAE,IADrB;AAC2BE,IAAAA,MAAM,EAAE,IADnC;AACyCC,IAAAA,KAAK,EAAE,IADhD;AACsDC,IAAAA,QAAQ,EAAE;AADhE,GAF4B;AAKnCC,EAAAA,QAAQ,EAAE;AAAEP,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GALyB;AAMnCM,EAAAA,OAAO,EAAE;AAAER,IAAAA,IAAI,EAAES,OAAR;AAAiBP,IAAAA,QAAQ,EAAE,IAA3B;AAAiCQ,IAAAA,OAAO,EAAE;AAA1C;AAN0B,CAApB,CAAnB,C,CASA;AACA;;AAEA,MAAMC,SAAS,GAAGd,kBAASe,KAAT,CAAe,MAAf,EAAuBhB,UAAvB,CAAlB;;eAEee,S",
      "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/models/",
      "sourcesContent": [
        "import mongoose from 'mongoose';\n\nconst userSchema = new mongoose.Schema({\n    name: { type: String, required: true },\n    email: {\n        type: String, required: true, unique: true, index: true, dropDups: true,\n    },\n    password: { type: String, required: true },\n    isAdmin: { type: Boolean, required: true, default: false },\n});\n\n//db name: Users & db schema: userSchema being added to model so when its created\n//it goes to mongodb URL and creates db there.\n\nconst userModel = mongoose.model('User', userSchema);\n\nexport default userModel;"
      ]
    },
    "sourceType": "script",
    "mtime": 1597398647870
  },
  "{\"sourceRoot\":\"/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jake/Documents/WebAhead/Project/eShop.uk\",\"filename\":\"/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/userRoute.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jake/Documents/WebAhead/Project/eShop.uk\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.1": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/jake/Documents/WebAhead/Project/eShop.uk",
      "filename": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/userRoute.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/jake/Documents/WebAhead/Project/eShop.uk",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/userRoute.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/userRoute.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/",
        "sourceFileName": "userRoute.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _userModel = _interopRequireDefault(require(\"../models/userModel\"));\n\nvar _util = require(\"../util\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router();\n\nrouter.post('/register', async (req, res) => {\n  const user = new _userModel.default({\n    name: req.body.name,\n    email: req.body.email,\n    password: req.body.password\n  });\n  const newUser = await user.save();\n\n  if (newUser) {\n    res.send({\n      _id: newUser.id,\n      name: newUser.name,\n      email: newUser.email,\n      isAdmin: newUser.isAdmin,\n      token: (0, _util.getToken)(newUser)\n    });\n  } else {\n    res.status(401).send({\n      message: 'Invalid User Data.'\n    });\n  }\n});\nrouter.post('/signin', async (req, res) => {\n  console.log(\"sign in hit with body: \", req.body);\n  const signinUser = await _userModel.default.findOne({\n    email: req.body.email,\n    password: req.body.password\n  });\n\n  if (signinUser) {\n    res.send({\n      _id: signinUser.id,\n      name: signinUser.name,\n      email: signinUser.email,\n      isAdmin: signinUser.isAdmin,\n      token: (0, _util.getToken)(signinUser)\n    });\n  } else {\n    res.status(401).send({\n      message: 'Invalid Email or Password.'\n    });\n  }\n}); // UPDATE USER\n\nrouter.put('/:id', _util.isAuth, async (req, res) => {\n  const userId = req.params.id;\n  const user = await _userModel.default.findById(userId);\n\n  if (user) {\n    user.name = req.body.name || user.name;\n    user.email = req.body.email || user.email;\n    user.password = req.body.password || user.password;\n    const updatedUser = await user.save();\n    res.send({\n      _id: updatedUser.id,\n      name: updatedUser.name,\n      email: updatedUser.email,\n      isAdmin: updatedUser.isAdmin,\n      token: (0, _util.getToken)(updatedUser)\n    });\n  } else {\n    res.status(404).send({\n      message: 'User Not Found'\n    });\n  }\n});\nrouter.get(\"/createadmin\", async (req, res) => {\n  try {\n    const user = new _userModel.default({\n      name: 'Jake',\n      email: 'jakepowis@gmail.com',\n      password: \"1234\",\n      isAdmin: true\n    });\n    const newUser = await user.save();\n    res.send(user);\n  } catch (error) {\n    res.send({\n      msg: error.message\n    });\n  }\n});\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJSb3V0ZS5qcyJdLCJuYW1lcyI6WyJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwicG9zdCIsInJlcSIsInJlcyIsInVzZXIiLCJVc2VyIiwibmFtZSIsImJvZHkiLCJlbWFpbCIsInBhc3N3b3JkIiwibmV3VXNlciIsInNhdmUiLCJzZW5kIiwiX2lkIiwiaWQiLCJpc0FkbWluIiwidG9rZW4iLCJzdGF0dXMiLCJtZXNzYWdlIiwiY29uc29sZSIsImxvZyIsInNpZ25pblVzZXIiLCJmaW5kT25lIiwicHV0IiwiaXNBdXRoIiwidXNlcklkIiwicGFyYW1zIiwiZmluZEJ5SWQiLCJ1cGRhdGVkVXNlciIsImdldCIsImVycm9yIiwibXNnIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7Ozs7QUFHQSxNQUFNQSxNQUFNLEdBQUdDLGlCQUFRQyxNQUFSLEVBQWY7O0FBSUFGLE1BQU0sQ0FBQ0csSUFBUCxDQUFZLFdBQVosRUFBeUIsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQ3pDLFFBQU1DLElBQUksR0FBRyxJQUFJQyxrQkFBSixDQUFTO0FBQ2xCQyxJQUFBQSxJQUFJLEVBQUVKLEdBQUcsQ0FBQ0ssSUFBSixDQUFTRCxJQURHO0FBRWxCRSxJQUFBQSxLQUFLLEVBQUVOLEdBQUcsQ0FBQ0ssSUFBSixDQUFTQyxLQUZFO0FBR2xCQyxJQUFBQSxRQUFRLEVBQUVQLEdBQUcsQ0FBQ0ssSUFBSixDQUFTRTtBQUhELEdBQVQsQ0FBYjtBQUtBLFFBQU1DLE9BQU8sR0FBRyxNQUFNTixJQUFJLENBQUNPLElBQUwsRUFBdEI7O0FBRUEsTUFBSUQsT0FBSixFQUFhO0FBQ1RQLElBQUFBLEdBQUcsQ0FBQ1MsSUFBSixDQUFTO0FBQ0xDLE1BQUFBLEdBQUcsRUFBRUgsT0FBTyxDQUFDSSxFQURSO0FBRUxSLE1BQUFBLElBQUksRUFBRUksT0FBTyxDQUFDSixJQUZUO0FBR0xFLE1BQUFBLEtBQUssRUFBRUUsT0FBTyxDQUFDRixLQUhW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Y0FBWCxFQUEyQixPQUFPM0IsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQzNDLE1BQUk7QUFDQSxVQUFNQyxJQUFJLEdBQUcsSUFBSUMsa0JBQUosQ0FBUztBQUNsQkMsTUFBQUEsSUFBSSxFQUFFLE1BRFk7QUFFbEJFLE1BQUFBLEtBQUssRUFBRSxxQkFGVztBQUdsQkMsTUFBQUEsUUFBUSxFQUFFLE1BSFE7QUFJbEJNLE1BQUFBLE9BQU8sRUFBRTtBQUpTLEtBQVQsQ0FBYjtBQU1BLFVBQU1MLE9BQU8sR0FBRyxNQUFNTixJQUFJLENBQUNPLElBQUwsRUFBdEI7QUFDQVIsSUFBQUEsR0FBRyxDQUFDUyxJQUFKLENBQVNSLElBQVQ7QUFFSCxHQVZELENBVUUsT0FBTzBCLEtBQVAsRUFBYztBQUNaM0IsSUFBQUEsR0FBRyxDQUFDUyxJQUFKLENBQVM7QUFBRW1CLE1BQUFBLEdBQUcsRUFBRUQsS0FBSyxDQUFDWjtBQUFiLEtBQVQ7QUFDSDtBQUNKLENBZEQ7ZUFnQmVwQixNIiwic291cmNlUm9vdCI6Ii9ob21lL2pha2UvRG9jdW1lbnRzL1dlYkFoZWFkL1Byb2plY3QvZVNob3AudWsvYmFja2VuZC9yb3V0ZXMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSAnZXhwcmVzcyc7XG5pbXBvcnQgVXNlciBmcm9tICcuLi9tb2RlbHMvdXNlck1vZGVsJztcbmltcG9ydCB7IGdldFRva2VuLCBpc0F1dGggfSBmcm9tICcuLi91dGlsJztcblxuXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG5cblxucm91dGVyLnBvc3QoJy9yZWdpc3RlcicsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHVzZXIgPSBuZXcgVXNlcih7XG4gICAgICAgIG5hbWU6IHJlcS5ib2R5Lm5hbWUsXG4gICAgICAgIGVtYWlsOiByZXEuYm9keS5lbWFpbCxcbiAgICAgICAgcGFzc3dvcmQ6IHJlcS5ib2R5LnBhc3N3b3JkLFxuICAgIH0pO1xuICAgIGNvbnN0IG5ld1VzZXIgPSBhd2FpdCB1c2VyLnNhdmUoKTtcblxuICAgIGlmIChuZXdVc2VyKSB7XG4gICAgICAgIHJlcy5zZW5kKHtcbiAgICAgICAgICAgIF9pZDogbmV3VXNlci5pZCxcbiAgICAgICAgICAgIG5hbWU6IG5ld1VzZXIubmFtZSxcbiAgICAgICAgICAgIGVtYWlsOiBuZXdVc2VyLmVtYWlsLFxuICAgICAgICAgICAgaXNBZG1pbjogbmV3VXNlci5pc0FkbWluLFxuICAgICAgICAgICAgdG9rZW46IGdldFRva2VuKG5ld1VzZXIpLFxuICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7IG1lc3NhZ2U6ICdJbnZhbGlkIFVzZXIgRGF0YS4nIH0pO1xuICAgIH1cbn0pO1xuXG5cbnJvdXRlci5wb3N0KCcvc2lnbmluJywgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc29sZS5sb2coXCJzaWduIGluIGhpdCB3aXRoIGJvZHk6IFwiLCByZXEuYm9keSlcbiAgICBjb25zdCBzaWduaW5Vc2VyID0gYXdhaXQgVXNlci5maW5kT25lKHtcbiAgICAgICAgZW1haWw6IHJlcS5ib2R5LmVtYWlsLFxuICAgICAgICBwYXNzd29yZDogcmVxLmJvZHkucGFzc3dvcmRcbiAgICB9KVxuICAgIGlmIChzaWduaW5Vc2VyKSB7XG4gICAgICAgIHJlcy5zZW5kKHtcbiAgICAgICAgICAgIF9pZDogc2lnbmluVXNlci5pZCxcbiAgICAgICAgICAgIG5hbWU6IHNpZ25pblVzZXIubmFtZSxcbiAgICAgICAgICAgIGVtYWlsOiBzaWduaW5Vc2VyLmVtYWlsLFxuICAgICAgICAgICAgaXNBZG1pbjogc2lnbmluVXNlci5pc0FkbWluLFxuICAgICAgICAgICAgdG9rZW46IGdldFRva2VuKHNpZ25pblVzZXIpLFxuICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXMuc3RhdHVzKDQwMSkuc2VuZCh7IG1lc3NhZ2U6ICdJbnZhbGlkIEVtYWlsIG9yIFBhc3N3b3JkLicgfSk7XG4gICAgfVxufSlcblxuLy8gVVBEQVRFIFVTRVJcbnJvdXRlci5wdXQoJy86aWQnLCBpc0F1dGgsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHVzZXJJZCA9IHJlcS5wYXJhbXMuaWQ7XG4gICAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZEJ5SWQodXNlcklkKTtcbiAgICBpZiAodXNlcikge1xuICAgICAgICB1c2VyLm5hbWUgPSByZXEuYm9keS5uYW1lIHx8IHVzZXIubmFtZTtcbiAgICAgICAgdXNlci5lbWFpbCA9IHJlcS5ib2R5LmVtYWlsIHx8IHVzZXIuZW1haWw7XG4gICAgICAgIHVzZXIucGFzc3dvcmQgPSByZXEuYm9keS5wYXNzd29yZCB8fCB1c2VyLnBhc3N3b3JkO1xuICAgICAgICBjb25zdCB1cGRhdGVkVXNlciA9IGF3YWl0IHVzZXIuc2F2ZSgpO1xuICAgICAgICByZXMuc2VuZCh7XG4gICAgICAgICAgICBfaWQ6IHVwZGF0ZWRVc2VyLmlkLFxuICAgICAgICAgICAgbmFtZTogdXBkYXRlZFVzZXIubmFtZSxcbiAgICAgICAgICAgIGVtYWlsOiB1cGRhdGVkVXNlci5lbWFpbCxcbiAgICAgICAgICAgIGlzQWRtaW46IHVwZGF0ZWRVc2VyLmlzQWRtaW4sXG4gICAgICAgICAgICB0b2tlbjogZ2V0VG9rZW4odXBkYXRlZFVzZXIpLFxuICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IG1lc3NhZ2U6ICdVc2VyIE5vdCBGb3VuZCcgfSk7XG4gICAgfVxufSk7XG5cblxuXG5yb3V0ZXIuZ2V0KFwiL2NyZWF0ZWFkbWluXCIsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHVzZXIgPSBuZXcgVXNlcih7XG4gICAgICAgICAgICBuYW1lOiAnSmFrZScsXG4gICAgICAgICAgICBlbWFpbDogJ2pha2Vwb3dpc0BnbWFpbC5jb20nLFxuICAgICAgICAgICAgcGFzc3dvcmQ6IFwiMTIzNFwiLFxuICAgICAgICAgICAgaXNBZG1pbjogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgbmV3VXNlciA9IGF3YWl0IHVzZXIuc2F2ZSgpO1xuICAgICAgICByZXMuc2VuZCh1c2VyKVxuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmVzLnNlbmQoeyBtc2c6IGVycm9yLm1lc3NhZ2UgfSlcbiAgICB9XG59KVxuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il19",
    "map": {
      "version": 3,
      "sources": [
        "userRoute.js"
      ],
      "names": [
        "router",
        "express",
        "Router",
        "post",
        "req",
        "res",
        "user",
        "User",
        "name",
        "body",
        "email",
        "password",
        "newUser",
        "save",
        "send",
        "_id",
        "id",
        "isAdmin",
        "token",
        "status",
        "message",
        "console",
        "log",
        "signinUser",
        "findOne",
        "put",
        "isAuth",
        "userId",
        "params",
        "findById",
        "updatedUser",
        "get",
        "error",
        "msg"
      ],
      "mappings": "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",
      "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/",
      "sourcesContent": [
        "import express from 'express';\nimport User from '../models/userModel';\nimport { getToken, isAuth } from '../util';\n\n\nconst router = express.Router();\n\n\n\nrouter.post('/register', async (req, res) => {\n    const user = new User({\n        name: req.body.name,\n        email: req.body.email,\n        password: req.body.password,\n    });\n    const newUser = await user.save();\n\n    if (newUser) {\n        res.send({\n            _id: newUser.id,\n            name: newUser.name,\n            email: newUser.email,\n            isAdmin: newUser.isAdmin,\n            token: getToken(newUser),\n        });\n    } else {\n        res.status(401).send({ message: 'Invalid User Data.' });\n    }\n});\n\n\nrouter.post('/signin', async (req, res) => {\n    console.log(\"sign in hit with body: \", req.body)\n    const signinUser = await User.findOne({\n        email: req.body.email,\n        password: req.body.password\n    })\n    if (signinUser) {\n        res.send({\n            _id: signinUser.id,\n            name: signinUser.name,\n            email: signinUser.email,\n            isAdmin: signinUser.isAdmin,\n            token: getToken(signinUser),\n        });\n    } else {\n        res.status(401).send({ message: 'Invalid Email or Password.' });\n    }\n})\n\n// UPDATE USER\nrouter.put('/:id', isAuth, async (req, res) => {\n    const userId = req.params.id;\n    const user = await User.findById(userId);\n    if (user) {\n        user.name = req.body.name || user.name;\n        user.email = req.body.email || user.email;\n        user.password = req.body.password || user.password;\n        const updatedUser = await user.save();\n        res.send({\n            _id: updatedUser.id,\n            name: updatedUser.name,\n            email: updatedUser.email,\n            isAdmin: updatedUser.isAdmin,\n            token: getToken(updatedUser),\n        });\n    } else {\n        res.status(404).send({ message: 'User Not Found' });\n    }\n});\n\n\n\nrouter.get(\"/createadmin\", async (req, res) => {\n    try {\n        const user = new User({\n            name: 'Jake',\n            email: 'jakepowis@gmail.com',\n            password: \"1234\",\n            isAdmin: true\n        });\n        const newUser = await user.save();\n        res.send(user)\n\n    } catch (error) {\n        res.send({ msg: error.message })\n    }\n})\n\nexport default router;"
      ]
    },
    "sourceType": "script",
    "mtime": 1598294512052
  },
  "{\"sourceRoot\":\"/home/jake/Documents/WebAhead/Project/eShop.uk/backend/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jake/Documents/WebAhead/Project/eShop.uk\",\"filename\":\"/home/jake/Documents/WebAhead/Project/eShop.uk/backend/models/userModel.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jake/Documents/WebAhead/Project/eShop.uk\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.1": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/models/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/jake/Documents/WebAhead/Project/eShop.uk",
      "filename": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/models/userModel.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/jake/Documents/WebAhead/Project/eShop.uk",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/models/userModel.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/models/userModel.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/models/",
        "sourceFileName": "userModel.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst userSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  email: {\n    type: String,\n    required: true,\n    unique: true,\n    index: true,\n    dropDups: true\n  },\n  password: {\n    type: String,\n    required: true\n  },\n  isAdmin: {\n    type: Boolean,\n    required: true,\n    default: false\n  }\n}); //db name: Users & db schema: userSchema being added to model so when its created\n//it goes to mongodb URL and creates db there.\n\nconst userModel = _mongoose.default.model('User', userSchema);\n\nvar _default = userModel;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJNb2RlbC5qcyJdLCJuYW1lcyI6WyJ1c2VyU2NoZW1hIiwibW9uZ29vc2UiLCJTY2hlbWEiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwiZW1haWwiLCJ1bmlxdWUiLCJpbmRleCIsImRyb3BEdXBzIiwicGFzc3dvcmQiLCJpc0FkbWluIiwiQm9vbGVhbiIsImRlZmF1bHQiLCJ1c2VyTW9kZWwiLCJtb2RlbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBRUEsTUFBTUEsVUFBVSxHQUFHLElBQUlDLGtCQUFTQyxNQUFiLENBQW9CO0FBQ25DQyxFQUFBQSxJQUFJLEVBQUU7QUFBRUMsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUIsR0FENkI7QUFFbkNDLEVBQUFBLEtBQUssRUFBRTtBQUNISCxJQUFBQSxJQUFJLEVBQUVDLE1BREg7QUFDV0MsSUFBQUEsUUFBUSxFQUFFLElBRHJCO0FBQzJCRSxJQUFBQSxNQUFNLEVBQUUsSUFEbkM7QUFDeUNDLElBQUFBLEtBQUssRUFBRSxJQURoRDtBQUNzREMsSUFBQUEsUUFBUSxFQUFFO0FBRGhFLEdBRjRCO0FBS25DQyxFQUFBQSxRQUFRLEVBQUU7QUFBRVAsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUIsR0FMeUI7QUFNbkNNLEVBQUFBLE9BQU8sRUFBRTtBQUFFUixJQUFBQSxJQUFJLEVBQUVTLE9BQVI7QUFBaUJQLElBQUFBLFFBQVEsRUFBRSxJQUEzQjtBQUFpQ1EsSUFBQUEsT0FBTyxFQUFFO0FBQTFDO0FBTjBCLENBQXBCLENBQW5CLEMsQ0FTQTtBQUNBOztBQUVBLE1BQU1DLFNBQVMsR0FBR2Qsa0JBQVNlLEtBQVQsQ0FBZSxNQUFmLEVBQXVCaEIsVUFBdkIsQ0FBbEI7O2VBRWVlLFMiLCJzb3VyY2VSb290IjoiL2hvbWUvamFrZS9Eb2N1bWVudHMvV2ViQWhlYWQvUHJvamVjdC9lU2hvcC51ay9iYWNrZW5kL21vZGVscy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuXG5jb25zdCB1c2VyU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG4gICAgbmFtZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgZW1haWw6IHtcbiAgICAgICAgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSwgdW5pcXVlOiB0cnVlLCBpbmRleDogdHJ1ZSwgZHJvcER1cHM6IHRydWUsXG4gICAgfSxcbiAgICBwYXNzd29yZDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgaXNBZG1pbjogeyB0eXBlOiBCb29sZWFuLCByZXF1aXJlZDogdHJ1ZSwgZGVmYXVsdDogZmFsc2UgfSxcbn0pO1xuXG4vL2RiIG5hbWU6IFVzZXJzICYgZGIgc2NoZW1hOiB1c2VyU2NoZW1hIGJlaW5nIGFkZGVkIHRvIG1vZGVsIHNvIHdoZW4gaXRzIGNyZWF0ZWRcbi8vaXQgZ29lcyB0byBtb25nb2RiIFVSTCBhbmQgY3JlYXRlcyBkYiB0aGVyZS5cblxuY29uc3QgdXNlck1vZGVsID0gbW9uZ29vc2UubW9kZWwoJ1VzZXInLCB1c2VyU2NoZW1hKTtcblxuZXhwb3J0IGRlZmF1bHQgdXNlck1vZGVsOyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "userModel.js"
      ],
      "names": [
        "userSchema",
        "mongoose",
        "Schema",
        "name",
        "type",
        "String",
        "required",
        "email",
        "unique",
        "index",
        "dropDups",
        "password",
        "isAdmin",
        "Boolean",
        "default",
        "userModel",
        "model"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA,MAAMA,UAAU,GAAG,IAAIC,kBAASC,MAAb,CAAoB;AACnCC,EAAAA,IAAI,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAD6B;AAEnCC,EAAAA,KAAK,EAAE;AACHH,IAAAA,IAAI,EAAEC,MADH;AACWC,IAAAA,QAAQ,EAAE,IADrB;AAC2BE,IAAAA,MAAM,EAAE,IADnC;AACyCC,IAAAA,KAAK,EAAE,IADhD;AACsDC,IAAAA,QAAQ,EAAE;AADhE,GAF4B;AAKnCC,EAAAA,QAAQ,EAAE;AAAEP,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GALyB;AAMnCM,EAAAA,OAAO,EAAE;AAAER,IAAAA,IAAI,EAAES,OAAR;AAAiBP,IAAAA,QAAQ,EAAE,IAA3B;AAAiCQ,IAAAA,OAAO,EAAE;AAA1C;AAN0B,CAApB,CAAnB,C,CASA;AACA;;AAEA,MAAMC,SAAS,GAAGd,kBAASe,KAAT,CAAe,MAAf,EAAuBhB,UAAvB,CAAlB;;eAEee,S",
      "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/models/",
      "sourcesContent": [
        "import mongoose from 'mongoose';\n\nconst userSchema = new mongoose.Schema({\n    name: { type: String, required: true },\n    email: {\n        type: String, required: true, unique: true, index: true, dropDups: true,\n    },\n    password: { type: String, required: true },\n    isAdmin: { type: Boolean, required: true, default: false },\n});\n\n//db name: Users & db schema: userSchema being added to model so when its created\n//it goes to mongodb URL and creates db there.\n\nconst userModel = mongoose.model('User', userSchema);\n\nexport default userModel;"
      ]
    },
    "sourceType": "script",
    "mtime": 1597398647870
  },
  "{\"sourceRoot\":\"/home/jake/Documents/WebAhead/Project/eShop.uk/backend/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jake/Documents/WebAhead/Project/eShop.uk\",\"filename\":\"/home/jake/Documents/WebAhead/Project/eShop.uk/backend/util.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jake/Documents/WebAhead/Project/eShop.uk\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.1": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/jake/Documents/WebAhead/Project/eShop.uk",
      "filename": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/util.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/jake/Documents/WebAhead/Project/eShop.uk",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/util.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/util.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/",
        "sourceFileName": "util.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isAdmin = exports.isAuth = exports.getToken = void 0;\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nvar _config = _interopRequireDefault(require(\"./config\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst getToken = user => {\n  return _jsonwebtoken.default.sign({\n    _id: user._id,\n    name: user.name,\n    email: user.email,\n    isAdmin: user.isAdmin\n  }, _config.default.JWT_SECRET, {\n    expiresIn: '48h'\n  });\n};\n\nexports.getToken = getToken;\n\nconst isAuth = (req, res, next) => {\n  const token = req.headers.authorization;\n\n  if (token) {\n    const onlyToken = token.slice(7, token.length);\n\n    _jsonwebtoken.default.verify(onlyToken, _config.default.JWT_SECRET, (err, decode) => {\n      if (err) {\n        return res.status(401).send({\n          message: 'Invalid Token'\n        });\n      }\n\n      req.user = decode;\n      next();\n      return;\n    });\n  } else {\n    return res.status(401).send({\n      message: 'Token is not supplied.'\n    });\n  }\n};\n\nexports.isAuth = isAuth;\n\nconst isAdmin = (req, res, next) => {\n  console.log(req.user);\n\n  if (req.user && req.user.isAdmin) {\n    return next();\n  }\n\n  return res.status(401).send({\n    message: 'Admin Token is not valid.'\n  });\n};\n\nexports.isAdmin = isAdmin;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInV0aWwuanMiXSwibmFtZXMiOlsiZ2V0VG9rZW4iLCJ1c2VyIiwiand0Iiwic2lnbiIsIl9pZCIsIm5hbWUiLCJlbWFpbCIsImlzQWRtaW4iLCJjb25maWciLCJKV1RfU0VDUkVUIiwiZXhwaXJlc0luIiwiaXNBdXRoIiwicmVxIiwicmVzIiwibmV4dCIsInRva2VuIiwiaGVhZGVycyIsImF1dGhvcml6YXRpb24iLCJvbmx5VG9rZW4iLCJzbGljZSIsImxlbmd0aCIsInZlcmlmeSIsImVyciIsImRlY29kZSIsInN0YXR1cyIsInNlbmQiLCJtZXNzYWdlIiwiY29uc29sZSIsImxvZyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOzs7O0FBRUEsTUFBTUEsUUFBUSxHQUFJQyxJQUFELElBQVU7QUFDdkIsU0FBT0Msc0JBQUlDLElBQUosQ0FDSDtBQUNJQyxJQUFBQSxHQUFHLEVBQUVILElBQUksQ0FBQ0csR0FEZDtBQUVJQyxJQUFBQSxJQUFJLEVBQUVKLElBQUksQ0FBQ0ksSUFGZjtBQUdJQyxJQUFBQSxLQUFLLEVBQUVMLElBQUksQ0FBQ0ssS0FIaEI7QUFJSUMsSUFBQUEsT0FBTyxFQUFFTixJQUFJLENBQUNNO0FBSmxCLEdBREcsRUFPSEMsZ0JBQU9DLFVBUEosRUFRSDtBQUNJQyxJQUFBQSxTQUFTLEVBQUU7QUFEZixHQVJHLENBQVA7QUFXSCxDQVpEOzs7O0FBZUEsTUFBTUMsTUFBTSxHQUFHLENBQUNDLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEtBQW9CO0FBQy9CLFFBQU1DLEtBQUssR0FBR0gsR0FBRyxDQUFDSSxPQUFKLENBQVlDLGFBQTFCOztBQUNBLE1BQUlGLEtBQUosRUFBVztBQUNQLFVBQU1HLFNBQVMsR0FBR0gsS0FBSyxDQUFDSSxLQUFOLENBQVksQ0FBWixFQUFlSixLQUFLLENBQUNLLE1BQXJCLENBQWxCOztBQUNBbEIsMEJBQUltQixNQUFKLENBQVdILFNBQVgsRUFBc0JWLGdCQUFPQyxVQUE3QixFQUF5QyxDQUFDYSxHQUFELEVBQU1DLE1BQU4sS0FBaUI7QUFDdEQsVUFBSUQsR0FBSixFQUFTO0FBQ0wsZUFBT1QsR0FBRyxDQUFDVyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRUMsVUFBQUEsT0FBTyxFQUFFO0FBQVgsU0FBckIsQ0FBUDtBQUNIOztBQUNEZCxNQUFBQSxHQUFHLENBQUNYLElBQUosR0FBV3NCLE1BQVg7QUFDQVQsTUFBQUEsSUFBSTtBQUNKO0FBQ0gsS0FQRDtBQVFILEdBVkQsTUFVTztBQUNILFdBQU9ELEdBQUcsQ0FBQ1csTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVDLE1BQUFBLE9BQU8sRUFBRTtBQUFYLEtBQXJCLENBQVA7QUFDSDtBQUNKLENBZkQ7Ozs7QUFrQkEsTUFBTW5CLE9BQU8sR0FBRyxDQUFDSyxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUNoQ2EsRUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVloQixHQUFHLENBQUNYLElBQWhCOztBQUNBLE1BQUlXLEdBQUcsQ0FBQ1gsSUFBSixJQUFZVyxHQUFHLENBQUNYLElBQUosQ0FBU00sT0FBekIsRUFBa0M7QUFDOUIsV0FBT08sSUFBSSxFQUFYO0FBQ0g7O0FBQ0QsU0FBT0QsR0FBRyxDQUFDVyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRUMsSUFBQUEsT0FBTyxFQUFFO0FBQVgsR0FBckIsQ0FBUDtBQUNILENBTkQiLCJzb3VyY2VSb290IjoiL2hvbWUvamFrZS9Eb2N1bWVudHMvV2ViQWhlYWQvUHJvamVjdC9lU2hvcC51ay9iYWNrZW5kLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJ1xuaW1wb3J0IGNvbmZpZyBmcm9tICcuL2NvbmZpZydcblxuY29uc3QgZ2V0VG9rZW4gPSAodXNlcikgPT4ge1xuICAgIHJldHVybiBqd3Quc2lnbihcbiAgICAgICAge1xuICAgICAgICAgICAgX2lkOiB1c2VyLl9pZCxcbiAgICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgICAgICAgaXNBZG1pbjogdXNlci5pc0FkbWluXG4gICAgICAgIH0sXG4gICAgICAgIGNvbmZpZy5KV1RfU0VDUkVULFxuICAgICAgICB7XG4gICAgICAgICAgICBleHBpcmVzSW46ICc0OGgnXG4gICAgICAgIH0pXG59XG5cblxuY29uc3QgaXNBdXRoID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgY29uc3QgdG9rZW4gPSByZXEuaGVhZGVycy5hdXRob3JpemF0aW9uO1xuICAgIGlmICh0b2tlbikge1xuICAgICAgICBjb25zdCBvbmx5VG9rZW4gPSB0b2tlbi5zbGljZSg3LCB0b2tlbi5sZW5ndGgpO1xuICAgICAgICBqd3QudmVyaWZ5KG9ubHlUb2tlbiwgY29uZmlnLkpXVF9TRUNSRVQsIChlcnIsIGRlY29kZSkgPT4ge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuc2VuZCh7IG1lc3NhZ2U6ICdJbnZhbGlkIFRva2VuJyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlcS51c2VyID0gZGVjb2RlO1xuICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLnNlbmQoeyBtZXNzYWdlOiAnVG9rZW4gaXMgbm90IHN1cHBsaWVkLicgfSk7XG4gICAgfVxufTtcblxuXG5jb25zdCBpc0FkbWluID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgY29uc29sZS5sb2cocmVxLnVzZXIpO1xuICAgIGlmIChyZXEudXNlciAmJiByZXEudXNlci5pc0FkbWluKSB7XG4gICAgICAgIHJldHVybiBuZXh0KCk7XG4gICAgfVxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuc2VuZCh7IG1lc3NhZ2U6ICdBZG1pbiBUb2tlbiBpcyBub3QgdmFsaWQuJyB9KTtcbn07XG5cblxuZXhwb3J0IHtcbiAgICBnZXRUb2tlbixcbiAgICBpc0F1dGgsXG4gICAgaXNBZG1pblxufSJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "util.js"
      ],
      "names": [
        "getToken",
        "user",
        "jwt",
        "sign",
        "_id",
        "name",
        "email",
        "isAdmin",
        "config",
        "JWT_SECRET",
        "expiresIn",
        "isAuth",
        "req",
        "res",
        "next",
        "token",
        "headers",
        "authorization",
        "onlyToken",
        "slice",
        "length",
        "verify",
        "err",
        "decode",
        "status",
        "send",
        "message",
        "console",
        "log"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;AAEA,MAAMA,QAAQ,GAAIC,IAAD,IAAU;AACvB,SAAOC,sBAAIC,IAAJ,CACH;AACIC,IAAAA,GAAG,EAAEH,IAAI,CAACG,GADd;AAEIC,IAAAA,IAAI,EAAEJ,IAAI,CAACI,IAFf;AAGIC,IAAAA,KAAK,EAAEL,IAAI,CAACK,KAHhB;AAIIC,IAAAA,OAAO,EAAEN,IAAI,CAACM;AAJlB,GADG,EAOHC,gBAAOC,UAPJ,EAQH;AACIC,IAAAA,SAAS,EAAE;AADf,GARG,CAAP;AAWH,CAZD;;;;AAeA,MAAMC,MAAM,GAAG,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AAC/B,QAAMC,KAAK,GAAGH,GAAG,CAACI,OAAJ,CAAYC,aAA1B;;AACA,MAAIF,KAAJ,EAAW;AACP,UAAMG,SAAS,GAAGH,KAAK,CAACI,KAAN,CAAY,CAAZ,EAAeJ,KAAK,CAACK,MAArB,CAAlB;;AACAlB,0BAAImB,MAAJ,CAAWH,SAAX,EAAsBV,gBAAOC,UAA7B,EAAyC,CAACa,GAAD,EAAMC,MAAN,KAAiB;AACtD,UAAID,GAAJ,EAAS;AACL,eAAOT,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,UAAAA,OAAO,EAAE;AAAX,SAArB,CAAP;AACH;;AACDd,MAAAA,GAAG,CAACX,IAAJ,GAAWsB,MAAX;AACAT,MAAAA,IAAI;AACJ;AACH,KAPD;AAQH,GAVD,MAUO;AACH,WAAOD,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAArB,CAAP;AACH;AACJ,CAfD;;;;AAkBA,MAAMnB,OAAO,GAAG,CAACK,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AAChCa,EAAAA,OAAO,CAACC,GAAR,CAAYhB,GAAG,CAACX,IAAhB;;AACA,MAAIW,GAAG,CAACX,IAAJ,IAAYW,GAAG,CAACX,IAAJ,CAASM,OAAzB,EAAkC;AAC9B,WAAOO,IAAI,EAAX;AACH;;AACD,SAAOD,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,IAAAA,OAAO,EAAE;AAAX,GAArB,CAAP;AACH,CAND",
      "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/",
      "sourcesContent": [
        "import jwt from 'jsonwebtoken'\nimport config from './config'\n\nconst getToken = (user) => {\n    return jwt.sign(\n        {\n            _id: user._id,\n            name: user.name,\n            email: user.email,\n            isAdmin: user.isAdmin\n        },\n        config.JWT_SECRET,\n        {\n            expiresIn: '48h'\n        })\n}\n\n\nconst isAuth = (req, res, next) => {\n    const token = req.headers.authorization;\n    if (token) {\n        const onlyToken = token.slice(7, token.length);\n        jwt.verify(onlyToken, config.JWT_SECRET, (err, decode) => {\n            if (err) {\n                return res.status(401).send({ message: 'Invalid Token' });\n            }\n            req.user = decode;\n            next();\n            return;\n        });\n    } else {\n        return res.status(401).send({ message: 'Token is not supplied.' });\n    }\n};\n\n\nconst isAdmin = (req, res, next) => {\n    console.log(req.user);\n    if (req.user && req.user.isAdmin) {\n        return next();\n    }\n    return res.status(401).send({ message: 'Admin Token is not valid.' });\n};\n\n\nexport {\n    getToken,\n    isAuth,\n    isAdmin\n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1598295965882
  },
  "{\"sourceRoot\":\"/home/jake/Documents/WebAhead/Project/eShop.uk/backend/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jake/Documents/WebAhead/Project/eShop.uk\",\"filename\":\"/home/jake/Documents/WebAhead/Project/eShop.uk/backend/util.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jake/Documents/WebAhead/Project/eShop.uk\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.1": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/jake/Documents/WebAhead/Project/eShop.uk",
      "filename": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/util.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/jake/Documents/WebAhead/Project/eShop.uk",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/util.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/util.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/",
        "sourceFileName": "util.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isAdmin = exports.isAuth = exports.getToken = void 0;\n\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\n\nvar _config = _interopRequireDefault(require(\"./config\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst getToken = user => {\n  return _jsonwebtoken.default.sign({\n    _id: user._id,\n    name: user.name,\n    email: user.email,\n    isAdmin: user.isAdmin\n  }, _config.default.JWT_SECRET, {\n    expiresIn: '48h'\n  });\n};\n\nexports.getToken = getToken;\n\nconst isAuth = (req, res, next) => {\n  const token = req.headers.authorization;\n\n  if (token) {\n    const onlyToken = token.slice(7, token.length);\n\n    _jsonwebtoken.default.verify(onlyToken, _config.default.JWT_SECRET, (err, decode) => {\n      if (err) {\n        return res.status(401).send({\n          message: 'Invalid Token'\n        });\n      }\n\n      req.user = decode;\n      next();\n      return;\n    });\n  } else {\n    return res.status(401).send({\n      message: 'Token is not supplied.'\n    });\n  }\n};\n\nexports.isAuth = isAuth;\n\nconst isAdmin = (req, res, next) => {\n  console.log(req.user);\n\n  if (req.user && req.user.isAdmin) {\n    return next();\n  }\n\n  return res.status(401).send({\n    message: 'Admin Token is not valid.'\n  });\n};\n\nexports.isAdmin = isAdmin;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInV0aWwuanMiXSwibmFtZXMiOlsiZ2V0VG9rZW4iLCJ1c2VyIiwiand0Iiwic2lnbiIsIl9pZCIsIm5hbWUiLCJlbWFpbCIsImlzQWRtaW4iLCJjb25maWciLCJKV1RfU0VDUkVUIiwiZXhwaXJlc0luIiwiaXNBdXRoIiwicmVxIiwicmVzIiwibmV4dCIsInRva2VuIiwiaGVhZGVycyIsImF1dGhvcml6YXRpb24iLCJvbmx5VG9rZW4iLCJzbGljZSIsImxlbmd0aCIsInZlcmlmeSIsImVyciIsImRlY29kZSIsInN0YXR1cyIsInNlbmQiLCJtZXNzYWdlIiwiY29uc29sZSIsImxvZyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOztBQUNBOzs7O0FBRUEsTUFBTUEsUUFBUSxHQUFJQyxJQUFELElBQVU7QUFDdkIsU0FBT0Msc0JBQUlDLElBQUosQ0FDSDtBQUNJQyxJQUFBQSxHQUFHLEVBQUVILElBQUksQ0FBQ0csR0FEZDtBQUVJQyxJQUFBQSxJQUFJLEVBQUVKLElBQUksQ0FBQ0ksSUFGZjtBQUdJQyxJQUFBQSxLQUFLLEVBQUVMLElBQUksQ0FBQ0ssS0FIaEI7QUFJSUMsSUFBQUEsT0FBTyxFQUFFTixJQUFJLENBQUNNO0FBSmxCLEdBREcsRUFPSEMsZ0JBQU9DLFVBUEosRUFRSDtBQUNJQyxJQUFBQSxTQUFTLEVBQUU7QUFEZixHQVJHLENBQVA7QUFXSCxDQVpEOzs7O0FBZUEsTUFBTUMsTUFBTSxHQUFHLENBQUNDLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxJQUFYLEtBQW9CO0FBQy9CLFFBQU1DLEtBQUssR0FBR0gsR0FBRyxDQUFDSSxPQUFKLENBQVlDLGFBQTFCOztBQUNBLE1BQUlGLEtBQUosRUFBVztBQUNQLFVBQU1HLFNBQVMsR0FBR0gsS0FBSyxDQUFDSSxLQUFOLENBQVksQ0FBWixFQUFlSixLQUFLLENBQUNLLE1BQXJCLENBQWxCOztBQUNBbEIsMEJBQUltQixNQUFKLENBQVdILFNBQVgsRUFBc0JWLGdCQUFPQyxVQUE3QixFQUF5QyxDQUFDYSxHQUFELEVBQU1DLE1BQU4sS0FBaUI7QUFDdEQsVUFBSUQsR0FBSixFQUFTO0FBQ0wsZUFBT1QsR0FBRyxDQUFDVyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRUMsVUFBQUEsT0FBTyxFQUFFO0FBQVgsU0FBckIsQ0FBUDtBQUNIOztBQUNEZCxNQUFBQSxHQUFHLENBQUNYLElBQUosR0FBV3NCLE1BQVg7QUFDQVQsTUFBQUEsSUFBSTtBQUNKO0FBQ0gsS0FQRDtBQVFILEdBVkQsTUFVTztBQUNILFdBQU9ELEdBQUcsQ0FBQ1csTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVDLE1BQUFBLE9BQU8sRUFBRTtBQUFYLEtBQXJCLENBQVA7QUFDSDtBQUNKLENBZkQ7Ozs7QUFrQkEsTUFBTW5CLE9BQU8sR0FBRyxDQUFDSyxHQUFELEVBQU1DLEdBQU4sRUFBV0MsSUFBWCxLQUFvQjtBQUNoQ2EsRUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVloQixHQUFHLENBQUNYLElBQWhCOztBQUNBLE1BQUlXLEdBQUcsQ0FBQ1gsSUFBSixJQUFZVyxHQUFHLENBQUNYLElBQUosQ0FBU00sT0FBekIsRUFBa0M7QUFDOUIsV0FBT08sSUFBSSxFQUFYO0FBQ0g7O0FBQ0QsU0FBT0QsR0FBRyxDQUFDVyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRUMsSUFBQUEsT0FBTyxFQUFFO0FBQVgsR0FBckIsQ0FBUDtBQUNILENBTkQiLCJzb3VyY2VSb290IjoiL2hvbWUvamFrZS9Eb2N1bWVudHMvV2ViQWhlYWQvUHJvamVjdC9lU2hvcC51ay9iYWNrZW5kLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJ1xuaW1wb3J0IGNvbmZpZyBmcm9tICcuL2NvbmZpZydcblxuY29uc3QgZ2V0VG9rZW4gPSAodXNlcikgPT4ge1xuICAgIHJldHVybiBqd3Quc2lnbihcbiAgICAgICAge1xuICAgICAgICAgICAgX2lkOiB1c2VyLl9pZCxcbiAgICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgICAgICAgaXNBZG1pbjogdXNlci5pc0FkbWluXG4gICAgICAgIH0sXG4gICAgICAgIGNvbmZpZy5KV1RfU0VDUkVULFxuICAgICAgICB7XG4gICAgICAgICAgICBleHBpcmVzSW46ICc0OGgnXG4gICAgICAgIH0pXG59XG5cblxuY29uc3QgaXNBdXRoID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgY29uc3QgdG9rZW4gPSByZXEuaGVhZGVycy5hdXRob3JpemF0aW9uO1xuICAgIGlmICh0b2tlbikge1xuICAgICAgICBjb25zdCBvbmx5VG9rZW4gPSB0b2tlbi5zbGljZSg3LCB0b2tlbi5sZW5ndGgpO1xuICAgICAgICBqd3QudmVyaWZ5KG9ubHlUb2tlbiwgY29uZmlnLkpXVF9TRUNSRVQsIChlcnIsIGRlY29kZSkgPT4ge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuc2VuZCh7IG1lc3NhZ2U6ICdJbnZhbGlkIFRva2VuJyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlcS51c2VyID0gZGVjb2RlO1xuICAgICAgICAgICAgbmV4dCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLnNlbmQoeyBtZXNzYWdlOiAnVG9rZW4gaXMgbm90IHN1cHBsaWVkLicgfSk7XG4gICAgfVxufTtcblxuXG5jb25zdCBpc0FkbWluID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XG4gICAgY29uc29sZS5sb2cocmVxLnVzZXIpO1xuICAgIGlmIChyZXEudXNlciAmJiByZXEudXNlci5pc0FkbWluKSB7XG4gICAgICAgIHJldHVybiBuZXh0KCk7XG4gICAgfVxuICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuc2VuZCh7IG1lc3NhZ2U6ICdBZG1pbiBUb2tlbiBpcyBub3QgdmFsaWQuJyB9KTtcbn07XG5cblxuZXhwb3J0IHtcbiAgICBnZXRUb2tlbixcbiAgICBpc0F1dGgsXG4gICAgaXNBZG1pblxufSJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "util.js"
      ],
      "names": [
        "getToken",
        "user",
        "jwt",
        "sign",
        "_id",
        "name",
        "email",
        "isAdmin",
        "config",
        "JWT_SECRET",
        "expiresIn",
        "isAuth",
        "req",
        "res",
        "next",
        "token",
        "headers",
        "authorization",
        "onlyToken",
        "slice",
        "length",
        "verify",
        "err",
        "decode",
        "status",
        "send",
        "message",
        "console",
        "log"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;;;AAEA,MAAMA,QAAQ,GAAIC,IAAD,IAAU;AACvB,SAAOC,sBAAIC,IAAJ,CACH;AACIC,IAAAA,GAAG,EAAEH,IAAI,CAACG,GADd;AAEIC,IAAAA,IAAI,EAAEJ,IAAI,CAACI,IAFf;AAGIC,IAAAA,KAAK,EAAEL,IAAI,CAACK,KAHhB;AAIIC,IAAAA,OAAO,EAAEN,IAAI,CAACM;AAJlB,GADG,EAOHC,gBAAOC,UAPJ,EAQH;AACIC,IAAAA,SAAS,EAAE;AADf,GARG,CAAP;AAWH,CAZD;;;;AAeA,MAAMC,MAAM,GAAG,CAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AAC/B,QAAMC,KAAK,GAAGH,GAAG,CAACI,OAAJ,CAAYC,aAA1B;;AACA,MAAIF,KAAJ,EAAW;AACP,UAAMG,SAAS,GAAGH,KAAK,CAACI,KAAN,CAAY,CAAZ,EAAeJ,KAAK,CAACK,MAArB,CAAlB;;AACAlB,0BAAImB,MAAJ,CAAWH,SAAX,EAAsBV,gBAAOC,UAA7B,EAAyC,CAACa,GAAD,EAAMC,MAAN,KAAiB;AACtD,UAAID,GAAJ,EAAS;AACL,eAAOT,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,UAAAA,OAAO,EAAE;AAAX,SAArB,CAAP;AACH;;AACDd,MAAAA,GAAG,CAACX,IAAJ,GAAWsB,MAAX;AACAT,MAAAA,IAAI;AACJ;AACH,KAPD;AAQH,GAVD,MAUO;AACH,WAAOD,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAArB,CAAP;AACH;AACJ,CAfD;;;;AAkBA,MAAMnB,OAAO,GAAG,CAACK,GAAD,EAAMC,GAAN,EAAWC,IAAX,KAAoB;AAChCa,EAAAA,OAAO,CAACC,GAAR,CAAYhB,GAAG,CAACX,IAAhB;;AACA,MAAIW,GAAG,CAACX,IAAJ,IAAYW,GAAG,CAACX,IAAJ,CAASM,OAAzB,EAAkC;AAC9B,WAAOO,IAAI,EAAX;AACH;;AACD,SAAOD,GAAG,CAACW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,IAAAA,OAAO,EAAE;AAAX,GAArB,CAAP;AACH,CAND",
      "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/",
      "sourcesContent": [
        "import jwt from 'jsonwebtoken'\nimport config from './config'\n\nconst getToken = (user) => {\n    return jwt.sign(\n        {\n            _id: user._id,\n            name: user.name,\n            email: user.email,\n            isAdmin: user.isAdmin\n        },\n        config.JWT_SECRET,\n        {\n            expiresIn: '48h'\n        })\n}\n\n\nconst isAuth = (req, res, next) => {\n    const token = req.headers.authorization;\n    if (token) {\n        const onlyToken = token.slice(7, token.length);\n        jwt.verify(onlyToken, config.JWT_SECRET, (err, decode) => {\n            if (err) {\n                return res.status(401).send({ message: 'Invalid Token' });\n            }\n            req.user = decode;\n            next();\n            return;\n        });\n    } else {\n        return res.status(401).send({ message: 'Token is not supplied.' });\n    }\n};\n\n\nconst isAdmin = (req, res, next) => {\n    console.log(req.user);\n    if (req.user && req.user.isAdmin) {\n        return next();\n    }\n    return res.status(401).send({ message: 'Admin Token is not valid.' });\n};\n\n\nexport {\n    getToken,\n    isAuth,\n    isAdmin\n}"
      ]
    },
    "sourceType": "script",
    "mtime": 1598295965882
  },
  "{\"sourceRoot\":\"/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jake/Documents/WebAhead/Project/eShop.uk\",\"filename\":\"/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/productRoute.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jake/Documents/WebAhead/Project/eShop.uk\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.1": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/jake/Documents/WebAhead/Project/eShop.uk",
      "filename": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/productRoute.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/jake/Documents/WebAhead/Project/eShop.uk",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/productRoute.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/productRoute.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/",
        "sourceFileName": "productRoute.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _productModel = _interopRequireDefault(require(\"../models/productModel\"));\n\nvar _util = require(\"../util\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router(); //GET ALL\n\n\nrouter.get('/', async (req, res) => {\n  //if category selected, add to Mongo search\n  const category = req.query.category ? {\n    category: req.query.category\n  } : {}; //if category keyword, add to Mongo search (within name field)\n\n  const searchKeyword = req.query.searchKeyword ? {\n    name: {\n      $regex: req.query.searchKeyword,\n      $options: 'i'\n    }\n  } : {}; //FIXME: results dont seem to be ordered correctly\n  //if order selected, sort Mongo results (by price)\n\n  const sortOrder = req.query.sortOrder ? req.query.sortOrder === 'lowest' ? {\n    price: -1\n  } : {\n    price: 1\n  } : {\n    name: -1\n  };\n  const products = await _productModel.default.find({ ...category,\n    ...searchKeyword\n  }).sort(sortOrder);\n  res.send(products);\n}); //GET BY ID\n\nrouter.get('/:id', async (req, res) => {\n  const product = await _productModel.default.findOne({\n    _id: req.params.id\n  });\n\n  if (product) {\n    res.send(product);\n  } else {\n    res.status(404).send({\n      message: 'Product Not Found.'\n    });\n  }\n}); // POST reviews\n\nrouter.post('/:id/reviews', _util.isAuth, async (req, res) => {\n  const product = await _productModel.default.findById(req.params.id);\n\n  if (product) {\n    const review = {\n      name: req.body.name,\n      rating: Number(req.body.rating),\n      comment: req.body.comment\n    };\n    product.reviews.push(review);\n    product.numReviews = product.reviews.length; //get average of all reivews ratings\n\n    product.rating = product.reviews.reduce((a, c) => c.rating + a, 0) / product.reviews.length;\n    const updatedProduct = await product.save();\n    res.status(201).send({\n      data: updatedProduct.reviews[updatedProduct.reviews.length - 1],\n      message: 'Review saved successfully.'\n    });\n  } else {\n    res.status(404).send({\n      message: 'Product Not Found'\n    });\n  }\n}); //POST NEW PRODUCT\n\nrouter.post(\"/\", _util.isAuth, _util.isAdmin, async (req, res) => {\n  const product = new _productModel.default({\n    name: req.body.name,\n    price: req.body.price,\n    image: req.body.image,\n    brand: req.body.brand,\n    category: req.body.category,\n    countInStock: req.body.countInStock,\n    description: req.body.description,\n    rating: req.body.rating,\n    numReviews: req.body.numReviews\n  });\n  const newProduct = await product.save();\n\n  if (newProduct) {\n    return res.status(201).send({\n      message: \"New Product Created\",\n      data: newProduct\n    });\n  }\n\n  return res.status(500).send({\n    message: \"Error in Creating Product\"\n  });\n}); //PUT (EDIT) exisiting product\n\nrouter.put(\"/:id\", _util.isAuth, _util.isAdmin, async (req, res) => {\n  const productId = req.params.id;\n  const product = await _productModel.default.findById(productId);\n\n  if (product) {\n    product.name = req.body.name;\n    product.price = req.body.price;\n    product.image = req.body.image;\n    product.brand = req.body.brand;\n    product.category = req.body.category;\n    product.countInStock = req.body.countInStock;\n    product.description = req.body.description;\n    const updatedProduct = await product.save();\n\n    if (updatedProduct) {\n      return res.status(200).send({\n        message: \"Product Updated\",\n        data: updatedProduct\n      });\n    }\n  }\n\n  return res.status(500).send({\n    message: \"Error in Updating Product\"\n  });\n});\nrouter.delete('/:id', _util.isAuth, _util.isAdmin, async (req, res) => {\n  const deletedProduct = await _productModel.default.findById(req.params.id);\n\n  if (deletedProduct) {\n    await deletedProduct.remove();\n    res.send({\n      message: 'Product Deleted'\n    });\n  } else {\n    res.send('Error in Deletion.');\n  }\n});\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RSb3V0ZS5qcyJdLCJuYW1lcyI6WyJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwiZ2V0IiwicmVxIiwicmVzIiwiY2F0ZWdvcnkiLCJxdWVyeSIsInNlYXJjaEtleXdvcmQiLCJuYW1lIiwiJHJlZ2V4IiwiJG9wdGlvbnMiLCJzb3J0T3JkZXIiLCJwcmljZSIsInByb2R1Y3RzIiwiUHJvZHVjdCIsImZpbmQiLCJzb3J0Iiwic2VuZCIsInByb2R1Y3QiLCJmaW5kT25lIiwiX2lkIiwicGFyYW1zIiwiaWQiLCJzdGF0dXMiLCJtZXNzYWdlIiwicG9zdCIsImlzQXV0aCIsImZpbmRCeUlkIiwicmV2aWV3IiwiYm9keSIsInJhdGluZyIsIk51bWJlciIsImNvbW1lbnQiLCJyZXZpZXdzIiwicHVzaCIsIm51bVJldmlld3MiLCJsZW5ndGgiLCJyZWR1Y2UiLCJhIiwiYyIsInVwZGF0ZWRQcm9kdWN0Iiwic2F2ZSIsImRhdGEiLCJpc0FkbWluIiwiaW1hZ2UiLCJicmFuZCIsImNvdW50SW5TdG9jayIsImRlc2NyaXB0aW9uIiwibmV3UHJvZHVjdCIsInB1dCIsInByb2R1Y3RJZCIsImRlbGV0ZSIsImRlbGV0ZWRQcm9kdWN0IiwicmVtb3ZlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7Ozs7QUFJQSxNQUFNQSxNQUFNLEdBQUdDLGlCQUFRQyxNQUFSLEVBQWYsQyxDQUdBOzs7QUFDQUYsTUFBTSxDQUFDRyxHQUFQLENBQVcsR0FBWCxFQUFnQixPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFFaEM7QUFDQSxRQUFNQyxRQUFRLEdBQUdGLEdBQUcsQ0FBQ0csS0FBSixDQUFVRCxRQUFWLEdBQXFCO0FBQUVBLElBQUFBLFFBQVEsRUFBRUYsR0FBRyxDQUFDRyxLQUFKLENBQVVEO0FBQXRCLEdBQXJCLEdBQXdELEVBQXpFLENBSGdDLENBS2hDOztBQUNBLFFBQU1FLGFBQWEsR0FBR0osR0FBRyxDQUFDRyxLQUFKLENBQVVD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QzBCLElBQUosQ0FBU2tCLFdBQS9CO0FBQ0EsVUFBTVAsY0FBYyxHQUFHLE1BQU10QixPQUFPLENBQUN1QixJQUFSLEVBQTdCOztBQUNBLFFBQUlELGNBQUosRUFBb0I7QUFDaEIsYUFBT3BDLEdBQUcsQ0FBQ21CLE1BQUosQ0FBVyxHQUFYLEVBQWdCTixJQUFoQixDQUFxQjtBQUFFTyxRQUFBQSxPQUFPLEVBQUUsaUJBQVg7QUFBOEJrQixRQUFBQSxJQUFJLEVBQUVGO0FBQXBDLE9BQXJCLENBQVA7QUFDSDtBQUNKOztBQUNELFNBQU9wQyxHQUFHLENBQUNtQixNQUFKLENBQVcsR0FBWCxFQUFnQk4sSUFBaEIsQ0FBcUI7QUFBRU8sSUFBQUEsT0FBTyxFQUFFO0FBQVgsR0FBckIsQ0FBUDtBQUVILENBbEJEO0FBcUJBekIsTUFBTSxDQUFDb0QsTUFBUCxDQUFjLE1BQWQsRUFBc0J6QixZQUF0QixFQUE4QmlCLGFBQTlCLEVBQXVDLE9BQU94QyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDdkQsUUFBTWdELGNBQWMsR0FBRyxNQUFNdEMsc0JBQVFhLFFBQVIsQ0FBaUJ4QixHQUFHLENBQUNrQixNQUFKLENBQVdDLEVBQTVCLENBQTdCOztBQUNBLE1BQUk4QixjQUFKLEVBQW9CO0FBQ2hCLFVBQU1BLGNBQWMsQ0FBQ0MsTUFBZixFQUFOO0FBQ0FqRCxJQUFBQSxHQUFHLENBQUNhLElBQUosQ0FBUztBQUFFTyxNQUFBQSxPQUFPLEVBQUU7QUFBWCxLQUFUO0FBQ0gsR0FIRCxNQUdPO0FBQ0hwQixJQUFBQSxHQUFHLENBQUNhLElBQUosQ0FBUyxvQkFBVDtBQUNIO0FBQ0osQ0FSRDtlQVllbEIsTSIsInNvdXJjZVJvb3QiOiIvaG9tZS9qYWtlL0RvY3VtZW50cy9XZWJBaGVhZC9Qcm9qZWN0L2VTaG9wLnVrL2JhY2tlbmQvcm91dGVzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IFByb2R1Y3QgZnJvbSAnLi4vbW9kZWxzL3Byb2R1Y3RNb2RlbCc7XG5pbXBvcnQgeyBnZXRUb2tlbiB9IGZyb20gJy4uL3V0aWwnO1xuaW1wb3J0IHsgaXNBdXRoLCBpc0FkbWluIH0gZnJvbSAnLi4vdXRpbCdcblxuXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG5cbi8vR0VUIEFMTFxucm91dGVyLmdldCgnLycsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuXG4gICAgLy9pZiBjYXRlZ29yeSBzZWxlY3RlZCwgYWRkIHRvIE1vbmdvIHNlYXJjaFxuICAgIGNvbnN0IGNhdGVnb3J5ID0gcmVxLnF1ZXJ5LmNhdGVnb3J5ID8geyBjYXRlZ29yeTogcmVxLnF1ZXJ5LmNhdGVnb3J5IH0gOiB7fTtcblxuICAgIC8vaWYgY2F0ZWdvcnkga2V5d29yZCwgYWRkIHRvIE1vbmdvIHNlYXJjaCAod2l0aGluIG5hbWUgZmllbGQpXG4gICAgY29uc3Qgc2VhcmNoS2V5d29yZCA9IHJlcS5xdWVyeS5zZWFyY2hLZXl3b3JkXG4gICAgICAgID8ge1xuICAgICAgICAgICAgbmFtZToge1xuICAgICAgICAgICAgICAgICRyZWdleDogcmVxLnF1ZXJ5LnNlYXJjaEtleXdvcmQsXG4gICAgICAgICAgICAgICAgJG9wdGlvbnM6ICdpJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH1cbiAgICAgICAgOiB7fTtcblxuICAgIC8vRklYTUU6IHJlc3VsdHMgZG9udCBzZWVtIHRvIGJlIG9yZGVyZWQgY29ycmVjdGx5XG5cbiAgICAvL2lmIG9yZGVyIHNlbGVjdGVkLCBzb3J0IE1vbmdvIHJlc3VsdHMgKGJ5IHByaWNlKVxuICAgIGNvbnN0IHNvcnRPcmRlciA9IHJlcS5xdWVyeS5zb3J0T3JkZXJcbiAgICAgICAgPyByZXEucXVlcnkuc29ydE9yZGVyID09PSAnbG93ZXN0J1xuICAgICAgICAgICAgPyB7IHByaWNlOiAtMSB9XG4gICAgICAgICAgICA6IHsgcHJpY2U6IDEgfVxuICAgICAgICA6IHsgbmFtZTogLTEgfTtcbiAgICBjb25zdCBwcm9kdWN0cyA9IGF3YWl0IFByb2R1Y3QuZmluZCh7IC4uLmNhdGVnb3J5LCAuLi5zZWFyY2hLZXl3b3JkIH0pLnNvcnQoXG4gICAgICAgIHNvcnRPcmRlclxuICAgICk7XG4gICAgcmVzLnNlbmQocHJvZHVjdHMpO1xufSk7XG5cblxuLy9HRVQgQlkgSURcbnJvdXRlci5nZXQoJy86aWQnLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgUHJvZHVjdC5maW5kT25lKHsgX2lkOiByZXEucGFyYW1zLmlkIH0pO1xuICAgIGlmIChwcm9kdWN0KSB7XG4gICAgICAgIHJlcy5zZW5kKHByb2R1Y3QpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsgbWVzc2FnZTogJ1Byb2R1Y3QgTm90IEZvdW5kLicgfSk7XG4gICAgfVxufSk7XG5cbi8vIFBPU1QgcmV2aWV3c1xucm91dGVyLnBvc3QoJy86aWQvcmV2aWV3cycsIGlzQXV0aCwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgcHJvZHVjdCA9IGF3YWl0IFByb2R1Y3QuZmluZEJ5SWQocmVxLnBhcmFtcy5pZCk7XG4gICAgaWYgKHByb2R1Y3QpIHtcbiAgICAgICAgY29uc3QgcmV2aWV3ID0ge1xuICAgICAgICAgICAgbmFtZTogcmVxLmJvZHkubmFtZSxcbiAgICAgICAgICAgIHJhdGluZzogTnVtYmVyKHJlcS5ib2R5LnJhdGluZyksXG4gICAgICAgICAgICBjb21tZW50OiByZXEuYm9keS5jb21tZW50LFxuICAgICAgICB9O1xuICAgICAgICBwcm9kdWN0LnJldmlld3MucHVzaChyZXZpZXcpO1xuICAgICAgICBwcm9kdWN0Lm51bVJldmlld3MgPSBwcm9kdWN0LnJldmlld3MubGVuZ3RoO1xuICAgICAgICAvL2dldCBhdmVyYWdlIG9mIGFsbCByZWl2ZXdzIHJhdGluZ3NcbiAgICAgICAgcHJvZHVjdC5yYXRpbmcgPSBwcm9kdWN0LnJldmlld3MucmVkdWNlKChhLCBjKSA9PiBjLnJhdGluZyArIGEsIDApIC8gcHJvZHVjdC5yZXZpZXdzLmxlbmd0aDtcbiAgICAgICAgY29uc3QgdXBkYXRlZFByb2R1Y3QgPSBhd2FpdCBwcm9kdWN0LnNhdmUoKTtcbiAgICAgICAgcmVzLnN0YXR1cygyMDEpLnNlbmQoe1xuICAgICAgICAgICAgZGF0YTogdXBkYXRlZFByb2R1Y3QucmV2aWV3c1t1cGRhdGVkUHJvZHVjdC5yZXZpZXdzLmxlbmd0aCAtIDFdLFxuICAgICAgICAgICAgbWVzc2FnZTogJ1JldmlldyBzYXZlZCBzdWNjZXNzZnVsbHkuJyxcbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoeyBtZXNzYWdlOiAnUHJvZHVjdCBOb3QgRm91bmQnIH0pO1xuICAgIH1cbn0pO1xuXG5cbi8vUE9TVCBORVcgUFJPRFVDVFxucm91dGVyLnBvc3QoXCIvXCIsIGlzQXV0aCwgaXNBZG1pbiwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgcHJvZHVjdCA9IG5ldyBQcm9kdWN0KHtcbiAgICAgICAgbmFtZTogcmVxLmJvZHkubmFtZSxcbiAgICAgICAgcHJpY2U6IHJlcS5ib2R5LnByaWNlLFxuICAgICAgICBpbWFnZTogcmVxLmJvZHkuaW1hZ2UsXG4gICAgICAgIGJyYW5kOiByZXEuYm9keS5icmFuZCxcbiAgICAgICAgY2F0ZWdvcnk6IHJlcS5ib2R5LmNhdGVnb3J5LFxuICAgICAgICBjb3VudEluU3RvY2s6IHJlcS5ib2R5LmNvdW50SW5TdG9jayxcbiAgICAgICAgZGVzY3JpcHRpb246IHJlcS5ib2R5LmRlc2NyaXB0aW9uLFxuICAgICAgICByYXRpbmc6IHJlcS5ib2R5LnJhdGluZyxcbiAgICAgICAgbnVtUmV2aWV3czogcmVxLmJvZHkubnVtUmV2aWV3cyxcbiAgICB9KVxuICAgIGNvbnN0IG5ld1Byb2R1Y3QgPSBhd2FpdCBwcm9kdWN0LnNhdmUoKTtcbiAgICBpZiAobmV3UHJvZHVjdCkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDEpLnNlbmQoeyBtZXNzYWdlOiBcIk5ldyBQcm9kdWN0IENyZWF0ZWRcIiwgZGF0YTogbmV3UHJvZHVjdCB9KVxuICAgIH1cbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBtZXNzYWdlOiBcIkVycm9yIGluIENyZWF0aW5nIFByb2R1Y3RcIiB9KVxufSlcblxuLy9QVVQgKEVESVQpIGV4aXNpdGluZyBwcm9kdWN0XG5yb3V0ZXIucHV0KFwiLzppZFwiLCBpc0F1dGgsIGlzQWRtaW4sIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHByb2R1Y3RJZCA9IHJlcS5wYXJhbXMuaWQ7XG4gICAgY29uc3QgcHJvZHVjdCA9IGF3YWl0IFByb2R1Y3QuZmluZEJ5SWQocHJvZHVjdElkKTtcbiAgICBpZiAocHJvZHVjdCkge1xuICAgICAgICBwcm9kdWN0Lm5hbWUgPSByZXEuYm9keS5uYW1lO1xuICAgICAgICBwcm9kdWN0LnByaWNlID0gcmVxLmJvZHkucHJpY2U7XG4gICAgICAgIHByb2R1Y3QuaW1hZ2UgPSByZXEuYm9keS5pbWFnZTtcbiAgICAgICAgcHJvZHVjdC5icmFuZCA9IHJlcS5ib2R5LmJyYW5kO1xuICAgICAgICBwcm9kdWN0LmNhdGVnb3J5ID0gcmVxLmJvZHkuY2F0ZWdvcnk7XG4gICAgICAgIHByb2R1Y3QuY291bnRJblN0b2NrID0gcmVxLmJvZHkuY291bnRJblN0b2NrO1xuICAgICAgICBwcm9kdWN0LmRlc2NyaXB0aW9uID0gcmVxLmJvZHkuZGVzY3JpcHRpb247XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRQcm9kdWN0ID0gYXdhaXQgcHJvZHVjdC5zYXZlKCk7XG4gICAgICAgIGlmICh1cGRhdGVkUHJvZHVjdCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHsgbWVzc2FnZTogXCJQcm9kdWN0IFVwZGF0ZWRcIiwgZGF0YTogdXBkYXRlZFByb2R1Y3QgfSlcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBtZXNzYWdlOiBcIkVycm9yIGluIFVwZGF0aW5nIFByb2R1Y3RcIiB9KVxuXG59KVxuXG5cbnJvdXRlci5kZWxldGUoJy86aWQnLCBpc0F1dGgsIGlzQWRtaW4sIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IGRlbGV0ZWRQcm9kdWN0ID0gYXdhaXQgUHJvZHVjdC5maW5kQnlJZChyZXEucGFyYW1zLmlkKTtcbiAgICBpZiAoZGVsZXRlZFByb2R1Y3QpIHtcbiAgICAgICAgYXdhaXQgZGVsZXRlZFByb2R1Y3QucmVtb3ZlKCk7XG4gICAgICAgIHJlcy5zZW5kKHsgbWVzc2FnZTogJ1Byb2R1Y3QgRGVsZXRlZCcgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmVzLnNlbmQoJ0Vycm9yIGluIERlbGV0aW9uLicpO1xuICAgIH1cbn0pO1xuXG5cblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "productRoute.js"
      ],
      "names": [
        "router",
        "express",
        "Router",
        "get",
        "req",
        "res",
        "category",
        "query",
        "searchKeyword",
        "name",
        "$regex",
        "$options",
        "sortOrder",
        "price",
        "products",
        "Product",
        "find",
        "sort",
        "send",
        "product",
        "findOne",
        "_id",
        "params",
        "id",
        "status",
        "message",
        "post",
        "isAuth",
        "findById",
        "review",
        "body",
        "rating",
        "Number",
        "comment",
        "reviews",
        "push",
        "numReviews",
        "length",
        "reduce",
        "a",
        "c",
        "updatedProduct",
        "save",
        "data",
        "isAdmin",
        "image",
        "brand",
        "countInStock",
        "description",
        "newProduct",
        "put",
        "productId",
        "delete",
        "deletedProduct",
        "remove"
      ],
      "mappings": "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",
      "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/",
      "sourcesContent": [
        "import express from 'express';\nimport Product from '../models/productModel';\nimport { getToken } from '../util';\nimport { isAuth, isAdmin } from '../util'\n\n\nconst router = express.Router();\n\n\n//GET ALL\nrouter.get('/', async (req, res) => {\n\n    //if category selected, add to Mongo search\n    const category = req.query.category ? { category: req.query.category } : {};\n\n    //if category keyword, add to Mongo search (within name field)\n    const searchKeyword = req.query.searchKeyword\n        ? {\n            name: {\n                $regex: req.query.searchKeyword,\n                $options: 'i',\n            },\n        }\n        : {};\n\n    //FIXME: results dont seem to be ordered correctly\n\n    //if order selected, sort Mongo results (by price)\n    const sortOrder = req.query.sortOrder\n        ? req.query.sortOrder === 'lowest'\n            ? { price: -1 }\n            : { price: 1 }\n        : { name: -1 };\n    const products = await Product.find({ ...category, ...searchKeyword }).sort(\n        sortOrder\n    );\n    res.send(products);\n});\n\n\n//GET BY ID\nrouter.get('/:id', async (req, res) => {\n    const product = await Product.findOne({ _id: req.params.id });\n    if (product) {\n        res.send(product);\n    } else {\n        res.status(404).send({ message: 'Product Not Found.' });\n    }\n});\n\n// POST reviews\nrouter.post('/:id/reviews', isAuth, async (req, res) => {\n    const product = await Product.findById(req.params.id);\n    if (product) {\n        const review = {\n            name: req.body.name,\n            rating: Number(req.body.rating),\n            comment: req.body.comment,\n        };\n        product.reviews.push(review);\n        product.numReviews = product.reviews.length;\n        //get average of all reivews ratings\n        product.rating = product.reviews.reduce((a, c) => c.rating + a, 0) / product.reviews.length;\n        const updatedProduct = await product.save();\n        res.status(201).send({\n            data: updatedProduct.reviews[updatedProduct.reviews.length - 1],\n            message: 'Review saved successfully.',\n        });\n    } else {\n        res.status(404).send({ message: 'Product Not Found' });\n    }\n});\n\n\n//POST NEW PRODUCT\nrouter.post(\"/\", isAuth, isAdmin, async (req, res) => {\n    const product = new Product({\n        name: req.body.name,\n        price: req.body.price,\n        image: req.body.image,\n        brand: req.body.brand,\n        category: req.body.category,\n        countInStock: req.body.countInStock,\n        description: req.body.description,\n        rating: req.body.rating,\n        numReviews: req.body.numReviews,\n    })\n    const newProduct = await product.save();\n    if (newProduct) {\n        return res.status(201).send({ message: \"New Product Created\", data: newProduct })\n    }\n    return res.status(500).send({ message: \"Error in Creating Product\" })\n})\n\n//PUT (EDIT) exisiting product\nrouter.put(\"/:id\", isAuth, isAdmin, async (req, res) => {\n    const productId = req.params.id;\n    const product = await Product.findById(productId);\n    if (product) {\n        product.name = req.body.name;\n        product.price = req.body.price;\n        product.image = req.body.image;\n        product.brand = req.body.brand;\n        product.category = req.body.category;\n        product.countInStock = req.body.countInStock;\n        product.description = req.body.description;\n        const updatedProduct = await product.save();\n        if (updatedProduct) {\n            return res.status(200).send({ message: \"Product Updated\", data: updatedProduct })\n        }\n    }\n    return res.status(500).send({ message: \"Error in Updating Product\" })\n\n})\n\n\nrouter.delete('/:id', isAuth, isAdmin, async (req, res) => {\n    const deletedProduct = await Product.findById(req.params.id);\n    if (deletedProduct) {\n        await deletedProduct.remove();\n        res.send({ message: 'Product Deleted' });\n    } else {\n        res.send('Error in Deletion.');\n    }\n});\n\n\n\nexport default router;"
      ]
    },
    "sourceType": "script",
    "mtime": 1598611403637
  },
  "{\"sourceRoot\":\"/home/jake/Documents/WebAhead/Project/eShop.uk/backend/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jake/Documents/WebAhead/Project/eShop.uk\",\"filename\":\"/home/jake/Documents/WebAhead/Project/eShop.uk/backend/models/productModel.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jake/Documents/WebAhead/Project/eShop.uk\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.1": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/models/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/jake/Documents/WebAhead/Project/eShop.uk",
      "filename": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/models/productModel.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/jake/Documents/WebAhead/Project/eShop.uk",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/models/productModel.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/models/productModel.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/models/",
        "sourceFileName": "productModel.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst reviewSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  rating: {\n    type: Number,\n    default: 0\n  },\n  comment: {\n    type: String,\n    required: true\n  }\n}, {\n  timestamps: true\n});\nconst productSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  image: {\n    type: String,\n    required: true\n  },\n  brand: {\n    type: String,\n    required: true\n  },\n  price: {\n    type: Number,\n    default: 0,\n    required: true\n  },\n  category: {\n    type: String,\n    required: true\n  },\n  countInStock: {\n    type: Number,\n    default: 0,\n    required: true\n  },\n  description: {\n    type: String,\n    required: true\n  },\n  rating: {\n    type: Number,\n    default: 0,\n    required: true\n  },\n  numReviews: {\n    type: Number,\n    default: 0,\n    required: true\n  },\n  reviews: [reviewSchema]\n});\n\nconst productModel = _mongoose.default.model('Product', productSchema);\n\nvar _default = productModel;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RNb2RlbC5qcyJdLCJuYW1lcyI6WyJyZXZpZXdTY2hlbWEiLCJtb25nb29zZSIsIlNjaGVtYSIsIm5hbWUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJyYXRpbmciLCJOdW1iZXIiLCJkZWZhdWx0IiwiY29tbWVudCIsInRpbWVzdGFtcHMiLCJwcm9kdWN0U2NoZW1hIiwiaW1hZ2UiLCJicmFuZCIsInByaWNlIiwiY2F0ZWdvcnkiLCJjb3VudEluU3RvY2siLCJkZXNjcmlwdGlvbiIsIm51bVJldmlld3MiLCJyZXZpZXdzIiwicHJvZHVjdE1vZGVsIiwibW9kZWwiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUVBLE1BQU1BLFlBQVksR0FBRyxJQUFJQyxrQkFBU0MsTUFBYixDQUNqQjtBQUNJQyxFQUFBQSxJQUFJLEVBQUU7QUFBRUMsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUIsR0FEVjtBQUVJQyxFQUFBQSxNQUFNLEVBQUU7QUFBRUgsSUFBQUEsSUFBSSxFQUFFSSxNQUFSO0FBQWdCQyxJQUFBQSxPQUFPLEVBQUU7QUFBekIsR0FGWjtBQUdJQyxFQUFBQSxPQUFPLEVBQUU7QUFBRU4sSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUI7QUFIYixDQURpQixFQU1qQjtBQUNJSyxFQUFBQSxVQUFVLEVBQUU7QUFEaEIsQ0FOaUIsQ0FBckI7QUFZQSxNQUFNQyxhQUFhLEdBQUcsSUFBSVgsa0JBQVNDLE1BQWIsQ0FBb0I7QUFDdENDLEVBQUFBLElBQUksRUFBRTtBQUFFQyxJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQURnQztBQUV0Q08sRUFBQUEsS0FBSyxFQUFFO0FBQUVULElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBRitCO0FBR3RDUSxFQUFBQSxLQUFLLEVBQUU7QUFBRVYsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUIsR0FIK0I7QUFJdENTLEVBQUFBLEtBQUssRUFBRTtBQUFFWCxJQUFBQSxJQUFJLEVBQUVJLE1BQVI7QUFBZ0JDLElBQUFBLE9BQU8sRUFBRSxDQUF6QjtBQUE0QkgsSUFBQUEsUUFBUSxFQUFFO0FBQXRDLEdBSitCO0FBS3RDVSxFQUFBQSxRQUFRLEVBQUU7QUFBRVosSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUIsR0FMNEI7QUFNdENXLEVBQUFBLFlBQVksRUFBRTtBQUFFYixJQUFBQSxJQUFJLEVBQUVJLE1BQVI7QUFBZ0JDLElBQUFBLE9BQU8sRUFBRSxDQUF6QjtBQUE0QkgsSUFBQUEsUUFBUSxFQUFFO0FBQXRDLEdBTndCO0FBT3RDWSxFQUFBQSxXQUFXLEVBQUU7QUFBRWQsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUIsR0FQeUI7QUFRdENDLEVBQUFBLE1BQU0sRUFBRTtBQUFFSCxJQUFBQSxJQUFJLEVBQUVJLE1BQVI7QUFBZ0JDLElBQUFBLE9BQU8sRUFBRSxDQUF6QjtBQUE0QkgsSUFBQUEsUUFBUSxFQUFFO0FBQXRDLEdBUjhCO0FBU3RDYSxFQUFBQSxVQUFVLEVBQUU7QUFBRWYsSUFBQUEsSUFBSSxFQUFFSSxNQUFSO0FBQWdCQyxJQUFBQSxPQUFPLEVBQUUsQ0FBekI7QUFBNEJILElBQUFBLFFBQVEsRUFBRTtBQUF0QyxHQVQwQjtBQVV0Q2MsRUFBQUEsT0FBTyxFQUFFLENBQUNwQixZQUFEO0FBVjZCLENBQXBCLENBQXRCOztBQWVBLE1BQU1xQixZQUFZLEdBQUdwQixrQkFBU3FCLEtBQVQsQ0FBZSxTQUFmLEVBQTBCVixhQUExQixDQUFyQjs7ZUFFZVMsWSIsInNvdXJjZVJvb3QiOiIvaG9tZS9qYWtlL0RvY3VtZW50cy9XZWJBaGVhZC9Qcm9qZWN0L2VTaG9wLnVrL2JhY2tlbmQvbW9kZWxzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XG5cbmNvbnN0IHJldmlld1NjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoXG4gICAge1xuICAgICAgICBuYW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgICAgcmF0aW5nOiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDogMCB9LFxuICAgICAgICBjb21tZW50OiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgdGltZXN0YW1wczogdHJ1ZSxcbiAgICB9XG4pO1xuXG5cbmNvbnN0IHByb2R1Y3RTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcbiAgICBuYW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICBpbWFnZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgYnJhbmQ6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIHByaWNlOiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDogMCwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICBjYXRlZ29yeTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgY291bnRJblN0b2NrOiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDogMCwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICBkZXNjcmlwdGlvbjogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgcmF0aW5nOiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDogMCwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICBudW1SZXZpZXdzOiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDogMCwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICByZXZpZXdzOiBbcmV2aWV3U2NoZW1hXSxcbn0pO1xuXG5cblxuY29uc3QgcHJvZHVjdE1vZGVsID0gbW9uZ29vc2UubW9kZWwoJ1Byb2R1Y3QnLCBwcm9kdWN0U2NoZW1hKTtcblxuZXhwb3J0IGRlZmF1bHQgcHJvZHVjdE1vZGVsOyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "productModel.js"
      ],
      "names": [
        "reviewSchema",
        "mongoose",
        "Schema",
        "name",
        "type",
        "String",
        "required",
        "rating",
        "Number",
        "default",
        "comment",
        "timestamps",
        "productSchema",
        "image",
        "brand",
        "price",
        "category",
        "countInStock",
        "description",
        "numReviews",
        "reviews",
        "productModel",
        "model"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA,MAAMA,YAAY,GAAG,IAAIC,kBAASC,MAAb,CACjB;AACIC,EAAAA,IAAI,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GADV;AAEIC,EAAAA,MAAM,EAAE;AAAEH,IAAAA,IAAI,EAAEI,MAAR;AAAgBC,IAAAA,OAAO,EAAE;AAAzB,GAFZ;AAGIC,EAAAA,OAAO,EAAE;AAAEN,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B;AAHb,CADiB,EAMjB;AACIK,EAAAA,UAAU,EAAE;AADhB,CANiB,CAArB;AAYA,MAAMC,aAAa,GAAG,IAAIX,kBAASC,MAAb,CAAoB;AACtCC,EAAAA,IAAI,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GADgC;AAEtCO,EAAAA,KAAK,EAAE;AAAET,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAF+B;AAGtCQ,EAAAA,KAAK,EAAE;AAAEV,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAH+B;AAItCS,EAAAA,KAAK,EAAE;AAAEX,IAAAA,IAAI,EAAEI,MAAR;AAAgBC,IAAAA,OAAO,EAAE,CAAzB;AAA4BH,IAAAA,QAAQ,EAAE;AAAtC,GAJ+B;AAKtCU,EAAAA,QAAQ,EAAE;AAAEZ,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAL4B;AAMtCW,EAAAA,YAAY,EAAE;AAAEb,IAAAA,IAAI,EAAEI,MAAR;AAAgBC,IAAAA,OAAO,EAAE,CAAzB;AAA4BH,IAAAA,QAAQ,EAAE;AAAtC,GANwB;AAOtCY,EAAAA,WAAW,EAAE;AAAEd,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAPyB;AAQtCC,EAAAA,MAAM,EAAE;AAAEH,IAAAA,IAAI,EAAEI,MAAR;AAAgBC,IAAAA,OAAO,EAAE,CAAzB;AAA4BH,IAAAA,QAAQ,EAAE;AAAtC,GAR8B;AAStCa,EAAAA,UAAU,EAAE;AAAEf,IAAAA,IAAI,EAAEI,MAAR;AAAgBC,IAAAA,OAAO,EAAE,CAAzB;AAA4BH,IAAAA,QAAQ,EAAE;AAAtC,GAT0B;AAUtCc,EAAAA,OAAO,EAAE,CAACpB,YAAD;AAV6B,CAApB,CAAtB;;AAeA,MAAMqB,YAAY,GAAGpB,kBAASqB,KAAT,CAAe,SAAf,EAA0BV,aAA1B,CAArB;;eAEeS,Y",
      "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/models/",
      "sourcesContent": [
        "import mongoose from 'mongoose';\n\nconst reviewSchema = new mongoose.Schema(\n    {\n        name: { type: String, required: true },\n        rating: { type: Number, default: 0 },\n        comment: { type: String, required: true },\n    },\n    {\n        timestamps: true,\n    }\n);\n\n\nconst productSchema = new mongoose.Schema({\n    name: { type: String, required: true },\n    image: { type: String, required: true },\n    brand: { type: String, required: true },\n    price: { type: Number, default: 0, required: true },\n    category: { type: String, required: true },\n    countInStock: { type: Number, default: 0, required: true },\n    description: { type: String, required: true },\n    rating: { type: Number, default: 0, required: true },\n    numReviews: { type: Number, default: 0, required: true },\n    reviews: [reviewSchema],\n});\n\n\n\nconst productModel = mongoose.model('Product', productSchema);\n\nexport default productModel;"
      ]
    },
    "sourceType": "script",
    "mtime": 1598610425674
  },
  "{\"sourceRoot\":\"/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jake/Documents/WebAhead/Project/eShop.uk\",\"filename\":\"/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/productRoute.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jake/Documents/WebAhead/Project/eShop.uk\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.1": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/jake/Documents/WebAhead/Project/eShop.uk",
      "filename": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/productRoute.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/jake/Documents/WebAhead/Project/eShop.uk",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/productRoute.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/productRoute.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/",
        "sourceFileName": "productRoute.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _productModel = _interopRequireDefault(require(\"../models/productModel\"));\n\nvar _util = require(\"../util\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router(); //GET ALL\n\n\nrouter.get('/', async (req, res) => {\n  //if category selected, add to Mongo search\n  const category = req.query.category ? {\n    category: req.query.category\n  } : {}; //if category keyword, add to Mongo search (within name field)\n\n  const searchKeyword = req.query.searchKeyword ? {\n    name: {\n      $regex: req.query.searchKeyword,\n      $options: 'i'\n    }\n  } : {}; //FIXME: results dont seem to be ordered correctly\n  //if order selected, sort Mongo results (by price)\n\n  const sortOrder = req.query.sortOrder ? req.query.sortOrder === 'lowest' ? {\n    price: -1\n  } : {\n    price: 1\n  } : {\n    name: -1\n  };\n  const products = await _productModel.default.find({ ...category,\n    ...searchKeyword\n  }).sort(sortOrder);\n  res.send(products);\n}); //GET BY ID\n\nrouter.get('/:id', async (req, res) => {\n  const product = await _productModel.default.findOne({\n    _id: req.params.id\n  });\n\n  if (product) {\n    res.send(product);\n  } else {\n    res.status(404).send({\n      message: 'Product Not Found.'\n    });\n  }\n}); // POST reviews\n\nrouter.post('/:id/reviews', _util.isAuth, async (req, res) => {\n  const product = await _productModel.default.findById(req.params.id);\n\n  if (product) {\n    const review = {\n      name: req.body.name,\n      rating: Number(req.body.rating),\n      comment: req.body.comment\n    };\n    product.reviews.push(review);\n    product.numReviews = product.reviews.length; //get average of all reivews ratings\n\n    product.rating = product.reviews.reduce((a, c) => c.rating + a, 0) / product.reviews.length;\n    const updatedProduct = await product.save();\n    res.status(201).send({\n      data: updatedProduct.reviews[updatedProduct.reviews.length - 1],\n      message: 'Review saved successfully.'\n    });\n  } else {\n    res.status(404).send({\n      message: 'Product Not Found'\n    });\n  }\n}); //POST NEW PRODUCT\n\nrouter.post(\"/\", _util.isAuth, _util.isAdmin, async (req, res) => {\n  const product = new _productModel.default({\n    name: req.body.name,\n    price: req.body.price,\n    image: req.body.image,\n    brand: req.body.brand,\n    category: req.body.category,\n    countInStock: req.body.countInStock,\n    description: req.body.description,\n    rating: req.body.rating,\n    numReviews: req.body.numReviews\n  });\n  const newProduct = await product.save();\n\n  if (newProduct) {\n    return res.status(201).send({\n      message: \"New Product Created\",\n      data: newProduct\n    });\n  }\n\n  return res.status(500).send({\n    message: \"Error in Creating Product\"\n  });\n}); //PUT (EDIT) exisiting product\n\nrouter.put(\"/:id\", _util.isAuth, _util.isAdmin, async (req, res) => {\n  const productId = req.params.id;\n  const product = await _productModel.default.findById(productId);\n\n  if (product) {\n    product.name = req.body.name;\n    product.price = req.body.price;\n    product.image = req.body.image;\n    product.brand = req.body.brand;\n    product.category = req.body.category;\n    product.countInStock = req.body.countInStock;\n    product.description = req.body.description;\n    const updatedProduct = await product.save();\n\n    if (updatedProduct) {\n      return res.status(200).send({\n        message: \"Product Updated\",\n        data: updatedProduct\n      });\n    }\n  }\n\n  return res.status(500).send({\n    message: \"Error in Updating Product\"\n  });\n});\nrouter.delete('/:id', _util.isAuth, _util.isAdmin, async (req, res) => {\n  const deletedProduct = await _productModel.default.findById(req.params.id);\n\n  if (deletedProduct) {\n    await deletedProduct.remove();\n    res.send({\n      message: 'Product Deleted'\n    });\n  } else {\n    res.send('Error in Deletion.');\n  }\n});\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RSb3V0ZS5qcyJdLCJuYW1lcyI6WyJyb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwiZ2V0IiwicmVxIiwicmVzIiwiY2F0ZWdvcnkiLCJxdWVyeSIsInNlYXJjaEtleXdvcmQiLCJuYW1lIiwiJHJlZ2V4IiwiJG9wdGlvbnMiLCJzb3J0T3JkZXIiLCJwcmljZSIsInByb2R1Y3RzIiwiUHJvZHVjdCIsImZpbmQiLCJzb3J0Iiwic2VuZCIsInByb2R1Y3QiLCJmaW5kT25lIiwiX2lkIiwicGFyYW1zIiwiaWQiLCJzdGF0dXMiLCJtZXNzYWdlIiwicG9zdCIsImlzQXV0aCIsImZpbmRCeUlkIiwicmV2aWV3IiwiYm9keSIsInJhdGluZyIsIk51bWJlciIsImNvbW1lbnQiLCJyZXZpZXdzIiwicHVzaCIsIm51bVJldmlld3MiLCJsZW5ndGgiLCJyZWR1Y2UiLCJhIiwiYyIsInVwZGF0ZWRQcm9kdWN0Iiwic2F2ZSIsImRhdGEiLCJpc0FkbWluIiwiaW1hZ2UiLCJicmFuZCIsImNvdW50SW5TdG9jayIsImRlc2NyaXB0aW9uIiwibmV3UHJvZHVjdCIsInB1dCIsInByb2R1Y3RJZCIsImRlbGV0ZSIsImRlbGV0ZWRQcm9kdWN0IiwicmVtb3ZlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7Ozs7QUFJQSxNQUFNQSxNQUFNLEdBQUdDLGlCQUFRQyxNQUFSLEVBQWYsQyxDQUdBOzs7QUFDQUYsTUFBTSxDQUFDRyxHQUFQLENBQVcsR0FBWCxFQUFnQixPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFFaEM7QUFDQSxRQUFNQyxRQUFRLEdBQUdGLEdBQUcsQ0FBQ0csS0FBSixDQUFVRCxRQUFWLEdBQXFCO0FBQUVBLElBQUFBLFFBQVEsRUFBRUYsR0FBRyxDQUFDRyxLQUFKLENBQVVEO0FBQXRCLEdBQXJCLEdBQXdELEVBQXpFLENBSGdDLENBS2hDOztBQUNBLFFBQU1FLGFBQWEsR0FBR0osR0FBRyxDQUFDRyxLQUFKLENBQVVD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QzBCLElBQUosQ0FBU2tCLFdBQS9CO0FBQ0EsVUFBTVAsY0FBYyxHQUFHLE1BQU10QixPQUFPLENBQUN1QixJQUFSLEVBQTdCOztBQUNBLFFBQUlELGNBQUosRUFBb0I7QUFDaEIsYUFBT3BDLEdBQUcsQ0FBQ21CLE1BQUosQ0FBVyxHQUFYLEVBQWdCTixJQUFoQixDQUFxQjtBQUFFTyxRQUFBQSxPQUFPLEVBQUUsaUJBQVg7QUFBOEJrQixRQUFBQSxJQUFJLEVBQUVGO0FBQXBDLE9BQXJCLENBQVA7QUFDSDtBQUNKOztBQUNELFNBQU9wQyxHQUFHLENBQUNtQixNQUFKLENBQVcsR0FBWCxFQUFnQk4sSUFBaEIsQ0FBcUI7QUFBRU8sSUFBQUEsT0FBTyxFQUFFO0FBQVgsR0FBckIsQ0FBUDtBQUVILENBbEJEO0FBcUJBekIsTUFBTSxDQUFDb0QsTUFBUCxDQUFjLE1BQWQsRUFBc0J6QixZQUF0QixFQUE4QmlCLGFBQTlCLEVBQXVDLE9BQU94QyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDdkQsUUFBTWdELGNBQWMsR0FBRyxNQUFNdEMsc0JBQVFhLFFBQVIsQ0FBaUJ4QixHQUFHLENBQUNrQixNQUFKLENBQVdDLEVBQTVCLENBQTdCOztBQUNBLE1BQUk4QixjQUFKLEVBQW9CO0FBQ2hCLFVBQU1BLGNBQWMsQ0FBQ0MsTUFBZixFQUFOO0FBQ0FqRCxJQUFBQSxHQUFHLENBQUNhLElBQUosQ0FBUztBQUFFTyxNQUFBQSxPQUFPLEVBQUU7QUFBWCxLQUFUO0FBQ0gsR0FIRCxNQUdPO0FBQ0hwQixJQUFBQSxHQUFHLENBQUNhLElBQUosQ0FBUyxvQkFBVDtBQUNIO0FBQ0osQ0FSRDtlQVllbEIsTSIsInNvdXJjZVJvb3QiOiIvaG9tZS9qYWtlL0RvY3VtZW50cy9XZWJBaGVhZC9Qcm9qZWN0L2VTaG9wLnVrL2JhY2tlbmQvcm91dGVzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IFByb2R1Y3QgZnJvbSAnLi4vbW9kZWxzL3Byb2R1Y3RNb2RlbCc7XG5pbXBvcnQgeyBnZXRUb2tlbiB9IGZyb20gJy4uL3V0aWwnO1xuaW1wb3J0IHsgaXNBdXRoLCBpc0FkbWluIH0gZnJvbSAnLi4vdXRpbCdcblxuXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG5cbi8vR0VUIEFMTFxucm91dGVyLmdldCgnLycsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuXG4gICAgLy9pZiBjYXRlZ29yeSBzZWxlY3RlZCwgYWRkIHRvIE1vbmdvIHNlYXJjaFxuICAgIGNvbnN0IGNhdGVnb3J5ID0gcmVxLnF1ZXJ5LmNhdGVnb3J5ID8geyBjYXRlZ29yeTogcmVxLnF1ZXJ5LmNhdGVnb3J5IH0gOiB7fTtcblxuICAgIC8vaWYgY2F0ZWdvcnkga2V5d29yZCwgYWRkIHRvIE1vbmdvIHNlYXJjaCAod2l0aGluIG5hbWUgZmllbGQpXG4gICAgY29uc3Qgc2VhcmNoS2V5d29yZCA9IHJlcS5xdWVyeS5zZWFyY2hLZXl3b3JkXG4gICAgICAgID8ge1xuICAgICAgICAgICAgbmFtZToge1xuICAgICAgICAgICAgICAgICRyZWdleDogcmVxLnF1ZXJ5LnNlYXJjaEtleXdvcmQsXG4gICAgICAgICAgICAgICAgJG9wdGlvbnM6ICdpJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH1cbiAgICAgICAgOiB7fTtcblxuICAgIC8vRklYTUU6IHJlc3VsdHMgZG9udCBzZWVtIHRvIGJlIG9yZGVyZWQgY29ycmVjdGx5XG5cbiAgICAvL2lmIG9yZGVyIHNlbGVjdGVkLCBzb3J0IE1vbmdvIHJlc3VsdHMgKGJ5IHByaWNlKVxuICAgIGNvbnN0IHNvcnRPcmRlciA9IHJlcS5xdWVyeS5zb3J0T3JkZXJcbiAgICAgICAgPyByZXEucXVlcnkuc29ydE9yZGVyID09PSAnbG93ZXN0J1xuICAgICAgICAgICAgPyB7IHByaWNlOiAtMSB9XG4gICAgICAgICAgICA6IHsgcHJpY2U6IDEgfVxuICAgICAgICA6IHsgbmFtZTogLTEgfTtcbiAgICBjb25zdCBwcm9kdWN0cyA9IGF3YWl0IFByb2R1Y3QuZmluZCh7IC4uLmNhdGVnb3J5LCAuLi5zZWFyY2hLZXl3b3JkIH0pLnNvcnQoXG4gICAgICAgIHNvcnRPcmRlclxuICAgICk7XG4gICAgcmVzLnNlbmQocHJvZHVjdHMpO1xufSk7XG5cblxuLy9HRVQgQlkgSURcbnJvdXRlci5nZXQoJy86aWQnLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCBwcm9kdWN0ID0gYXdhaXQgUHJvZHVjdC5maW5kT25lKHsgX2lkOiByZXEucGFyYW1zLmlkIH0pO1xuICAgIGlmIChwcm9kdWN0KSB7XG4gICAgICAgIHJlcy5zZW5kKHByb2R1Y3QpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsgbWVzc2FnZTogJ1Byb2R1Y3QgTm90IEZvdW5kLicgfSk7XG4gICAgfVxufSk7XG5cbi8vIFBPU1QgcmV2aWV3c1xucm91dGVyLnBvc3QoJy86aWQvcmV2aWV3cycsIGlzQXV0aCwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgcHJvZHVjdCA9IGF3YWl0IFByb2R1Y3QuZmluZEJ5SWQocmVxLnBhcmFtcy5pZCk7XG4gICAgaWYgKHByb2R1Y3QpIHtcbiAgICAgICAgY29uc3QgcmV2aWV3ID0ge1xuICAgICAgICAgICAgbmFtZTogcmVxLmJvZHkubmFtZSxcbiAgICAgICAgICAgIHJhdGluZzogTnVtYmVyKHJlcS5ib2R5LnJhdGluZyksXG4gICAgICAgICAgICBjb21tZW50OiByZXEuYm9keS5jb21tZW50LFxuICAgICAgICB9O1xuICAgICAgICBwcm9kdWN0LnJldmlld3MucHVzaChyZXZpZXcpO1xuICAgICAgICBwcm9kdWN0Lm51bVJldmlld3MgPSBwcm9kdWN0LnJldmlld3MubGVuZ3RoO1xuICAgICAgICAvL2dldCBhdmVyYWdlIG9mIGFsbCByZWl2ZXdzIHJhdGluZ3NcbiAgICAgICAgcHJvZHVjdC5yYXRpbmcgPSBwcm9kdWN0LnJldmlld3MucmVkdWNlKChhLCBjKSA9PiBjLnJhdGluZyArIGEsIDApIC8gcHJvZHVjdC5yZXZpZXdzLmxlbmd0aDtcbiAgICAgICAgY29uc3QgdXBkYXRlZFByb2R1Y3QgPSBhd2FpdCBwcm9kdWN0LnNhdmUoKTtcbiAgICAgICAgcmVzLnN0YXR1cygyMDEpLnNlbmQoe1xuICAgICAgICAgICAgZGF0YTogdXBkYXRlZFByb2R1Y3QucmV2aWV3c1t1cGRhdGVkUHJvZHVjdC5yZXZpZXdzLmxlbmd0aCAtIDFdLFxuICAgICAgICAgICAgbWVzc2FnZTogJ1JldmlldyBzYXZlZCBzdWNjZXNzZnVsbHkuJyxcbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoeyBtZXNzYWdlOiAnUHJvZHVjdCBOb3QgRm91bmQnIH0pO1xuICAgIH1cbn0pO1xuXG5cbi8vUE9TVCBORVcgUFJPRFVDVFxucm91dGVyLnBvc3QoXCIvXCIsIGlzQXV0aCwgaXNBZG1pbiwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3QgcHJvZHVjdCA9IG5ldyBQcm9kdWN0KHtcbiAgICAgICAgbmFtZTogcmVxLmJvZHkubmFtZSxcbiAgICAgICAgcHJpY2U6IHJlcS5ib2R5LnByaWNlLFxuICAgICAgICBpbWFnZTogcmVxLmJvZHkuaW1hZ2UsXG4gICAgICAgIGJyYW5kOiByZXEuYm9keS5icmFuZCxcbiAgICAgICAgY2F0ZWdvcnk6IHJlcS5ib2R5LmNhdGVnb3J5LFxuICAgICAgICBjb3VudEluU3RvY2s6IHJlcS5ib2R5LmNvdW50SW5TdG9jayxcbiAgICAgICAgZGVzY3JpcHRpb246IHJlcS5ib2R5LmRlc2NyaXB0aW9uLFxuICAgICAgICByYXRpbmc6IHJlcS5ib2R5LnJhdGluZyxcbiAgICAgICAgbnVtUmV2aWV3czogcmVxLmJvZHkubnVtUmV2aWV3cyxcbiAgICB9KVxuICAgIGNvbnN0IG5ld1Byb2R1Y3QgPSBhd2FpdCBwcm9kdWN0LnNhdmUoKTtcbiAgICBpZiAobmV3UHJvZHVjdCkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDEpLnNlbmQoeyBtZXNzYWdlOiBcIk5ldyBQcm9kdWN0IENyZWF0ZWRcIiwgZGF0YTogbmV3UHJvZHVjdCB9KVxuICAgIH1cbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBtZXNzYWdlOiBcIkVycm9yIGluIENyZWF0aW5nIFByb2R1Y3RcIiB9KVxufSlcblxuLy9QVVQgKEVESVQpIGV4aXNpdGluZyBwcm9kdWN0XG5yb3V0ZXIucHV0KFwiLzppZFwiLCBpc0F1dGgsIGlzQWRtaW4sIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IHByb2R1Y3RJZCA9IHJlcS5wYXJhbXMuaWQ7XG4gICAgY29uc3QgcHJvZHVjdCA9IGF3YWl0IFByb2R1Y3QuZmluZEJ5SWQocHJvZHVjdElkKTtcbiAgICBpZiAocHJvZHVjdCkge1xuICAgICAgICBwcm9kdWN0Lm5hbWUgPSByZXEuYm9keS5uYW1lO1xuICAgICAgICBwcm9kdWN0LnByaWNlID0gcmVxLmJvZHkucHJpY2U7XG4gICAgICAgIHByb2R1Y3QuaW1hZ2UgPSByZXEuYm9keS5pbWFnZTtcbiAgICAgICAgcHJvZHVjdC5icmFuZCA9IHJlcS5ib2R5LmJyYW5kO1xuICAgICAgICBwcm9kdWN0LmNhdGVnb3J5ID0gcmVxLmJvZHkuY2F0ZWdvcnk7XG4gICAgICAgIHByb2R1Y3QuY291bnRJblN0b2NrID0gcmVxLmJvZHkuY291bnRJblN0b2NrO1xuICAgICAgICBwcm9kdWN0LmRlc2NyaXB0aW9uID0gcmVxLmJvZHkuZGVzY3JpcHRpb247XG4gICAgICAgIGNvbnN0IHVwZGF0ZWRQcm9kdWN0ID0gYXdhaXQgcHJvZHVjdC5zYXZlKCk7XG4gICAgICAgIGlmICh1cGRhdGVkUHJvZHVjdCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHsgbWVzc2FnZTogXCJQcm9kdWN0IFVwZGF0ZWRcIiwgZGF0YTogdXBkYXRlZFByb2R1Y3QgfSlcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLnNlbmQoeyBtZXNzYWdlOiBcIkVycm9yIGluIFVwZGF0aW5nIFByb2R1Y3RcIiB9KVxuXG59KVxuXG5cbnJvdXRlci5kZWxldGUoJy86aWQnLCBpc0F1dGgsIGlzQWRtaW4sIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IGRlbGV0ZWRQcm9kdWN0ID0gYXdhaXQgUHJvZHVjdC5maW5kQnlJZChyZXEucGFyYW1zLmlkKTtcbiAgICBpZiAoZGVsZXRlZFByb2R1Y3QpIHtcbiAgICAgICAgYXdhaXQgZGVsZXRlZFByb2R1Y3QucmVtb3ZlKCk7XG4gICAgICAgIHJlcy5zZW5kKHsgbWVzc2FnZTogJ1Byb2R1Y3QgRGVsZXRlZCcgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmVzLnNlbmQoJ0Vycm9yIGluIERlbGV0aW9uLicpO1xuICAgIH1cbn0pO1xuXG5cblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "productRoute.js"
      ],
      "names": [
        "router",
        "express",
        "Router",
        "get",
        "req",
        "res",
        "category",
        "query",
        "searchKeyword",
        "name",
        "$regex",
        "$options",
        "sortOrder",
        "price",
        "products",
        "Product",
        "find",
        "sort",
        "send",
        "product",
        "findOne",
        "_id",
        "params",
        "id",
        "status",
        "message",
        "post",
        "isAuth",
        "findById",
        "review",
        "body",
        "rating",
        "Number",
        "comment",
        "reviews",
        "push",
        "numReviews",
        "length",
        "reduce",
        "a",
        "c",
        "updatedProduct",
        "save",
        "data",
        "isAdmin",
        "image",
        "brand",
        "countInStock",
        "description",
        "newProduct",
        "put",
        "productId",
        "delete",
        "deletedProduct",
        "remove"
      ],
      "mappings": "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",
      "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/",
      "sourcesContent": [
        "import express from 'express';\nimport Product from '../models/productModel';\nimport { getToken } from '../util';\nimport { isAuth, isAdmin } from '../util'\n\n\nconst router = express.Router();\n\n\n//GET ALL\nrouter.get('/', async (req, res) => {\n\n    //if category selected, add to Mongo search\n    const category = req.query.category ? { category: req.query.category } : {};\n\n    //if category keyword, add to Mongo search (within name field)\n    const searchKeyword = req.query.searchKeyword\n        ? {\n            name: {\n                $regex: req.query.searchKeyword,\n                $options: 'i',\n            },\n        }\n        : {};\n\n    //FIXME: results dont seem to be ordered correctly\n\n    //if order selected, sort Mongo results (by price)\n    const sortOrder = req.query.sortOrder\n        ? req.query.sortOrder === 'lowest'\n            ? { price: -1 }\n            : { price: 1 }\n        : { name: -1 };\n    const products = await Product.find({ ...category, ...searchKeyword }).sort(\n        sortOrder\n    );\n    res.send(products);\n});\n\n\n//GET BY ID\nrouter.get('/:id', async (req, res) => {\n    const product = await Product.findOne({ _id: req.params.id });\n    if (product) {\n        res.send(product);\n    } else {\n        res.status(404).send({ message: 'Product Not Found.' });\n    }\n});\n\n// POST reviews\nrouter.post('/:id/reviews', isAuth, async (req, res) => {\n    const product = await Product.findById(req.params.id);\n    if (product) {\n        const review = {\n            name: req.body.name,\n            rating: Number(req.body.rating),\n            comment: req.body.comment,\n        };\n        product.reviews.push(review);\n        product.numReviews = product.reviews.length;\n        //get average of all reivews ratings\n        product.rating = product.reviews.reduce((a, c) => c.rating + a, 0) / product.reviews.length;\n        const updatedProduct = await product.save();\n        res.status(201).send({\n            data: updatedProduct.reviews[updatedProduct.reviews.length - 1],\n            message: 'Review saved successfully.',\n        });\n    } else {\n        res.status(404).send({ message: 'Product Not Found' });\n    }\n});\n\n\n//POST NEW PRODUCT\nrouter.post(\"/\", isAuth, isAdmin, async (req, res) => {\n    const product = new Product({\n        name: req.body.name,\n        price: req.body.price,\n        image: req.body.image,\n        brand: req.body.brand,\n        category: req.body.category,\n        countInStock: req.body.countInStock,\n        description: req.body.description,\n        rating: req.body.rating,\n        numReviews: req.body.numReviews,\n    })\n    const newProduct = await product.save();\n    if (newProduct) {\n        return res.status(201).send({ message: \"New Product Created\", data: newProduct })\n    }\n    return res.status(500).send({ message: \"Error in Creating Product\" })\n})\n\n//PUT (EDIT) exisiting product\nrouter.put(\"/:id\", isAuth, isAdmin, async (req, res) => {\n    const productId = req.params.id;\n    const product = await Product.findById(productId);\n    if (product) {\n        product.name = req.body.name;\n        product.price = req.body.price;\n        product.image = req.body.image;\n        product.brand = req.body.brand;\n        product.category = req.body.category;\n        product.countInStock = req.body.countInStock;\n        product.description = req.body.description;\n        const updatedProduct = await product.save();\n        if (updatedProduct) {\n            return res.status(200).send({ message: \"Product Updated\", data: updatedProduct })\n        }\n    }\n    return res.status(500).send({ message: \"Error in Updating Product\" })\n\n})\n\n\nrouter.delete('/:id', isAuth, isAdmin, async (req, res) => {\n    const deletedProduct = await Product.findById(req.params.id);\n    if (deletedProduct) {\n        await deletedProduct.remove();\n        res.send({ message: 'Product Deleted' });\n    } else {\n        res.send('Error in Deletion.');\n    }\n});\n\n\n\nexport default router;"
      ]
    },
    "sourceType": "script",
    "mtime": 1598611403637
  },
  "{\"sourceRoot\":\"/home/jake/Documents/WebAhead/Project/eShop.uk/backend/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jake/Documents/WebAhead/Project/eShop.uk\",\"filename\":\"/home/jake/Documents/WebAhead/Project/eShop.uk/backend/models/productModel.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jake/Documents/WebAhead/Project/eShop.uk\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.1": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/models/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/jake/Documents/WebAhead/Project/eShop.uk",
      "filename": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/models/productModel.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/jake/Documents/WebAhead/Project/eShop.uk",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/models/productModel.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/models/productModel.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/models/",
        "sourceFileName": "productModel.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst reviewSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  rating: {\n    type: Number,\n    default: 0\n  },\n  comment: {\n    type: String,\n    required: true\n  }\n}, {\n  timestamps: true\n});\nconst productSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  image: {\n    type: String,\n    required: true\n  },\n  brand: {\n    type: String,\n    required: true\n  },\n  price: {\n    type: Number,\n    default: 0,\n    required: true\n  },\n  category: {\n    type: String,\n    required: true\n  },\n  countInStock: {\n    type: Number,\n    default: 0,\n    required: true\n  },\n  description: {\n    type: String,\n    required: true\n  },\n  rating: {\n    type: Number,\n    default: 0,\n    required: true\n  },\n  numReviews: {\n    type: Number,\n    default: 0,\n    required: true\n  },\n  reviews: [reviewSchema]\n});\n\nconst productModel = _mongoose.default.model('Product', productSchema);\n\nvar _default = productModel;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RNb2RlbC5qcyJdLCJuYW1lcyI6WyJyZXZpZXdTY2hlbWEiLCJtb25nb29zZSIsIlNjaGVtYSIsIm5hbWUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJyYXRpbmciLCJOdW1iZXIiLCJkZWZhdWx0IiwiY29tbWVudCIsInRpbWVzdGFtcHMiLCJwcm9kdWN0U2NoZW1hIiwiaW1hZ2UiLCJicmFuZCIsInByaWNlIiwiY2F0ZWdvcnkiLCJjb3VudEluU3RvY2siLCJkZXNjcmlwdGlvbiIsIm51bVJldmlld3MiLCJyZXZpZXdzIiwicHJvZHVjdE1vZGVsIiwibW9kZWwiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7OztBQUVBLE1BQU1BLFlBQVksR0FBRyxJQUFJQyxrQkFBU0MsTUFBYixDQUNqQjtBQUNJQyxFQUFBQSxJQUFJLEVBQUU7QUFBRUMsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUIsR0FEVjtBQUVJQyxFQUFBQSxNQUFNLEVBQUU7QUFBRUgsSUFBQUEsSUFBSSxFQUFFSSxNQUFSO0FBQWdCQyxJQUFBQSxPQUFPLEVBQUU7QUFBekIsR0FGWjtBQUdJQyxFQUFBQSxPQUFPLEVBQUU7QUFBRU4sSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUI7QUFIYixDQURpQixFQU1qQjtBQUNJSyxFQUFBQSxVQUFVLEVBQUU7QUFEaEIsQ0FOaUIsQ0FBckI7QUFZQSxNQUFNQyxhQUFhLEdBQUcsSUFBSVgsa0JBQVNDLE1BQWIsQ0FBb0I7QUFDdENDLEVBQUFBLElBQUksRUFBRTtBQUFFQyxJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQURnQztBQUV0Q08sRUFBQUEsS0FBSyxFQUFFO0FBQUVULElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBRitCO0FBR3RDUSxFQUFBQSxLQUFLLEVBQUU7QUFBRVYsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUIsR0FIK0I7QUFJdENTLEVBQUFBLEtBQUssRUFBRTtBQUFFWCxJQUFBQSxJQUFJLEVBQUVJLE1BQVI7QUFBZ0JDLElBQUFBLE9BQU8sRUFBRSxDQUF6QjtBQUE0QkgsSUFBQUEsUUFBUSxFQUFFO0FBQXRDLEdBSitCO0FBS3RDVSxFQUFBQSxRQUFRLEVBQUU7QUFBRVosSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUIsR0FMNEI7QUFNdENXLEVBQUFBLFlBQVksRUFBRTtBQUFFYixJQUFBQSxJQUFJLEVBQUVJLE1BQVI7QUFBZ0JDLElBQUFBLE9BQU8sRUFBRSxDQUF6QjtBQUE0QkgsSUFBQUEsUUFBUSxFQUFFO0FBQXRDLEdBTndCO0FBT3RDWSxFQUFBQSxXQUFXLEVBQUU7QUFBRWQsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUIsR0FQeUI7QUFRdENDLEVBQUFBLE1BQU0sRUFBRTtBQUFFSCxJQUFBQSxJQUFJLEVBQUVJLE1BQVI7QUFBZ0JDLElBQUFBLE9BQU8sRUFBRSxDQUF6QjtBQUE0QkgsSUFBQUEsUUFBUSxFQUFFO0FBQXRDLEdBUjhCO0FBU3RDYSxFQUFBQSxVQUFVLEVBQUU7QUFBRWYsSUFBQUEsSUFBSSxFQUFFSSxNQUFSO0FBQWdCQyxJQUFBQSxPQUFPLEVBQUUsQ0FBekI7QUFBNEJILElBQUFBLFFBQVEsRUFBRTtBQUF0QyxHQVQwQjtBQVV0Q2MsRUFBQUEsT0FBTyxFQUFFLENBQUNwQixZQUFEO0FBVjZCLENBQXBCLENBQXRCOztBQWVBLE1BQU1xQixZQUFZLEdBQUdwQixrQkFBU3FCLEtBQVQsQ0FBZSxTQUFmLEVBQTBCVixhQUExQixDQUFyQjs7ZUFFZVMsWSIsInNvdXJjZVJvb3QiOiIvaG9tZS9qYWtlL0RvY3VtZW50cy9XZWJBaGVhZC9Qcm9qZWN0L2VTaG9wLnVrL2JhY2tlbmQvbW9kZWxzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XG5cbmNvbnN0IHJldmlld1NjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoXG4gICAge1xuICAgICAgICBuYW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICAgICAgcmF0aW5nOiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDogMCB9LFxuICAgICAgICBjb21tZW50OiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgdGltZXN0YW1wczogdHJ1ZSxcbiAgICB9XG4pO1xuXG5cbmNvbnN0IHByb2R1Y3RTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hKHtcbiAgICBuYW1lOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICBpbWFnZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgYnJhbmQ6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIHByaWNlOiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDogMCwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICBjYXRlZ29yeTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgY291bnRJblN0b2NrOiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDogMCwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICBkZXNjcmlwdGlvbjogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgcmF0aW5nOiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDogMCwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICBudW1SZXZpZXdzOiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDogMCwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICByZXZpZXdzOiBbcmV2aWV3U2NoZW1hXSxcbn0pO1xuXG5cblxuY29uc3QgcHJvZHVjdE1vZGVsID0gbW9uZ29vc2UubW9kZWwoJ1Byb2R1Y3QnLCBwcm9kdWN0U2NoZW1hKTtcblxuZXhwb3J0IGRlZmF1bHQgcHJvZHVjdE1vZGVsOyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "productModel.js"
      ],
      "names": [
        "reviewSchema",
        "mongoose",
        "Schema",
        "name",
        "type",
        "String",
        "required",
        "rating",
        "Number",
        "default",
        "comment",
        "timestamps",
        "productSchema",
        "image",
        "brand",
        "price",
        "category",
        "countInStock",
        "description",
        "numReviews",
        "reviews",
        "productModel",
        "model"
      ],
      "mappings": ";;;;;;;AAAA;;;;AAEA,MAAMA,YAAY,GAAG,IAAIC,kBAASC,MAAb,CACjB;AACIC,EAAAA,IAAI,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GADV;AAEIC,EAAAA,MAAM,EAAE;AAAEH,IAAAA,IAAI,EAAEI,MAAR;AAAgBC,IAAAA,OAAO,EAAE;AAAzB,GAFZ;AAGIC,EAAAA,OAAO,EAAE;AAAEN,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B;AAHb,CADiB,EAMjB;AACIK,EAAAA,UAAU,EAAE;AADhB,CANiB,CAArB;AAYA,MAAMC,aAAa,GAAG,IAAIX,kBAASC,MAAb,CAAoB;AACtCC,EAAAA,IAAI,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GADgC;AAEtCO,EAAAA,KAAK,EAAE;AAAET,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAF+B;AAGtCQ,EAAAA,KAAK,EAAE;AAAEV,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAH+B;AAItCS,EAAAA,KAAK,EAAE;AAAEX,IAAAA,IAAI,EAAEI,MAAR;AAAgBC,IAAAA,OAAO,EAAE,CAAzB;AAA4BH,IAAAA,QAAQ,EAAE;AAAtC,GAJ+B;AAKtCU,EAAAA,QAAQ,EAAE;AAAEZ,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAL4B;AAMtCW,EAAAA,YAAY,EAAE;AAAEb,IAAAA,IAAI,EAAEI,MAAR;AAAgBC,IAAAA,OAAO,EAAE,CAAzB;AAA4BH,IAAAA,QAAQ,EAAE;AAAtC,GANwB;AAOtCY,EAAAA,WAAW,EAAE;AAAEd,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAPyB;AAQtCC,EAAAA,MAAM,EAAE;AAAEH,IAAAA,IAAI,EAAEI,MAAR;AAAgBC,IAAAA,OAAO,EAAE,CAAzB;AAA4BH,IAAAA,QAAQ,EAAE;AAAtC,GAR8B;AAStCa,EAAAA,UAAU,EAAE;AAAEf,IAAAA,IAAI,EAAEI,MAAR;AAAgBC,IAAAA,OAAO,EAAE,CAAzB;AAA4BH,IAAAA,QAAQ,EAAE;AAAtC,GAT0B;AAUtCc,EAAAA,OAAO,EAAE,CAACpB,YAAD;AAV6B,CAApB,CAAtB;;AAeA,MAAMqB,YAAY,GAAGpB,kBAASqB,KAAT,CAAe,SAAf,EAA0BV,aAA1B,CAArB;;eAEeS,Y",
      "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/models/",
      "sourcesContent": [
        "import mongoose from 'mongoose';\n\nconst reviewSchema = new mongoose.Schema(\n    {\n        name: { type: String, required: true },\n        rating: { type: Number, default: 0 },\n        comment: { type: String, required: true },\n    },\n    {\n        timestamps: true,\n    }\n);\n\n\nconst productSchema = new mongoose.Schema({\n    name: { type: String, required: true },\n    image: { type: String, required: true },\n    brand: { type: String, required: true },\n    price: { type: Number, default: 0, required: true },\n    category: { type: String, required: true },\n    countInStock: { type: Number, default: 0, required: true },\n    description: { type: String, required: true },\n    rating: { type: Number, default: 0, required: true },\n    numReviews: { type: Number, default: 0, required: true },\n    reviews: [reviewSchema],\n});\n\n\n\nconst productModel = mongoose.model('Product', productSchema);\n\nexport default productModel;"
      ]
    },
    "sourceType": "script",
    "mtime": 1598610425674
  },
  "{\"sourceRoot\":\"/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jake/Documents/WebAhead/Project/eShop.uk\",\"filename\":\"/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/orderRoute.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jake/Documents/WebAhead/Project/eShop.uk\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.1": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/jake/Documents/WebAhead/Project/eShop.uk",
      "filename": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/orderRoute.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/jake/Documents/WebAhead/Project/eShop.uk",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/orderRoute.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/orderRoute.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/",
        "sourceFileName": "orderRoute.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _orderModel = _interopRequireDefault(require(\"../models/orderModel\"));\n\nvar _util = require(\"../util\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router(); //GET ALL\n\n\nrouter.get(\"/\", _util.isAuth, async (req, res) => {\n  const orders = await _orderModel.default.find({}).populate('user');\n  console.log(\"ORDERS WITH POPULATE USRS\", orders);\n  res.send(orders);\n}); //GET my order\n\nrouter.get(\"/mine\", _util.isAuth, async (req, res) => {\n  const orders = await _orderModel.default.find({\n    user: req.user._id\n  });\n  res.send(orders);\n}); // DELETE by ID\n\nrouter.delete(\"/:id\", _util.isAuth, _util.isAdmin, async (req, res) => {\n  const order = await _orderModel.default.findOne({\n    _id: req.params.id\n  });\n\n  if (order) {\n    const deletedOrder = await order.remove();\n    res.send(deletedOrder);\n  } else {\n    res.status(404).send(\"Order Not Found.\");\n  }\n}); //GET BY ID\n\nrouter.get('/:id', _util.isAuth, async (req, res) => {\n  console.log(\"GET ORDER bY ID\", req.body);\n  const order = await _orderModel.default.findOne({\n    _id: req.params.id\n  });\n\n  if (order) {\n    res.send(order);\n  } else {\n    res.status(404).send({\n      message: 'Order Not Found.'\n    });\n  }\n}); //Post New Order\n\nrouter.post(\"/\", _util.isAuth, async (req, res) => {\n  console.log(\"post new order route hit\", req.body);\n  const newOrder = new _orderModel.default({\n    orderItems: req.body.orderItems,\n    user: req.user._id,\n    shipping: req.body.shipping,\n    payment: req.body.payment,\n    itemsPrice: req.body.itemsPrice,\n    taxPrice: req.body.taxPrice,\n    shippingPrice: req.body.shippingPrice,\n    totalPrice: req.body.totalPrice\n  });\n  const newOrderCreated = await newOrder.save();\n  res.status(201).send({\n    message: \"New Order Created\",\n    data: newOrderCreated\n  });\n}); //Update that order is paid\n\nrouter.put(\"/:id/pay\", _util.isAuth, async (req, res) => {\n  console.log(\"update order to paid route hit\");\n  const order = await _orderModel.default.findById(req.params.id);\n\n  if (order) {\n    order.isPaid = true;\n    order.paidAt = Date.now();\n    order.payment = {\n      paymentMethod: 'paypal',\n      paymentResult: {\n        //FIXME: thse details not being save, different object layout - fix\n        payerID: req.body.payerID,\n        orderID: req.body.orderID,\n        paymentID: req.body.paymentID\n      }\n    };\n    const updatedOrder = await order.save();\n    res.send({\n      message: 'Order Paid.',\n      order: updatedOrder\n    });\n  } else {\n    res.status(404).send({\n      message: 'Order not found.'\n    });\n  }\n});\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyUm91dGUuanMiXSwibmFtZXMiOlsicm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsImdldCIsImlzQXV0aCIsInJlcSIsInJlcyIsIm9yZGVycyIsIk9yZGVyIiwiZmluZCIsInBvcHVsYXRlIiwiY29uc29sZSIsImxvZyIsInNlbmQiLCJ1c2VyIiwiX2lkIiwiZGVsZXRlIiwiaXNBZG1pbiIsIm9yZGVyIiwiZmluZE9uZSIsInBhcmFtcyIsImlkIiwiZGVsZXRlZE9yZGVyIiwicmVtb3ZlIiwic3RhdHVzIiwiYm9keSIsIm1lc3NhZ2UiLCJwb3N0IiwibmV3T3JkZXIiLCJvcmRlckl0ZW1zIiwic2hpcHBpbmciLCJwYXltZW50IiwiaXRlbXNQcmljZSIsInRheFByaWNlIiwic2hpcHBpbmdQcmljZSIsInRvdGFsUHJpY2UiLCJuZXdPcmRlckNyZWF0ZWQiLCJzYXZlIiwiZGF0YSIsInB1dCIsImZpbmRCeUlkIiwiaXNQYWlkIiwicGFpZEF0IiwiRGF0ZSIsIm5vdyIsInBheW1lbnRNZXRob2QiLCJwYXltZW50UmVzdWx0IiwicGF5ZXJJRCIsIm9yZGVySUQiLCJwYXltZW50SUQiLCJ1cGRhdGVkT3JkZXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7OztBQUdBLE1BQU1BLE1BQU0sR0FBR0MsaUJBQVFDLE1BQVIsRUFBZixDLENBS0E7OztBQUNBRixNQUFNLENBQUNHLEdBQVAsQ0FBVyxHQUFYLEVBQWdCQyxZQUFoQixFQUF3QixPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDeEMsUUFBTUMsTUFBTSxHQUFHLE1BQU1DLG9CQUFNQyxJQUFOLENBQVcsRUFBWCxFQUFlQyxRQUFmLENBQXdCLE1BQXhCLENBQXJCO0FBQ0FDLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLDJCQUFaLEVBQXlDTCxNQUF6QztBQUNBRCxFQUFBQSxHQUFHLENBQUNPLElBQUosQ0FBU04sTUFBVDtBQUNILENBSkQsRSxDQU1BOztBQUNB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LENBQXFCO0FBQUVhLE1BQUFBLE9BQU8sRUFBRTtBQUFYLEtBQXJCO0FBQ0g7QUFDSixDQXJCRDtlQXVCZTFCLE0iLCJzb3VyY2VSb290IjoiL2hvbWUvamFrZS9Eb2N1bWVudHMvV2ViQWhlYWQvUHJvamVjdC9lU2hvcC51ay9iYWNrZW5kL3JvdXRlcy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCBPcmRlciBmcm9tICcuLi9tb2RlbHMvb3JkZXJNb2RlbCc7XG5pbXBvcnQgeyBpc0F1dGgsIGlzQWRtaW4gfSBmcm9tICcuLi91dGlsJ1xuXG5cbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cblxuXG5cbi8vR0VUIEFMTFxucm91dGVyLmdldChcIi9cIiwgaXNBdXRoLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCBvcmRlcnMgPSBhd2FpdCBPcmRlci5maW5kKHt9KS5wb3B1bGF0ZSgndXNlcicpO1xuICAgIGNvbnNvbGUubG9nKFwiT1JERVJTIFdJVEggUE9QVUxBVEUgVVNSU1wiLCBvcmRlcnMpXG4gICAgcmVzLnNlbmQob3JkZXJzKTtcbn0pO1xuXG4vL0dFVCBteSBvcmRlclxucm91dGVyLmdldChcIi9taW5lXCIsIGlzQXV0aCwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3Qgb3JkZXJzID0gYXdhaXQgT3JkZXIuZmluZCh7IHVzZXI6IHJlcS51c2VyLl9pZCB9KTtcbiAgICByZXMuc2VuZChvcmRlcnMpO1xufSk7XG5cblxuLy8gREVMRVRFIGJ5IElEXG5yb3V0ZXIuZGVsZXRlKFwiLzppZFwiLCBpc0F1dGgsIGlzQWRtaW4sIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IG9yZGVyID0gYXdhaXQgT3JkZXIuZmluZE9uZSh7IF9pZDogcmVxLnBhcmFtcy5pZCB9KTtcbiAgICBpZiAob3JkZXIpIHtcbiAgICAgICAgY29uc3QgZGVsZXRlZE9yZGVyID0gYXdhaXQgb3JkZXIucmVtb3ZlKCk7XG4gICAgICAgIHJlcy5zZW5kKGRlbGV0ZWRPcmRlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoXCJPcmRlciBOb3QgRm91bmQuXCIpXG4gICAgfVxufSk7XG5cblxuLy9HRVQgQlkgSURcbnJvdXRlci5nZXQoJy86aWQnLCBpc0F1dGgsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnNvbGUubG9nKFwiR0VUIE9SREVSIGJZIElEXCIsIHJlcS5ib2R5KVxuICAgIGNvbnN0IG9yZGVyID0gYXdhaXQgT3JkZXIuZmluZE9uZSh7IF9pZDogcmVxLnBhcmFtcy5pZCB9KTtcbiAgICBpZiAob3JkZXIpIHtcbiAgICAgICAgcmVzLnNlbmQob3JkZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsgbWVzc2FnZTogJ09yZGVyIE5vdCBGb3VuZC4nIH0pO1xuICAgIH1cbn0pO1xuXG4vL1Bvc3QgTmV3IE9yZGVyXG5yb3V0ZXIucG9zdChcIi9cIiwgaXNBdXRoLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zb2xlLmxvZyhcInBvc3QgbmV3IG9yZGVyIHJvdXRlIGhpdFwiLCByZXEuYm9keSlcbiAgICBjb25zdCBuZXdPcmRlciA9IG5ldyBPcmRlcih7XG4gICAgICAgIG9yZGVySXRlbXM6IHJlcS5ib2R5Lm9yZGVySXRlbXMsXG4gICAgICAgIHVzZXI6IHJlcS51c2VyLl9pZCxcbiAgICAgICAgc2hpcHBpbmc6IHJlcS5ib2R5LnNoaXBwaW5nLFxuICAgICAgICBwYXltZW50OiByZXEuYm9keS5wYXltZW50LFxuICAgICAgICBpdGVtc1ByaWNlOiByZXEuYm9keS5pdGVtc1ByaWNlLFxuICAgICAgICB0YXhQcmljZTogcmVxLmJvZHkudGF4UHJpY2UsXG4gICAgICAgIHNoaXBwaW5nUHJpY2U6IHJlcS5ib2R5LnNoaXBwaW5nUHJpY2UsXG4gICAgICAgIHRvdGFsUHJpY2U6IHJlcS5ib2R5LnRvdGFsUHJpY2UsXG4gICAgfSk7XG4gICAgY29uc3QgbmV3T3JkZXJDcmVhdGVkID0gYXdhaXQgbmV3T3JkZXIuc2F2ZSgpO1xuICAgIHJlcy5zdGF0dXMoMjAxKS5zZW5kKHsgbWVzc2FnZTogXCJOZXcgT3JkZXIgQ3JlYXRlZFwiLCBkYXRhOiBuZXdPcmRlckNyZWF0ZWQgfSk7XG59KTtcblxuXG5cblxuLy9VcGRhdGUgdGhhdCBvcmRlciBpcyBwYWlkXG5yb3V0ZXIucHV0KFwiLzppZC9wYXlcIiwgaXNBdXRoLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zb2xlLmxvZyhcInVwZGF0ZSBvcmRlciB0byBwYWlkIHJvdXRlIGhpdFwiKVxuICAgIGNvbnN0IG9yZGVyID0gYXdhaXQgT3JkZXIuZmluZEJ5SWQocmVxLnBhcmFtcy5pZCk7XG4gICAgaWYgKG9yZGVyKSB7XG4gICAgICAgIG9yZGVyLmlzUGFpZCA9IHRydWU7XG4gICAgICAgIG9yZGVyLnBhaWRBdCA9IERhdGUubm93KCk7XG4gICAgICAgIG9yZGVyLnBheW1lbnQgPSB7XG4gICAgICAgICAgICBwYXltZW50TWV0aG9kOiAncGF5cGFsJyxcbiAgICAgICAgICAgIHBheW1lbnRSZXN1bHQ6IHtcblxuICAgICAgICAgICAgICAgIC8vRklYTUU6IHRoc2UgZGV0YWlscyBub3QgYmVpbmcgc2F2ZSwgZGlmZmVyZW50IG9iamVjdCBsYXlvdXQgLSBmaXhcbiAgICAgICAgICAgICAgICBwYXllcklEOiByZXEuYm9keS5wYXllcklELFxuICAgICAgICAgICAgICAgIG9yZGVySUQ6IHJlcS5ib2R5Lm9yZGVySUQsXG4gICAgICAgICAgICAgICAgcGF5bWVudElEOiByZXEuYm9keS5wYXltZW50SURcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1cGRhdGVkT3JkZXIgPSBhd2FpdCBvcmRlci5zYXZlKCk7XG4gICAgICAgIHJlcy5zZW5kKHsgbWVzc2FnZTogJ09yZGVyIFBhaWQuJywgb3JkZXI6IHVwZGF0ZWRPcmRlciB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IG1lc3NhZ2U6ICdPcmRlciBub3QgZm91bmQuJyB9KVxuICAgIH1cbn0pO1xuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXIiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "orderRoute.js"
      ],
      "names": [
        "router",
        "express",
        "Router",
        "get",
        "isAuth",
        "req",
        "res",
        "orders",
        "Order",
        "find",
        "populate",
        "console",
        "log",
        "send",
        "user",
        "_id",
        "delete",
        "isAdmin",
        "order",
        "findOne",
        "params",
        "id",
        "deletedOrder",
        "remove",
        "status",
        "body",
        "message",
        "post",
        "newOrder",
        "orderItems",
        "shipping",
        "payment",
        "itemsPrice",
        "taxPrice",
        "shippingPrice",
        "totalPrice",
        "newOrderCreated",
        "save",
        "data",
        "put",
        "findById",
        "isPaid",
        "paidAt",
        "Date",
        "now",
        "paymentMethod",
        "paymentResult",
        "payerID",
        "orderID",
        "paymentID",
        "updatedOrder"
      ],
      "mappings": "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",
      "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/",
      "sourcesContent": [
        "import express from 'express';\nimport Order from '../models/orderModel';\nimport { isAuth, isAdmin } from '../util'\n\n\nconst router = express.Router();\n\n\n\n\n//GET ALL\nrouter.get(\"/\", isAuth, async (req, res) => {\n    const orders = await Order.find({}).populate('user');\n    console.log(\"ORDERS WITH POPULATE USRS\", orders)\n    res.send(orders);\n});\n\n//GET my order\nrouter.get(\"/mine\", isAuth, async (req, res) => {\n    const orders = await Order.find({ user: req.user._id });\n    res.send(orders);\n});\n\n\n// DELETE by ID\nrouter.delete(\"/:id\", isAuth, isAdmin, async (req, res) => {\n    const order = await Order.findOne({ _id: req.params.id });\n    if (order) {\n        const deletedOrder = await order.remove();\n        res.send(deletedOrder);\n    } else {\n        res.status(404).send(\"Order Not Found.\")\n    }\n});\n\n\n//GET BY ID\nrouter.get('/:id', isAuth, async (req, res) => {\n    console.log(\"GET ORDER bY ID\", req.body)\n    const order = await Order.findOne({ _id: req.params.id });\n    if (order) {\n        res.send(order);\n    } else {\n        res.status(404).send({ message: 'Order Not Found.' });\n    }\n});\n\n//Post New Order\nrouter.post(\"/\", isAuth, async (req, res) => {\n    console.log(\"post new order route hit\", req.body)\n    const newOrder = new Order({\n        orderItems: req.body.orderItems,\n        user: req.user._id,\n        shipping: req.body.shipping,\n        payment: req.body.payment,\n        itemsPrice: req.body.itemsPrice,\n        taxPrice: req.body.taxPrice,\n        shippingPrice: req.body.shippingPrice,\n        totalPrice: req.body.totalPrice,\n    });\n    const newOrderCreated = await newOrder.save();\n    res.status(201).send({ message: \"New Order Created\", data: newOrderCreated });\n});\n\n\n\n\n//Update that order is paid\nrouter.put(\"/:id/pay\", isAuth, async (req, res) => {\n    console.log(\"update order to paid route hit\")\n    const order = await Order.findById(req.params.id);\n    if (order) {\n        order.isPaid = true;\n        order.paidAt = Date.now();\n        order.payment = {\n            paymentMethod: 'paypal',\n            paymentResult: {\n\n                //FIXME: thse details not being save, different object layout - fix\n                payerID: req.body.payerID,\n                orderID: req.body.orderID,\n                paymentID: req.body.paymentID\n            }\n        }\n        const updatedOrder = await order.save();\n        res.send({ message: 'Order Paid.', order: updatedOrder });\n    } else {\n        res.status(404).send({ message: 'Order not found.' })\n    }\n});\n\nexport default router"
      ]
    },
    "sourceType": "script",
    "mtime": 1598300071191
  },
  "{\"sourceRoot\":\"/home/jake/Documents/WebAhead/Project/eShop.uk/backend/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jake/Documents/WebAhead/Project/eShop.uk\",\"filename\":\"/home/jake/Documents/WebAhead/Project/eShop.uk/backend/models/orderModel.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jake/Documents/WebAhead/Project/eShop.uk\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.1": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/models/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/jake/Documents/WebAhead/Project/eShop.uk",
      "filename": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/models/orderModel.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/jake/Documents/WebAhead/Project/eShop.uk",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/models/orderModel.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/models/orderModel.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/models/",
        "sourceFileName": "orderModel.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst shippingSchema = {\n  address: {\n    type: String,\n    required: true\n  },\n  city: {\n    type: String,\n    required: true\n  },\n  postalCode: {\n    type: String,\n    required: true\n  },\n  country: {\n    type: String,\n    required: true\n  }\n};\nconst paymentSchema = {\n  paymentMethod: {\n    type: String,\n    required: true\n  }\n};\nconst orderItemSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  qty: {\n    type: Number,\n    required: true\n  },\n  image: {\n    type: String,\n    required: true\n  },\n  price: {\n    type: String,\n    required: true\n  },\n  product: {\n    type: _mongoose.default.Schema.Types.ObjectId,\n    ref: 'Product',\n    required: true\n  }\n});\nconst orderSchema = new _mongoose.default.Schema({\n  user: {\n    type: _mongoose.default.Schema.Types.ObjectId,\n    ref: 'User',\n    required: true\n  },\n  orderItems: [orderItemSchema],\n  shipping: shippingSchema,\n  payment: paymentSchema,\n  itemsPrice: {\n    type: Number\n  },\n  taxPrice: {\n    type: Number\n  },\n  shippingPrice: {\n    type: Number\n  },\n  totalPrice: {\n    type: Number\n  },\n  isPaid: {\n    type: Boolean,\n    default: false\n  },\n  paidAt: {\n    type: Date\n  },\n  isDelivered: {\n    type: Boolean,\n    default: false\n  },\n  deliveredAt: {\n    type: Date\n  }\n}, {\n  timestamps: true\n});\n\nconst orderModel = _mongoose.default.model(\"Order\", orderSchema);\n\nvar _default = orderModel;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyTW9kZWwuanMiXSwibmFtZXMiOlsic2hpcHBpbmdTY2hlbWEiLCJhZGRyZXNzIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwiY2l0eSIsInBvc3RhbENvZGUiLCJjb3VudHJ5IiwicGF5bWVudFNjaGVtYSIsInBheW1lbnRNZXRob2QiLCJvcmRlckl0ZW1TY2hlbWEiLCJtb25nb29zZSIsIlNjaGVtYSIsIm5hbWUiLCJxdHkiLCJOdW1iZXIiLCJpbWFnZSIsInByaWNlIiwicHJvZHVjdCIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJvcmRlclNjaGVtYSIsInVzZXIiLCJvcmRlckl0ZW1zIiwic2hpcHBpbmciLCJwYXltZW50IiwiaXRlbXNQcmljZSIsInRheFByaWNlIiwic2hpcHBpbmdQcmljZSIsInRvdGFsUHJpY2UiLCJpc1BhaWQiLCJCb29sZWFuIiwiZGVmYXVsdCIsInBhaWRBdCIsIkRhdGUiLCJpc0RlbGl2ZXJlZCIsImRlbGl2ZXJlZEF0IiwidGltZXN0YW1wcyIsIm9yZGVyTW9kZWwiLCJtb2RlbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBQ0EsTUFBTUEsY0FBYyxHQUFHO0FBQ25CQyxFQUFBQSxPQUFPLEVBQUU7QUFBRUMsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUIsR0FEVTtBQUVuQkMsRUFBQUEsSUFBSSxFQUFFO0FBQUVILElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBRmE7QUFHbkJFLEVBQUFBLFVBQVUsRUFBRTtBQUFFSixJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQUhPO0FBSW5CRyxFQUFBQSxPQUFPLEVBQUU7QUFBRUwsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUI7QUFKVSxDQUF2QjtBQU9BLE1BQU1JLGFBQWEsR0FBRztBQUNsQkMsRUFBQUEsYUFBYSxFQUFFO0FBQUVQLElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCO0FBREcsQ0FBdEI7QUFJQSxNQUFNTSxlQUFlLEdBQUcsSUFBSUMsa0JBQVNDLE1BQWIsQ0FBb0I7QUFDeENDLEVBQUFBLElBQUksRUFBRTtBQUFFWCxJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQURrQztBQUV4Q1UsRUFBQUEsR0FBRyxFQUFFO0FBQUVaLElBQUFBLElBQUksRUFBRWEsTUFBUjtBQUFnQlgsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBRm1DO0FBR3hDWSxFQUFBQSxLQUFLLEVBQUU7QUFBRWQsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUIsR0FIaUM7QUFJeENhLEVBQUFBLEtBQUssRUFBRTtBQUFFZixJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQUppQztBQUt4Q2MsRUFBQUEsT0FBTyxFQUFFO0FBQ0xoQixJQUFBQSxJQUFJLEVBQUVTLGtCQUFTQyxNQUFULENBQWdCTyxLQUFoQixDQUFzQkMsUUFEdkI7QUFFTEMsSUFBQUEsR0FBRyxFQUFFLFNBRkE7QUFHTGpCLElBQUFBLFFBQVEsRUFBRTtBQUhMO0FBTCtCLENBQXBCLENBQXhCO0FBWUEsTUFBTWtCLFdBQVcsR0FBRyxJQUFJWCxrQkFBU0MsTUFBYixDQUFvQjtBQUNwQ1csRUFBQUEsSUFBSSxFQUFFO0FBQUVyQixJQUFBQSxJQUFJLEVBQUVTLGtCQUFTQyxNQUFULENBQWdCTyxLQUFoQixDQUFzQkMsUUFBOUI7QUFBd0NDLElBQUFBLEdBQUcsRUFBRSxNQUE3QztBQUFxRGpCLElBQUFBLFFBQVEsRUFBRTtBQUEvRCxHQUQ4QjtBQUVwQ29CLEVBQUFBLFVBQVUsRUFBRSxDQUFDZCxlQUFELENBRndCO0FBR3BDZSxFQUFBQSxRQUFRLEVBQUV6QixjQUgwQjtBQUlwQzBCLEVBQUFBLE9BQU8sRUFBRWxCLGFBSjJCO0FBS3BDbUIsRUFBQUEsVUFBVSxFQUFFO0FBQUV6QixJQUFBQSxJQUFJLEVBQUVhO0FBQVIsR0FMd0I7QUFNcENhLEVBQUFBLFFBQVEsRUFBRTtBQUFFMUIsSUFBQUEsSUFBSSxFQUFFYTtBQUFSLEdBTjBCO0FBT3BDYyxFQUFBQSxhQUFhLEVBQUU7QUFBRTNCLElBQUFBLElBQUksRUFBRWE7QUFBUixHQVBxQjtBQVFwQ2UsRUFBQUEsVUFBVSxFQUFFO0FBQUU1QixJQUFBQSxJQUFJLEVBQUVhO0FBQVIsR0FSd0I7QUFTcENnQixFQUFBQSxNQUFNLEVBQUU7QUFBRTdCLElBQUFBLElBQUksRUFBRThCLE9BQVI7QUFBaUJDLElBQUFBLE9BQU8sRUFBRTtBQUExQixHQVQ0QjtBQVVwQ0MsRUFBQUEsTUFBTSxFQUFFO0FBQUVoQyxJQUFBQSxJQUFJLEVBQUVpQztBQUFSLEdBVjRCO0FBV3BDQyxFQUFBQSxXQUFXLEVBQUU7QUFBRWxDLElBQUFBLElBQUksRUFBRThCLE9BQVI7QUFBaUJDLElBQUFBLE9BQU8sRUFBRTtBQUExQixHQVh1QjtBQVlwQ0ksRUFBQUEsV0FBVyxFQUFFO0FBQUVuQyxJQUFBQSxJQUFJLEVBQUVpQztBQUFSO0FBWnVCLENBQXBCLEVBYWpCO0FBQ0NHLEVBQUFBLFVBQVUsRUFBRTtBQURiLENBYmlCLENBQXBCOztBQWlCQSxNQUFNQyxVQUFVLEdBQUc1QixrQkFBUzZCLEtBQVQsQ0FBZSxPQUFmLEVBQXdCbEIsV0FBeEIsQ0FBbkI7O2VBRWVpQixVIiwic291cmNlUm9vdCI6Ii9ob21lL2pha2UvRG9jdW1lbnRzL1dlYkFoZWFkL1Byb2plY3QvZVNob3AudWsvYmFja2VuZC9tb2RlbHMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcbmNvbnN0IHNoaXBwaW5nU2NoZW1hID0ge1xuICAgIGFkZHJlc3M6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIGNpdHk6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIHBvc3RhbENvZGU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIGNvdW50cnk6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxufTtcblxuY29uc3QgcGF5bWVudFNjaGVtYSA9IHtcbiAgICBwYXltZW50TWV0aG9kOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfVxufTtcblxuY29uc3Qgb3JkZXJJdGVtU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG4gICAgbmFtZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgcXR5OiB7IHR5cGU6IE51bWJlciwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICBpbWFnZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgcHJpY2U6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIHByb2R1Y3Q6IHtcbiAgICAgICAgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLFxuICAgICAgICByZWY6ICdQcm9kdWN0JyxcbiAgICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICB9LFxufSk7XG5cbmNvbnN0IG9yZGVyU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG4gICAgdXNlcjogeyB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsIHJlZjogJ1VzZXInLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIG9yZGVySXRlbXM6IFtvcmRlckl0ZW1TY2hlbWFdLFxuICAgIHNoaXBwaW5nOiBzaGlwcGluZ1NjaGVtYSxcbiAgICBwYXltZW50OiBwYXltZW50U2NoZW1hLFxuICAgIGl0ZW1zUHJpY2U6IHsgdHlwZTogTnVtYmVyIH0sXG4gICAgdGF4UHJpY2U6IHsgdHlwZTogTnVtYmVyIH0sXG4gICAgc2hpcHBpbmdQcmljZTogeyB0eXBlOiBOdW1iZXIgfSxcbiAgICB0b3RhbFByaWNlOiB7IHR5cGU6IE51bWJlciB9LFxuICAgIGlzUGFpZDogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiBmYWxzZSB9LFxuICAgIHBhaWRBdDogeyB0eXBlOiBEYXRlIH0sXG4gICAgaXNEZWxpdmVyZWQ6IHsgdHlwZTogQm9vbGVhbiwgZGVmYXVsdDogZmFsc2UgfSxcbiAgICBkZWxpdmVyZWRBdDogeyB0eXBlOiBEYXRlIH0sXG59LCB7XG4gICAgdGltZXN0YW1wczogdHJ1ZVxufSk7XG5cbmNvbnN0IG9yZGVyTW9kZWwgPSBtb25nb29zZS5tb2RlbChcIk9yZGVyXCIsIG9yZGVyU2NoZW1hKTtcblxuZXhwb3J0IGRlZmF1bHQgb3JkZXJNb2RlbDsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "orderModel.js"
      ],
      "names": [
        "shippingSchema",
        "address",
        "type",
        "String",
        "required",
        "city",
        "postalCode",
        "country",
        "paymentSchema",
        "paymentMethod",
        "orderItemSchema",
        "mongoose",
        "Schema",
        "name",
        "qty",
        "Number",
        "image",
        "price",
        "product",
        "Types",
        "ObjectId",
        "ref",
        "orderSchema",
        "user",
        "orderItems",
        "shipping",
        "payment",
        "itemsPrice",
        "taxPrice",
        "shippingPrice",
        "totalPrice",
        "isPaid",
        "Boolean",
        "default",
        "paidAt",
        "Date",
        "isDelivered",
        "deliveredAt",
        "timestamps",
        "orderModel",
        "model"
      ],
      "mappings": ";;;;;;;AAAA;;;;AACA,MAAMA,cAAc,GAAG;AACnBC,EAAAA,OAAO,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GADU;AAEnBC,EAAAA,IAAI,EAAE;AAAEH,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAFa;AAGnBE,EAAAA,UAAU,EAAE;AAAEJ,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAHO;AAInBG,EAAAA,OAAO,EAAE;AAAEL,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B;AAJU,CAAvB;AAOA,MAAMI,aAAa,GAAG;AAClBC,EAAAA,aAAa,EAAE;AAAEP,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B;AADG,CAAtB;AAIA,MAAMM,eAAe,GAAG,IAAIC,kBAASC,MAAb,CAAoB;AACxCC,EAAAA,IAAI,EAAE;AAAEX,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GADkC;AAExCU,EAAAA,GAAG,EAAE;AAAEZ,IAAAA,IAAI,EAAEa,MAAR;AAAgBX,IAAAA,QAAQ,EAAE;AAA1B,GAFmC;AAGxCY,EAAAA,KAAK,EAAE;AAAEd,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAHiC;AAIxCa,EAAAA,KAAK,EAAE;AAAEf,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAJiC;AAKxCc,EAAAA,OAAO,EAAE;AACLhB,IAAAA,IAAI,EAAES,kBAASC,MAAT,CAAgBO,KAAhB,CAAsBC,QADvB;AAELC,IAAAA,GAAG,EAAE,SAFA;AAGLjB,IAAAA,QAAQ,EAAE;AAHL;AAL+B,CAApB,CAAxB;AAYA,MAAMkB,WAAW,GAAG,IAAIX,kBAASC,MAAb,CAAoB;AACpCW,EAAAA,IAAI,EAAE;AAAErB,IAAAA,IAAI,EAAES,kBAASC,MAAT,CAAgBO,KAAhB,CAAsBC,QAA9B;AAAwCC,IAAAA,GAAG,EAAE,MAA7C;AAAqDjB,IAAAA,QAAQ,EAAE;AAA/D,GAD8B;AAEpCoB,EAAAA,UAAU,EAAE,CAACd,eAAD,CAFwB;AAGpCe,EAAAA,QAAQ,EAAEzB,cAH0B;AAIpC0B,EAAAA,OAAO,EAAElB,aAJ2B;AAKpCmB,EAAAA,UAAU,EAAE;AAAEzB,IAAAA,IAAI,EAAEa;AAAR,GALwB;AAMpCa,EAAAA,QAAQ,EAAE;AAAE1B,IAAAA,IAAI,EAAEa;AAAR,GAN0B;AAOpCc,EAAAA,aAAa,EAAE;AAAE3B,IAAAA,IAAI,EAAEa;AAAR,GAPqB;AAQpCe,EAAAA,UAAU,EAAE;AAAE5B,IAAAA,IAAI,EAAEa;AAAR,GARwB;AASpCgB,EAAAA,MAAM,EAAE;AAAE7B,IAAAA,IAAI,EAAE8B,OAAR;AAAiBC,IAAAA,OAAO,EAAE;AAA1B,GAT4B;AAUpCC,EAAAA,MAAM,EAAE;AAAEhC,IAAAA,IAAI,EAAEiC;AAAR,GAV4B;AAWpCC,EAAAA,WAAW,EAAE;AAAElC,IAAAA,IAAI,EAAE8B,OAAR;AAAiBC,IAAAA,OAAO,EAAE;AAA1B,GAXuB;AAYpCI,EAAAA,WAAW,EAAE;AAAEnC,IAAAA,IAAI,EAAEiC;AAAR;AAZuB,CAApB,EAajB;AACCG,EAAAA,UAAU,EAAE;AADb,CAbiB,CAApB;;AAiBA,MAAMC,UAAU,GAAG5B,kBAAS6B,KAAT,CAAe,OAAf,EAAwBlB,WAAxB,CAAnB;;eAEeiB,U",
      "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/models/",
      "sourcesContent": [
        "import mongoose from 'mongoose';\nconst shippingSchema = {\n    address: { type: String, required: true },\n    city: { type: String, required: true },\n    postalCode: { type: String, required: true },\n    country: { type: String, required: true },\n};\n\nconst paymentSchema = {\n    paymentMethod: { type: String, required: true }\n};\n\nconst orderItemSchema = new mongoose.Schema({\n    name: { type: String, required: true },\n    qty: { type: Number, required: true },\n    image: { type: String, required: true },\n    price: { type: String, required: true },\n    product: {\n        type: mongoose.Schema.Types.ObjectId,\n        ref: 'Product',\n        required: true\n    },\n});\n\nconst orderSchema = new mongoose.Schema({\n    user: { type: mongoose.Schema.Types.ObjectId, ref: 'User', required: true },\n    orderItems: [orderItemSchema],\n    shipping: shippingSchema,\n    payment: paymentSchema,\n    itemsPrice: { type: Number },\n    taxPrice: { type: Number },\n    shippingPrice: { type: Number },\n    totalPrice: { type: Number },\n    isPaid: { type: Boolean, default: false },\n    paidAt: { type: Date },\n    isDelivered: { type: Boolean, default: false },\n    deliveredAt: { type: Date },\n}, {\n    timestamps: true\n});\n\nconst orderModel = mongoose.model(\"Order\", orderSchema);\n\nexport default orderModel;"
      ]
    },
    "sourceType": "script",
    "mtime": 1597752355180
  },
  "{\"sourceRoot\":\"/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jake/Documents/WebAhead/Project/eShop.uk\",\"filename\":\"/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/orderRoute.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jake/Documents/WebAhead/Project/eShop.uk\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.1": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/jake/Documents/WebAhead/Project/eShop.uk",
      "filename": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/orderRoute.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/jake/Documents/WebAhead/Project/eShop.uk",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/orderRoute.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/orderRoute.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/",
        "sourceFileName": "orderRoute.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _orderModel = _interopRequireDefault(require(\"../models/orderModel\"));\n\nvar _util = require(\"../util\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst router = _express.default.Router(); //GET ALL\n\n\nrouter.get(\"/\", _util.isAuth, async (req, res) => {\n  const orders = await _orderModel.default.find({}).populate('user');\n  console.log(\"ORDERS WITH POPULATE USRS\", orders);\n  res.send(orders);\n}); //GET my order\n\nrouter.get(\"/mine\", _util.isAuth, async (req, res) => {\n  const orders = await _orderModel.default.find({\n    user: req.user._id\n  });\n  res.send(orders);\n}); // DELETE by ID\n\nrouter.delete(\"/:id\", _util.isAuth, _util.isAdmin, async (req, res) => {\n  const order = await _orderModel.default.findOne({\n    _id: req.params.id\n  });\n\n  if (order) {\n    const deletedOrder = await order.remove();\n    res.send(deletedOrder);\n  } else {\n    res.status(404).send(\"Order Not Found.\");\n  }\n}); //GET BY ID\n\nrouter.get('/:id', _util.isAuth, async (req, res) => {\n  console.log(\"GET ORDER bY ID\", req.body);\n  const order = await _orderModel.default.findOne({\n    _id: req.params.id\n  });\n\n  if (order) {\n    res.send(order);\n  } else {\n    res.status(404).send({\n      message: 'Order Not Found.'\n    });\n  }\n}); //Post New Order\n\nrouter.post(\"/\", _util.isAuth, async (req, res) => {\n  console.log(\"post new order route hit\", req.body);\n  const newOrder = new _orderModel.default({\n    orderItems: req.body.orderItems,\n    user: req.user._id,\n    shipping: req.body.shipping,\n    payment: req.body.payment,\n    itemsPrice: req.body.itemsPrice,\n    taxPrice: req.body.taxPrice,\n    shippingPrice: req.body.shippingPrice,\n    totalPrice: req.body.totalPrice\n  });\n  const newOrderCreated = await newOrder.save();\n  res.status(201).send({\n    message: \"New Order Created\",\n    data: newOrderCreated\n  });\n}); //Update that order is paid\n\nrouter.put(\"/:id/pay\", _util.isAuth, async (req, res) => {\n  console.log(\"update order to paid route hit\");\n  const order = await _orderModel.default.findById(req.params.id);\n\n  if (order) {\n    order.isPaid = true;\n    order.paidAt = Date.now();\n    order.payment = {\n      paymentMethod: 'paypal',\n      paymentResult: {\n        //FIXME: thse details not being save, different object layout - fix\n        payerID: req.body.payerID,\n        orderID: req.body.orderID,\n        paymentID: req.body.paymentID\n      }\n    };\n    const updatedOrder = await order.save();\n    res.send({\n      message: 'Order Paid.',\n      order: updatedOrder\n    });\n  } else {\n    res.status(404).send({\n      message: 'Order not found.'\n    });\n  }\n});\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyUm91dGUuanMiXSwibmFtZXMiOlsicm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsImdldCIsImlzQXV0aCIsInJlcSIsInJlcyIsIm9yZGVycyIsIk9yZGVyIiwiZmluZCIsInBvcHVsYXRlIiwiY29uc29sZSIsImxvZyIsInNlbmQiLCJ1c2VyIiwiX2lkIiwiZGVsZXRlIiwiaXNBZG1pbiIsIm9yZGVyIiwiZmluZE9uZSIsInBhcmFtcyIsImlkIiwiZGVsZXRlZE9yZGVyIiwicmVtb3ZlIiwic3RhdHVzIiwiYm9keSIsIm1lc3NhZ2UiLCJwb3N0IiwibmV3T3JkZXIiLCJvcmRlckl0ZW1zIiwic2hpcHBpbmciLCJwYXltZW50IiwiaXRlbXNQcmljZSIsInRheFByaWNlIiwic2hpcHBpbmdQcmljZSIsInRvdGFsUHJpY2UiLCJuZXdPcmRlckNyZWF0ZWQiLCJzYXZlIiwiZGF0YSIsInB1dCIsImZpbmRCeUlkIiwiaXNQYWlkIiwicGFpZEF0IiwiRGF0ZSIsIm5vdyIsInBheW1lbnRNZXRob2QiLCJwYXltZW50UmVzdWx0IiwicGF5ZXJJRCIsIm9yZGVySUQiLCJwYXltZW50SUQiLCJ1cGRhdGVkT3JkZXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7OztBQUdBLE1BQU1BLE1BQU0sR0FBR0MsaUJBQVFDLE1BQVIsRUFBZixDLENBS0E7OztBQUNBRixNQUFNLENBQUNHLEdBQVAsQ0FBVyxHQUFYLEVBQWdCQyxZQUFoQixFQUF3QixPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDeEMsUUFBTUMsTUFBTSxHQUFHLE1BQU1DLG9CQUFNQyxJQUFOLENBQVcsRUFBWCxFQUFlQyxRQUFmLENBQXdCLE1BQXhCLENBQXJCO0FBQ0FDLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLDJCQUFaLEVBQXlDTCxNQUF6QztBQUNBRCxFQUFBQSxHQUFHLENBQUNPLElBQUosQ0FBU04sTUFBVDtBQUNILENBSkQsRSxDQU1BOztBQUNBUCxNQUFNLENBQUNHLEdBQVAsQ0FBVyxPQUFYLEVBQW9CQyxZQUFwQixFQUE0QixPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDNUMsUUFBTUMsTUFBTSxHQUFHLE1BQU1DLG9CQUFNQyxJQUFOLENBQVc7QUFBRUssSUFBQUEsSUFBSSxFQUFFVCxHQUFHLENBQUNTLElBQUosQ0FBU0M7QUFBakIsR0FBWCxDQUFyQjtBQUNBVCxFQUFBQSxHQUFHLENBQUNPLElBQUosQ0FBU04sTUFBVDtBQUNILENBSEQsRSxDQU1BOztBQUNBUCxNQUFNLENBQUNnQixNQUFQLENBQWMsTUFBZCxFQUFzQlosWUFBdEIsRUFBOEJhLGFBQTlCLEVBQXVDLE9BQU9aLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtBQUN2RCxRQUFNWSxLQUFLLEdBQUcsTUFBTVYsb0JBQU1XLE9BQU4sQ0FBYztBQUFFSixJQUFBQSxHQUFHLEVBQUVWLEdBQUcsQ0FBQ2UsTUFBSixDQUFXQztBQUFsQixHQUFkLENBQXBCOztBQUNBLE1BQUlILEtBQUosRUFBVztBQUNQLFVBQU1JLFlBQVksR0FBRyxNQUFNSixLQUFLLENBQUNLLE1BQU4sRUFBM0I7QUFDQWpCLElBQUFBLEdBQUcsQ0FBQ08sSUFBSixDQUFTUyxZQUFUO0FBQ0gsR0FIRCxNQUdPO0FBQ0hoQixJQUFBQSxHQUFHLENBQUNrQixNQUFKLENBQVcsR0FBWCxFQUFnQlgsSUFBaEIsQ0FBcUIsa0JBQXJCO0FBQ0g7QUFDSixDQVJELEUsQ0FXQTs7QUFDQWIsTUFBTSxDQUFDRyxHQUFQLENBQVcsTUFBWCxFQUFtQkMsWUFBbkIsRUFBMkIsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQzNDSyxFQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxpQkFBWixFQUErQlAsR0FBRyxDQUFDb0IsSUFBbkM7QUFDQSxRQUFNUCxLQUFLLEdBQUcsTUFBTVYsb0JBQU1XLE9BQU4sQ0FBYztBQUFFSixJQUFBQSxHQUFHLEVBQUVWLEdBQUcsQ0FBQ2UsTUFBSixDQUFXQztBQUFsQixHQUFkLENBQXBCOztBQUNBLE1BQUlILEtBQUosRUFBVztBQUNQWixJQUFBQSxHQUFHLENBQUNPLElBQUosQ0FBU0ssS0FBVDtBQUNILEdBRkQsTUFFTztBQUNIWixJQUFBQSxHQUFHLENBQUNrQixNQUFKLENBQVcsR0FBWCxFQUFnQlgsSUFBaEIsQ0FBcUI7QUFBRWEsTUFBQUEsT0FBTyxFQUFFO0FBQVgsS0FBckI7QUFDSDtBQUNKLENBUkQsRSxDQVVBOztBQUNBMUIsTUFBTSxDQUFDMkIsSUFBUCxDQUFZLEdBQVosRUFBaUJ2QixZQUFqQixFQUF5QixPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDekNLLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLDBCQUFaLEVBQXdDUCxHQUFHLENBQUNvQixJQUE1QztBQUNBLFFBQU1HLFFBQVEsR0FBRyxJQUFJcEIsbUJBQUosQ0FBVTtBQUN2QnFCLElBQUFBLFVBQVUsRUFBRXhCLEdBQUcsQ0FBQ29CLElBQUosQ0FBU0ksVUFERTtBQUV2QmYsSUFBQUEsSUFBSSxFQUFFVCxHQUFHLENBQUNTLElBQUosQ0FBU0MsR0FGUTtBQUd2QmUsSUFBQUEsUUFBUSxFQUFFekIsR0FBRyxDQUFDb0IsSUFBSixDQUFTSyxRQUhJO0FBSXZCQyxJQUFBQSxPQUFPLEVBQUUxQixHQUFHLENBQUNvQixJQUFKLENBQVNNLE9BSks7QUFLdkJDLElBQUFBLFVBQVUsRUFBRTNCLEdBQUcsQ0FBQ29CLElBQUosQ0FBU08sVUFMRTtBQU12QkMsSUFBQUEsUUFBUSxFQUFFNUIsR0FBRyxDQUFDb0IsSUFBSixDQUFTUSxRQU5JO0FBT3ZCQyxJQUFBQSxhQUFhLEVBQUU3QixHQUFHLENBQUNvQixJQUFKLENBQVNTLGFBUEQ7QUFRdkJDLElBQUFBLFVBQVUsRUFBRTlCLEdBQUcsQ0FBQ29CLElBQUosQ0FBU1U7QUFSRSxHQUFWLENBQWpCO0FBVUEsUUFBTUMsZUFBZSxHQUFHLE1BQU1SLFFBQVEsQ0FBQ1MsSUFBVCxFQUE5QjtBQUNBL0IsRUFBQUEsR0FBRyxDQUFDa0IsTUFBSixDQUFXLEdBQVgsRUFBZ0JYLElBQWhCLENBQXFCO0FBQUVhLElBQUFBLE9BQU8sRUFBRSxtQkFBWDtBQUFnQ1ksSUFBQUEsSUFBSSxFQUFFRjtBQUF0QyxHQUFyQjtBQUNILENBZEQsRSxDQW1CQTs7QUFDQXBDLE1BQU0sQ0FBQ3VDLEdBQVAsQ0FBVyxVQUFYLEVBQXVCbkMsWUFBdkIsRUFBK0IsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQy9DSyxFQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxnQ0FBWjtBQUNBLFFBQU1NLEtBQUssR0FBRyxNQUFNVixvQkFBTWdDLFFBQU4sQ0FBZW5DLEdBQUcsQ0FBQ2UsTUFBSixDQUFXQyxFQUExQixDQUFwQjs7QUFDQSxNQUFJSCxLQUFKLEVBQVc7QUFDUEEsSUFBQUEsS0FBSyxDQUFDdUIsTUFBTixHQUFlLElBQWY7QUFDQXZCLElBQUFBLEtBQUssQ0FBQ3dCLE1BQU4sR0FBZUMsSUFBSSxDQUFDQyxHQUFMLEVBQWY7QUFDQTFCLElBQUFBLEtBQUssQ0FBQ2EsT0FBTixHQUFnQjtBQUNaYyxNQUFBQSxhQUFhLEVBQUUsUUFESDtBQUVaQyxNQUFBQSxhQUFhLEVBQUU7QUFFWDtBQUNBQyxRQUFBQSxPQUFPLEVBQUUxQyxHQUFHLENBQUNvQixJQUFKLENBQVNzQixPQUhQO0FBSVhDLFFBQUFBLE9BQU8sRUFBRTNDLEdBQUcsQ0FBQ29CLElBQUosQ0FBU3VCLE9BSlA7QUFLWEMsUUFBQUEsU0FBUyxFQUFFNUMsR0FBRyxDQUFDb0IsSUFBSixDQUFTd0I7QUFMVDtBQUZILEtBQWhCO0FBVUEsVUFBTUMsWUFBWSxHQUFHLE1BQU1oQyxLQUFLLENBQUNtQixJQUFOLEVBQTNCO0FBQ0EvQixJQUFBQSxHQUFHLENBQUNPLElBQUosQ0FBUztBQUFFYSxNQUFBQSxPQUFPLEVBQUUsYUFBWDtBQUEwQlIsTUFBQUEsS0FBSyxFQUFFZ0M7QUFBakMsS0FBVDtBQUNILEdBZkQsTUFlTztBQUNINUMsSUFBQUEsR0FBRyxDQUFDa0IsTUFBSixDQUFXLEdBQVgsRUFBZ0JYLElBQWhCLENBQXFCO0FBQUVhLE1BQUFBLE9BQU8sRUFBRTtBQUFYLEtBQXJCO0FBQ0g7QUFDSixDQXJCRDtlQXVCZTFCLE0iLCJzb3VyY2VSb290IjoiL2hvbWUvamFrZS9Eb2N1bWVudHMvV2ViQWhlYWQvUHJvamVjdC9lU2hvcC51ay9iYWNrZW5kL3JvdXRlcy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCBPcmRlciBmcm9tICcuLi9tb2RlbHMvb3JkZXJNb2RlbCc7XG5pbXBvcnQgeyBpc0F1dGgsIGlzQWRtaW4gfSBmcm9tICcuLi91dGlsJ1xuXG5cbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cblxuXG5cbi8vR0VUIEFMTFxucm91dGVyLmdldChcIi9cIiwgaXNBdXRoLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zdCBvcmRlcnMgPSBhd2FpdCBPcmRlci5maW5kKHt9KS5wb3B1bGF0ZSgndXNlcicpO1xuICAgIGNvbnNvbGUubG9nKFwiT1JERVJTIFdJVEggUE9QVUxBVEUgVVNSU1wiLCBvcmRlcnMpXG4gICAgcmVzLnNlbmQob3JkZXJzKTtcbn0pO1xuXG4vL0dFVCBteSBvcmRlclxucm91dGVyLmdldChcIi9taW5lXCIsIGlzQXV0aCwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgY29uc3Qgb3JkZXJzID0gYXdhaXQgT3JkZXIuZmluZCh7IHVzZXI6IHJlcS51c2VyLl9pZCB9KTtcbiAgICByZXMuc2VuZChvcmRlcnMpO1xufSk7XG5cblxuLy8gREVMRVRFIGJ5IElEXG5yb3V0ZXIuZGVsZXRlKFwiLzppZFwiLCBpc0F1dGgsIGlzQWRtaW4sIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnN0IG9yZGVyID0gYXdhaXQgT3JkZXIuZmluZE9uZSh7IF9pZDogcmVxLnBhcmFtcy5pZCB9KTtcbiAgICBpZiAob3JkZXIpIHtcbiAgICAgICAgY29uc3QgZGVsZXRlZE9yZGVyID0gYXdhaXQgb3JkZXIucmVtb3ZlKCk7XG4gICAgICAgIHJlcy5zZW5kKGRlbGV0ZWRPcmRlcik7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoXCJPcmRlciBOb3QgRm91bmQuXCIpXG4gICAgfVxufSk7XG5cblxuLy9HRVQgQlkgSURcbnJvdXRlci5nZXQoJy86aWQnLCBpc0F1dGgsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICAgIGNvbnNvbGUubG9nKFwiR0VUIE9SREVSIGJZIElEXCIsIHJlcS5ib2R5KVxuICAgIGNvbnN0IG9yZGVyID0gYXdhaXQgT3JkZXIuZmluZE9uZSh7IF9pZDogcmVxLnBhcmFtcy5pZCB9KTtcbiAgICBpZiAob3JkZXIpIHtcbiAgICAgICAgcmVzLnNlbmQob3JkZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHsgbWVzc2FnZTogJ09yZGVyIE5vdCBGb3VuZC4nIH0pO1xuICAgIH1cbn0pO1xuXG4vL1Bvc3QgTmV3IE9yZGVyXG5yb3V0ZXIucG9zdChcIi9cIiwgaXNBdXRoLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zb2xlLmxvZyhcInBvc3QgbmV3IG9yZGVyIHJvdXRlIGhpdFwiLCByZXEuYm9keSlcbiAgICBjb25zdCBuZXdPcmRlciA9IG5ldyBPcmRlcih7XG4gICAgICAgIG9yZGVySXRlbXM6IHJlcS5ib2R5Lm9yZGVySXRlbXMsXG4gICAgICAgIHVzZXI6IHJlcS51c2VyLl9pZCxcbiAgICAgICAgc2hpcHBpbmc6IHJlcS5ib2R5LnNoaXBwaW5nLFxuICAgICAgICBwYXltZW50OiByZXEuYm9keS5wYXltZW50LFxuICAgICAgICBpdGVtc1ByaWNlOiByZXEuYm9keS5pdGVtc1ByaWNlLFxuICAgICAgICB0YXhQcmljZTogcmVxLmJvZHkudGF4UHJpY2UsXG4gICAgICAgIHNoaXBwaW5nUHJpY2U6IHJlcS5ib2R5LnNoaXBwaW5nUHJpY2UsXG4gICAgICAgIHRvdGFsUHJpY2U6IHJlcS5ib2R5LnRvdGFsUHJpY2UsXG4gICAgfSk7XG4gICAgY29uc3QgbmV3T3JkZXJDcmVhdGVkID0gYXdhaXQgbmV3T3JkZXIuc2F2ZSgpO1xuICAgIHJlcy5zdGF0dXMoMjAxKS5zZW5kKHsgbWVzc2FnZTogXCJOZXcgT3JkZXIgQ3JlYXRlZFwiLCBkYXRhOiBuZXdPcmRlckNyZWF0ZWQgfSk7XG59KTtcblxuXG5cblxuLy9VcGRhdGUgdGhhdCBvcmRlciBpcyBwYWlkXG5yb3V0ZXIucHV0KFwiLzppZC9wYXlcIiwgaXNBdXRoLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICBjb25zb2xlLmxvZyhcInVwZGF0ZSBvcmRlciB0byBwYWlkIHJvdXRlIGhpdFwiKVxuICAgIGNvbnN0IG9yZGVyID0gYXdhaXQgT3JkZXIuZmluZEJ5SWQocmVxLnBhcmFtcy5pZCk7XG4gICAgaWYgKG9yZGVyKSB7XG4gICAgICAgIG9yZGVyLmlzUGFpZCA9IHRydWU7XG4gICAgICAgIG9yZGVyLnBhaWRBdCA9IERhdGUubm93KCk7XG4gICAgICAgIG9yZGVyLnBheW1lbnQgPSB7XG4gICAgICAgICAgICBwYXltZW50TWV0aG9kOiAncGF5cGFsJyxcbiAgICAgICAgICAgIHBheW1lbnRSZXN1bHQ6IHtcblxuICAgICAgICAgICAgICAgIC8vRklYTUU6IHRoc2UgZGV0YWlscyBub3QgYmVpbmcgc2F2ZSwgZGlmZmVyZW50IG9iamVjdCBsYXlvdXQgLSBmaXhcbiAgICAgICAgICAgICAgICBwYXllcklEOiByZXEuYm9keS5wYXllcklELFxuICAgICAgICAgICAgICAgIG9yZGVySUQ6IHJlcS5ib2R5Lm9yZGVySUQsXG4gICAgICAgICAgICAgICAgcGF5bWVudElEOiByZXEuYm9keS5wYXltZW50SURcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1cGRhdGVkT3JkZXIgPSBhd2FpdCBvcmRlci5zYXZlKCk7XG4gICAgICAgIHJlcy5zZW5kKHsgbWVzc2FnZTogJ09yZGVyIFBhaWQuJywgb3JkZXI6IHVwZGF0ZWRPcmRlciB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7IG1lc3NhZ2U6ICdPcmRlciBub3QgZm91bmQuJyB9KVxuICAgIH1cbn0pO1xuXG5leHBvcnQgZGVmYXVsdCByb3V0ZXIiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "orderRoute.js"
      ],
      "names": [
        "router",
        "express",
        "Router",
        "get",
        "isAuth",
        "req",
        "res",
        "orders",
        "Order",
        "find",
        "populate",
        "console",
        "log",
        "send",
        "user",
        "_id",
        "delete",
        "isAdmin",
        "order",
        "findOne",
        "params",
        "id",
        "deletedOrder",
        "remove",
        "status",
        "body",
        "message",
        "post",
        "newOrder",
        "orderItems",
        "shipping",
        "payment",
        "itemsPrice",
        "taxPrice",
        "shippingPrice",
        "totalPrice",
        "newOrderCreated",
        "save",
        "data",
        "put",
        "findById",
        "isPaid",
        "paidAt",
        "Date",
        "now",
        "paymentMethod",
        "paymentResult",
        "payerID",
        "orderID",
        "paymentID",
        "updatedOrder"
      ],
      "mappings": "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",
      "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/",
      "sourcesContent": [
        "import express from 'express';\nimport Order from '../models/orderModel';\nimport { isAuth, isAdmin } from '../util'\n\n\nconst router = express.Router();\n\n\n\n\n//GET ALL\nrouter.get(\"/\", isAuth, async (req, res) => {\n    const orders = await Order.find({}).populate('user');\n    console.log(\"ORDERS WITH POPULATE USRS\", orders)\n    res.send(orders);\n});\n\n//GET my order\nrouter.get(\"/mine\", isAuth, async (req, res) => {\n    const orders = await Order.find({ user: req.user._id });\n    res.send(orders);\n});\n\n\n// DELETE by ID\nrouter.delete(\"/:id\", isAuth, isAdmin, async (req, res) => {\n    const order = await Order.findOne({ _id: req.params.id });\n    if (order) {\n        const deletedOrder = await order.remove();\n        res.send(deletedOrder);\n    } else {\n        res.status(404).send(\"Order Not Found.\")\n    }\n});\n\n\n//GET BY ID\nrouter.get('/:id', isAuth, async (req, res) => {\n    console.log(\"GET ORDER bY ID\", req.body)\n    const order = await Order.findOne({ _id: req.params.id });\n    if (order) {\n        res.send(order);\n    } else {\n        res.status(404).send({ message: 'Order Not Found.' });\n    }\n});\n\n//Post New Order\nrouter.post(\"/\", isAuth, async (req, res) => {\n    console.log(\"post new order route hit\", req.body)\n    const newOrder = new Order({\n        orderItems: req.body.orderItems,\n        user: req.user._id,\n        shipping: req.body.shipping,\n        payment: req.body.payment,\n        itemsPrice: req.body.itemsPrice,\n        taxPrice: req.body.taxPrice,\n        shippingPrice: req.body.shippingPrice,\n        totalPrice: req.body.totalPrice,\n    });\n    const newOrderCreated = await newOrder.save();\n    res.status(201).send({ message: \"New Order Created\", data: newOrderCreated });\n});\n\n\n\n\n//Update that order is paid\nrouter.put(\"/:id/pay\", isAuth, async (req, res) => {\n    console.log(\"update order to paid route hit\")\n    const order = await Order.findById(req.params.id);\n    if (order) {\n        order.isPaid = true;\n        order.paidAt = Date.now();\n        order.payment = {\n            paymentMethod: 'paypal',\n            paymentResult: {\n\n                //FIXME: thse details not being save, different object layout - fix\n                payerID: req.body.payerID,\n                orderID: req.body.orderID,\n                paymentID: req.body.paymentID\n            }\n        }\n        const updatedOrder = await order.save();\n        res.send({ message: 'Order Paid.', order: updatedOrder });\n    } else {\n        res.status(404).send({ message: 'Order not found.' })\n    }\n});\n\nexport default router"
      ]
    },
    "sourceType": "script",
    "mtime": 1598300071191
  },
  "{\"sourceRoot\":\"/home/jake/Documents/WebAhead/Project/eShop.uk/backend/models/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jake/Documents/WebAhead/Project/eShop.uk\",\"filename\":\"/home/jake/Documents/WebAhead/Project/eShop.uk/backend/models/orderModel.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jake/Documents/WebAhead/Project/eShop.uk\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.1": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/models/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/jake/Documents/WebAhead/Project/eShop.uk",
      "filename": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/models/orderModel.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/jake/Documents/WebAhead/Project/eShop.uk",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/models/orderModel.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/models/orderModel.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/models/",
        "sourceFileName": "orderModel.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst shippingSchema = {\n  address: {\n    type: String,\n    required: true\n  },\n  city: {\n    type: String,\n    required: true\n  },\n  postalCode: {\n    type: String,\n    required: true\n  },\n  country: {\n    type: String,\n    required: true\n  }\n};\nconst paymentSchema = {\n  paymentMethod: {\n    type: String,\n    required: true\n  }\n};\nconst orderItemSchema = new _mongoose.default.Schema({\n  name: {\n    type: String,\n    required: true\n  },\n  qty: {\n    type: Number,\n    required: true\n  },\n  image: {\n    type: String,\n    required: true\n  },\n  price: {\n    type: String,\n    required: true\n  },\n  product: {\n    type: _mongoose.default.Schema.Types.ObjectId,\n    ref: 'Product',\n    required: true\n  }\n});\nconst orderSchema = new _mongoose.default.Schema({\n  user: {\n    type: _mongoose.default.Schema.Types.ObjectId,\n    ref: 'User',\n    required: true\n  },\n  orderItems: [orderItemSchema],\n  shipping: shippingSchema,\n  payment: paymentSchema,\n  itemsPrice: {\n    type: Number\n  },\n  taxPrice: {\n    type: Number\n  },\n  shippingPrice: {\n    type: Number\n  },\n  totalPrice: {\n    type: Number\n  },\n  isPaid: {\n    type: Boolean,\n    default: false\n  },\n  paidAt: {\n    type: Date\n  },\n  isDelivered: {\n    type: Boolean,\n    default: false\n  },\n  deliveredAt: {\n    type: Date\n  }\n}, {\n  timestamps: true\n});\n\nconst orderModel = _mongoose.default.model(\"Order\", orderSchema);\n\nvar _default = orderModel;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yZGVyTW9kZWwuanMiXSwibmFtZXMiOlsic2hpcHBpbmdTY2hlbWEiLCJhZGRyZXNzIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwiY2l0eSIsInBvc3RhbENvZGUiLCJjb3VudHJ5IiwicGF5bWVudFNjaGVtYSIsInBheW1lbnRNZXRob2QiLCJvcmRlckl0ZW1TY2hlbWEiLCJtb25nb29zZSIsIlNjaGVtYSIsIm5hbWUiLCJxdHkiLCJOdW1iZXIiLCJpbWFnZSIsInByaWNlIiwicHJvZHVjdCIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJvcmRlclNjaGVtYSIsInVzZXIiLCJvcmRlckl0ZW1zIiwic2hpcHBpbmciLCJwYXltZW50IiwiaXRlbXNQcmljZSIsInRheFByaWNlIiwic2hpcHBpbmdQcmljZSIsInRvdGFsUHJpY2UiLCJpc1BhaWQiLCJCb29sZWFuIiwiZGVmYXVsdCIsInBhaWRBdCIsIkRhdGUiLCJpc0RlbGl2ZXJlZCIsImRlbGl2ZXJlZEF0IiwidGltZXN0YW1wcyIsIm9yZGVyTW9kZWwiLCJtb2RlbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBOzs7O0FBQ0EsTUFBTUEsY0FBYyxHQUFHO0FBQ25CQyxFQUFBQSxPQUFPLEVBQUU7QUFBRUMsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUIsR0FEVTtBQUVuQkMsRUFBQUEsSUFBSSxFQUFFO0FBQUVILElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBRmE7QUFHbkJFLEVBQUFBLFVBQVUsRUFBRTtBQUFFSixJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQUhPO0FBSW5CRyxFQUFBQSxPQUFPLEVBQUU7QUFBRUwsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUI7QUFKVSxDQUF2QjtBQU9BLE1BQU1JLGFBQWEsR0FBRztBQUNsQkMsRUFBQUEsYUFBYSxFQUFFO0FBQUVQLElBQUFBLElBQUksRUFBRUMsTUFBUjtBQUFnQkMsSUFBQUEsUUFBUSxFQUFFO0FBQTFCO0FBREcsQ0FBdEI7QUFJQSxNQUFNTSxlQUFlLEdBQUcsSUFBSUMsa0JBQVNDLE1BQWIsQ0FBb0I7QUFDeENDLEVBQUFBLElBQUksRUFBRTtBQUFFWCxJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQURrQztBQUV4Q1UsRUFBQUEsR0FBRyxFQUFFO0FBQUVaLElBQUFBLElBQUksRUFBRWEsTUFBUjtBQUFnQlgsSUFBQUEsUUFBUSxFQUFFO0FBQTFCLEdBRm1DO0FBR3hDWSxFQUFBQSxLQUFLLEVBQUU7QUFBRWQsSUFBQUEsSUFBSSxFQUFFQyxNQUFSO0FBQWdCQyxJQUFBQSxRQUFRLEVBQUU7QUFBMUIsR0FIaUM7QUFJeENhLEVBQUFBLEtBQUssRUFBRTtBQUFFZixJQUFBQSxJQUFJLEVBQUVDLE1BQVI7QUFBZ0JDLElBQUFBLFFBQVEsRUFBRTtBQUExQixHQUppQztBQUt4Q2MsRUFBQUEsT0FBTyxFQUFFO0FBQ0xoQixJQUFBQSxJQUFJLEVBQUVTLGtCQUFTQyxNQUFULENBQWdCTyxLQUFoQixDQUFzQkMsUUFEdkI7QUFFTEMsSUFBQUEsR0FBRyxFQUFFLFNBRkE7QUFHTGpCLElBQUFBLFFBQVEsRUFBRTtBQUhMO0FBTCtCLENBQXBCLENBQXhCO0FBWUEsTUFBTWtCLFdBQVcsR0FBRyxJQUFJWCxrQkFBU0MsTUFBYixDQUFvQjtBQUNwQ1csRUFBQUEsSUFBSSxFQUFFO0FBQUVyQixJQUFBQSxJQUFJLEVBQUVTLGtCQUFTQyxNQUFULENBQWdCTyxLQUFoQixDQUFzQkMsUUFBOUI7QUFBd0NDLElBQUFBLEdBQUcsRUFBRSxNQUE3QztBQUFxRGpCLElBQUFBLFFBQVEsRUFBRTtBQUEvRCxHQUQ4QjtBQUVwQ29CLEVBQUFBLFVBQVUsRUFBRSxDQUFDZCxlQUFELENBRndCO0FBR3BDZSxFQUFBQSxRQUFRLEVBQUV6QixjQUgwQjtBQUlwQzBCLEVBQUFBLE9BQU8sRUFBRWxCLGFBSjJCO0FBS3BDbUIsRUFBQUEsVUFBVSxFQUFFO0FBQUV6QixJQUFBQSxJQUFJLEVBQUVhO0FBQVIsR0FMd0I7QUFNcENhLEVBQUFBLFFBQVEsRUFBRTtBQUFFMUIsSUFBQUEsSUFBSSxFQUFFYTtBQUFSLEdBTjBCO0FBT3BDYyxFQUFBQSxhQUFhLEVBQUU7QUFBRTNCLElBQUFBLElBQUksRUFBRWE7QUFBUixHQVBxQjtBQVFwQ2UsRUFBQUEsVUFBVSxFQUFFO0FBQUU1QixJQUFBQSxJQUFJLEVBQUVhO0FBQVIsR0FSd0I7QUFTcENnQixFQUFBQSxNQUFNLEVBQUU7QUFBRTdCLElBQUFBLElBQUksRUFBRThCLE9BQVI7QUFBaUJDLElBQUFBLE9BQU8sRUFBRTtBQUExQixHQVQ0QjtBQVVwQ0MsRUFBQUEsTUFBTSxFQUFFO0FBQUVoQyxJQUFBQSxJQUFJLEVBQUVpQztBQUFSLEdBVjRCO0FBV3BDQyxFQUFBQSxXQUFXLEVBQUU7QUFBRWxDLElBQUFBLElBQUksRUFBRThCLE9BQVI7QUFBaUJDLElBQUFBLE9BQU8sRUFBRTtBQUExQixHQVh1QjtBQVlwQ0ksRUFBQUEsV0FBVyxFQUFFO0FBQUVuQyxJQUFBQSxJQUFJLEVBQUVpQztBQUFSO0FBWnVCLENBQXBCLEVBYWpCO0FBQ0NHLEVBQUFBLFVBQVUsRUFBRTtBQURiLENBYmlCLENBQXBCOztBQWlCQSxNQUFNQyxVQUFVLEdBQUc1QixrQkFBUzZCLEtBQVQsQ0FBZSxPQUFmLEVBQXdCbEIsV0FBeEIsQ0FBbkI7O2VBRWVpQixVIiwic291cmNlUm9vdCI6Ii9ob21lL2pha2UvRG9jdW1lbnRzL1dlYkFoZWFkL1Byb2plY3QvZVNob3AudWsvYmFja2VuZC9tb2RlbHMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcbmNvbnN0IHNoaXBwaW5nU2NoZW1hID0ge1xuICAgIGFkZHJlc3M6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIGNpdHk6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIHBvc3RhbENvZGU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIGNvdW50cnk6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxufTtcblxuY29uc3QgcGF5bWVudFNjaGVtYSA9IHtcbiAgICBwYXltZW50TWV0aG9kOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfVxufTtcblxuY29uc3Qgb3JkZXJJdGVtU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG4gICAgbmFtZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgcXR5OiB7IHR5cGU6IE51bWJlciwgcmVxdWlyZWQ6IHRydWUgfSxcbiAgICBpbWFnZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgcHJpY2U6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIHByb2R1Y3Q6IHtcbiAgICAgICAgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLFxuICAgICAgICByZWY6ICdQcm9kdWN0JyxcbiAgICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICB9LFxufSk7XG5cbmNvbnN0IG9yZGVyU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XG4gICAgdXNlcjogeyB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsIHJlZjogJ1VzZXInLCByZXF1aXJlZDogdHJ1ZSB9LFxuICAgIG9yZGVySXRlbXM6IFtvcmRlckl0ZW1TY2hlbWFdLFxuICAgIHNoaXBwaW5nOiBzaGlwcGluZ1NjaGVtYSxcbiAgICBwYXltZW50OiBwYXltZW50U2NoZW1hLFxuICAgIGl0ZW1zUHJpY2U6IHsgdHlwZTogTnVtYmVyIH0sXG4gICAgdGF4UHJpY2U6IHsgdHlwZTogTnVtYmVyIH0sXG4gICAgc2hpcHBpbmdQcmljZTogeyB0eXBlOiBOdW1iZXIgfSxcbiAgICB0b3RhbFByaWNlOiB7IHR5cGU6IE51bWJlciB9LFxuICAgIGlzUGFpZDogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiBmYWxzZSB9LFxuICAgIHBhaWRBdDogeyB0eXBlOiBEYXRlIH0sXG4gICAgaXNEZWxpdmVyZWQ6IHsgdHlwZTogQm9vbGVhbiwgZGVmYXVsdDogZmFsc2UgfSxcbiAgICBkZWxpdmVyZWRBdDogeyB0eXBlOiBEYXRlIH0sXG59LCB7XG4gICAgdGltZXN0YW1wczogdHJ1ZVxufSk7XG5cbmNvbnN0IG9yZGVyTW9kZWwgPSBtb25nb29zZS5tb2RlbChcIk9yZGVyXCIsIG9yZGVyU2NoZW1hKTtcblxuZXhwb3J0IGRlZmF1bHQgb3JkZXJNb2RlbDsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "orderModel.js"
      ],
      "names": [
        "shippingSchema",
        "address",
        "type",
        "String",
        "required",
        "city",
        "postalCode",
        "country",
        "paymentSchema",
        "paymentMethod",
        "orderItemSchema",
        "mongoose",
        "Schema",
        "name",
        "qty",
        "Number",
        "image",
        "price",
        "product",
        "Types",
        "ObjectId",
        "ref",
        "orderSchema",
        "user",
        "orderItems",
        "shipping",
        "payment",
        "itemsPrice",
        "taxPrice",
        "shippingPrice",
        "totalPrice",
        "isPaid",
        "Boolean",
        "default",
        "paidAt",
        "Date",
        "isDelivered",
        "deliveredAt",
        "timestamps",
        "orderModel",
        "model"
      ],
      "mappings": ";;;;;;;AAAA;;;;AACA,MAAMA,cAAc,GAAG;AACnBC,EAAAA,OAAO,EAAE;AAAEC,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GADU;AAEnBC,EAAAA,IAAI,EAAE;AAAEH,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAFa;AAGnBE,EAAAA,UAAU,EAAE;AAAEJ,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAHO;AAInBG,EAAAA,OAAO,EAAE;AAAEL,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B;AAJU,CAAvB;AAOA,MAAMI,aAAa,GAAG;AAClBC,EAAAA,aAAa,EAAE;AAAEP,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B;AADG,CAAtB;AAIA,MAAMM,eAAe,GAAG,IAAIC,kBAASC,MAAb,CAAoB;AACxCC,EAAAA,IAAI,EAAE;AAAEX,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GADkC;AAExCU,EAAAA,GAAG,EAAE;AAAEZ,IAAAA,IAAI,EAAEa,MAAR;AAAgBX,IAAAA,QAAQ,EAAE;AAA1B,GAFmC;AAGxCY,EAAAA,KAAK,EAAE;AAAEd,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAHiC;AAIxCa,EAAAA,KAAK,EAAE;AAAEf,IAAAA,IAAI,EAAEC,MAAR;AAAgBC,IAAAA,QAAQ,EAAE;AAA1B,GAJiC;AAKxCc,EAAAA,OAAO,EAAE;AACLhB,IAAAA,IAAI,EAAES,kBAASC,MAAT,CAAgBO,KAAhB,CAAsBC,QADvB;AAELC,IAAAA,GAAG,EAAE,SAFA;AAGLjB,IAAAA,QAAQ,EAAE;AAHL;AAL+B,CAApB,CAAxB;AAYA,MAAMkB,WAAW,GAAG,IAAIX,kBAASC,MAAb,CAAoB;AACpCW,EAAAA,IAAI,EAAE;AAAErB,IAAAA,IAAI,EAAES,kBAASC,MAAT,CAAgBO,KAAhB,CAAsBC,QAA9B;AAAwCC,IAAAA,GAAG,EAAE,MAA7C;AAAqDjB,IAAAA,QAAQ,EAAE;AAA/D,GAD8B;AAEpCoB,EAAAA,UAAU,EAAE,CAACd,eAAD,CAFwB;AAGpCe,EAAAA,QAAQ,EAAEzB,cAH0B;AAIpC0B,EAAAA,OAAO,EAAElB,aAJ2B;AAKpCmB,EAAAA,UAAU,EAAE;AAAEzB,IAAAA,IAAI,EAAEa;AAAR,GALwB;AAMpCa,EAAAA,QAAQ,EAAE;AAAE1B,IAAAA,IAAI,EAAEa;AAAR,GAN0B;AAOpCc,EAAAA,aAAa,EAAE;AAAE3B,IAAAA,IAAI,EAAEa;AAAR,GAPqB;AAQpCe,EAAAA,UAAU,EAAE;AAAE5B,IAAAA,IAAI,EAAEa;AAAR,GARwB;AASpCgB,EAAAA,MAAM,EAAE;AAAE7B,IAAAA,IAAI,EAAE8B,OAAR;AAAiBC,IAAAA,OAAO,EAAE;AAA1B,GAT4B;AAUpCC,EAAAA,MAAM,EAAE;AAAEhC,IAAAA,IAAI,EAAEiC;AAAR,GAV4B;AAWpCC,EAAAA,WAAW,EAAE;AAAElC,IAAAA,IAAI,EAAE8B,OAAR;AAAiBC,IAAAA,OAAO,EAAE;AAA1B,GAXuB;AAYpCI,EAAAA,WAAW,EAAE;AAAEnC,IAAAA,IAAI,EAAEiC;AAAR;AAZuB,CAApB,EAajB;AACCG,EAAAA,UAAU,EAAE;AADb,CAbiB,CAApB;;AAiBA,MAAMC,UAAU,GAAG5B,kBAAS6B,KAAT,CAAe,OAAf,EAAwBlB,WAAxB,CAAnB;;eAEeiB,U",
      "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/models/",
      "sourcesContent": [
        "import mongoose from 'mongoose';\nconst shippingSchema = {\n    address: { type: String, required: true },\n    city: { type: String, required: true },\n    postalCode: { type: String, required: true },\n    country: { type: String, required: true },\n};\n\nconst paymentSchema = {\n    paymentMethod: { type: String, required: true }\n};\n\nconst orderItemSchema = new mongoose.Schema({\n    name: { type: String, required: true },\n    qty: { type: Number, required: true },\n    image: { type: String, required: true },\n    price: { type: String, required: true },\n    product: {\n        type: mongoose.Schema.Types.ObjectId,\n        ref: 'Product',\n        required: true\n    },\n});\n\nconst orderSchema = new mongoose.Schema({\n    user: { type: mongoose.Schema.Types.ObjectId, ref: 'User', required: true },\n    orderItems: [orderItemSchema],\n    shipping: shippingSchema,\n    payment: paymentSchema,\n    itemsPrice: { type: Number },\n    taxPrice: { type: Number },\n    shippingPrice: { type: Number },\n    totalPrice: { type: Number },\n    isPaid: { type: Boolean, default: false },\n    paidAt: { type: Date },\n    isDelivered: { type: Boolean, default: false },\n    deliveredAt: { type: Date },\n}, {\n    timestamps: true\n});\n\nconst orderModel = mongoose.model(\"Order\", orderSchema);\n\nexport default orderModel;"
      ]
    },
    "sourceType": "script",
    "mtime": 1597752355180
  },
  "{\"sourceRoot\":\"/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jake/Documents/WebAhead/Project/eShop.uk\",\"filename\":\"/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/uploadRoute.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jake/Documents/WebAhead/Project/eShop.uk\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.1": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/jake/Documents/WebAhead/Project/eShop.uk",
      "filename": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/uploadRoute.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/jake/Documents/WebAhead/Project/eShop.uk",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/uploadRoute.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/uploadRoute.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/",
        "sourceFileName": "uploadRoute.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _multer = _interopRequireDefault(require(\"multer\"));\n\nvar _multerS = _interopRequireDefault(require(\"multer-s3\"));\n\nvar _awsSdk = _interopRequireDefault(require(\"aws-sdk\"));\n\nvar _config = _interopRequireDefault(require(\"../config\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//set up storage\nconst storage = _multer.default.diskStorage({\n  destination(req, file, cb) {\n    cb(null, 'uploads/');\n  },\n\n  filename(req, file, cb) {\n    cb(null, `${Date.now()}.jpg`);\n  }\n\n}); //pass to multer\n\n\nconst upload = (0, _multer.default)({\n  storage\n});\n\nconst router = _express.default.Router(); //use multer function as middleware to upload file; locally\n\n\nrouter.post('/', upload.single('image'), (req, res) => {\n  res.send(`/${req.file.path}`);\n}); // AMAZON S3 SECTION\n\n_awsSdk.default.config.update({\n  accessKeyId: _config.default.accessKeyId,\n  secretAccessKey: _config.default.secretAccessKey\n});\n\nconst s3 = new _awsSdk.default.S3(); //set up storage\n\nconst storageS3 = (0, _multerS.default)({\n  s3,\n  bucket: 'amazona-bucket',\n  acl: 'public-read',\n  contentType: _multerS.default.AUTO_CONTENT_TYPE,\n\n  key(req, file, cb) {\n    cb(null, file.originalname);\n  }\n\n}); //pass to multer\n\nconst uploadS3 = (0, _multer.default)({\n  storage: storageS3\n}); //use multers3 function as middleware to save file on S3\n\nrouter.post('/s3', uploadS3.single('image'), (req, res) => {\n  res.send(req.file.location);\n});\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVwbG9hZFJvdXRlLmpzIl0sIm5hbWVzIjpbInN0b3JhZ2UiLCJtdWx0ZXIiLCJkaXNrU3RvcmFnZSIsImRlc3RpbmF0aW9uIiwicmVxIiwiZmlsZSIsImNiIiwiZmlsZW5hbWUiLCJEYXRlIiwibm93IiwidXBsb2FkIiwicm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsInBvc3QiLCJzaW5nbGUiLCJyZXMiLCJzZW5kIiwicGF0aCIsImF3cyIsImNvbmZpZyIsInVwZGF0ZSIsImFjY2Vzc0tleUlkIiwic2VjcmV0QWNjZXNzS2V5IiwiczMiLCJTMyIsInN0b3JhZ2VTMyIsImJ1Y2tldCIsImFjbCIsImNvbnRlbnRUeXBlIiwibXVsdGVyUzMiLCJBVVRPX0NPTlRFTlRfVFlQRSIsImtleSIsIm9yaWdpbmFsbmFtZSIsInVwbG9hZFMzIiwibG9jYXRpb24iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUdBO0FBQ0EsTUFBTUEsT0FBTyxHQUFHQyxnQkFBT0MsV0FBUCxDQUFtQjtBQUMvQkMsRUFBQUEsV0FBVyxDQUFDQyxHQUFELEVBQU1DLElBQU4sRUFBWUMsRUFBWixFQUFnQjtBQUN2QkEsSUFBQUEsRUFBRSxDQUFDLElBQUQsRUFBTyxVQUFQLENBQUY7QUFDSCxHQUg4Qjs7QUFJL0JDLEVBQUFBLFFBQVEsQ0FBQ0gsR0FBRCxFQUFNQyxJQUFOLEVBQVlDLEVBQVosRUFBZ0I7QUFDcEJBLElBQUFBLEVBQUUsQ0FBQyxJQUFELEVBQVEsR0FBRUUsSUFBSSxDQUFDQyxHQUFMLEVBQVcsTUFBckIsQ0FBRjtBQUNIOztBQU44QixDQUFuQixDQUFoQixDLENBU0E7OztBQUNBLE1BQU1DLE1BQU0sR0FBRyxxQkFBTztBQUFFVixFQUFBQTtBQUFGLENBQVAsQ0FBZjs7QUFFQSxNQUFNVyxNQUFNLEdBQUdDLGlCQUFRQyxNQUFSLEVBQWYsQyxDQUdBOzs7QUFDQUYsTUFBTSxDQUFDRyxJQUFQLENBQVksR0FBWixFQUFpQkosTUFBTSxDQUFDSyxNQUFQLENBQWMsT0FBZCxDQUFqQixFQUF5QyxDQUFDWCxHQUFELEVBQU1ZLEdBQU4sS0FBYztBQUNuREEsRUFBQUEsR0FBRyxDQUFDQyxJQUFKLENBQVUsSUFBR2IsR0FBRyxDQUFDQyxJQUFKLENBQVNhLElBQUssRUFBM0I7QUFDSCxDQUZELEUsQ0FJQTs7QUFFQUMsZ0JBQUlDLE1BQUosQ0FBV0MsTUFBWCxDQUFrQjtBQUNkQyxFQUFBQSxXQUFXLEVBQUVGLGdCQUFPRSxXQUROO0FBRWRDLEVBQUFBLGVBQWUsRUFBRUgsZ0JBQU9HO0FBRlYsQ0FBbEI7O0FBS0EsTUFBTUMsRUFBRSxHQUFHLElBQUlMLGdCQUFJTSxFQUFSLEVBQVgsQyxDQUdBOztBQUNBLE1BQU1DLFNBQVMsR0FBRyxzQkFBUztBQUN2QkYsRUFBQUEsRUFEdUI7QUFFdkJHLEVBQUFBLE1BQU0sRUFBRSxnQkFGZTtBQUd2QkMsRUFBQUEsR0FBRyxFQUFFLGFBSGtCO0FBSXZCQyxFQUFBQSxXQUFXLEVBQUVDLGlCQUFTQyxpQkFKQzs7QUFLdkJDLEVBQUFBLEdBQUcsQ0FBQzVCLEdBQUQsRUFBTUMsSUFBTixFQUFZQyxFQUFaLEVBQWdCO0FBQ2ZBLElBQUFBLEVBQUUsQ0FBQyxJQUFELEVBQU9ELElBQUksQ0FBQzRCLFlBQVosQ0FBRjtBQUNIOztBQVBzQixDQUFULENBQWxCLEMsQ0FVQTs7QUFDQSxNQUFNQyxRQUFRLEdBQUcscUJBQU87QUFBRWxDLEVBQUFBLE9BQU8sRUFBRTBCO0FBQVgsQ0FBUCxDQUFqQixDLENBR0E7O0FBQ0FmLE1BQU0sQ0FBQ0csSUFBUCxDQUFZLEtBQVosRUFBbUJvQixRQUFRLENBQUNuQixNQUFULENBQWdCLE9BQWhCLENBQW5CLEVBQTZDLENBQUNYLEdBQUQsRUFBTVksR0FBTixLQUFjO0FBQ3ZEQSxFQUFBQSxHQUFHLENBQUNDLElBQUosQ0FBU2IsR0FBRyxDQUFDQyxJQUFKLENBQVM4QixRQUFsQjtBQUNILENBRkQ7ZUFJZXhCLE0iLCJzb3VyY2VSb290IjoiL2hvbWUvamFrZS9Eb2N1bWVudHMvV2ViQWhlYWQvUHJvamVjdC9lU2hvcC51ay9iYWNrZW5kL3JvdXRlcy8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tICdleHByZXNzJztcbmltcG9ydCBtdWx0ZXIgZnJvbSAnbXVsdGVyJztcbmltcG9ydCBtdWx0ZXJTMyBmcm9tICdtdWx0ZXItczMnO1xuaW1wb3J0IGF3cyBmcm9tICdhd3Mtc2RrJztcbmltcG9ydCBjb25maWcgZnJvbSAnLi4vY29uZmlnJztcblxuXG4vL3NldCB1cCBzdG9yYWdlXG5jb25zdCBzdG9yYWdlID0gbXVsdGVyLmRpc2tTdG9yYWdlKHtcbiAgICBkZXN0aW5hdGlvbihyZXEsIGZpbGUsIGNiKSB7XG4gICAgICAgIGNiKG51bGwsICd1cGxvYWRzLycpO1xuICAgIH0sXG4gICAgZmlsZW5hbWUocmVxLCBmaWxlLCBjYikge1xuICAgICAgICBjYihudWxsLCBgJHtEYXRlLm5vdygpfS5qcGdgKTtcbiAgICB9LFxufSk7XG5cbi8vcGFzcyB0byBtdWx0ZXJcbmNvbnN0IHVwbG9hZCA9IG11bHRlcih7IHN0b3JhZ2UgfSk7XG5cbmNvbnN0IHJvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XG5cblxuLy91c2UgbXVsdGVyIGZ1bmN0aW9uIGFzIG1pZGRsZXdhcmUgdG8gdXBsb2FkIGZpbGU7IGxvY2FsbHlcbnJvdXRlci5wb3N0KCcvJywgdXBsb2FkLnNpbmdsZSgnaW1hZ2UnKSwgKHJlcSwgcmVzKSA9PiB7XG4gICAgcmVzLnNlbmQoYC8ke3JlcS5maWxlLnBhdGh9YCk7XG59KTtcblxuLy8gQU1BWk9OIFMzIFNFQ1RJT05cblxuYXdzLmNvbmZpZy51cGRhdGUoe1xuICAgIGFjY2Vzc0tleUlkOiBjb25maWcuYWNjZXNzS2V5SWQsXG4gICAgc2VjcmV0QWNjZXNzS2V5OiBjb25maWcuc2VjcmV0QWNjZXNzS2V5LFxufSk7XG5cbmNvbnN0IHMzID0gbmV3IGF3cy5TMygpO1xuXG5cbi8vc2V0IHVwIHN0b3JhZ2VcbmNvbnN0IHN0b3JhZ2VTMyA9IG11bHRlclMzKHtcbiAgICBzMyxcbiAgICBidWNrZXQ6ICdhbWF6b25hLWJ1Y2tldCcsXG4gICAgYWNsOiAncHVibGljLXJlYWQnLFxuICAgIGNvbnRlbnRUeXBlOiBtdWx0ZXJTMy5BVVRPX0NPTlRFTlRfVFlQRSxcbiAgICBrZXkocmVxLCBmaWxlLCBjYikge1xuICAgICAgICBjYihudWxsLCBmaWxlLm9yaWdpbmFsbmFtZSk7XG4gICAgfSxcbn0pO1xuXG4vL3Bhc3MgdG8gbXVsdGVyXG5jb25zdCB1cGxvYWRTMyA9IG11bHRlcih7IHN0b3JhZ2U6IHN0b3JhZ2VTMyB9KTtcblxuXG4vL3VzZSBtdWx0ZXJzMyBmdW5jdGlvbiBhcyBtaWRkbGV3YXJlIHRvIHNhdmUgZmlsZSBvbiBTM1xucm91dGVyLnBvc3QoJy9zMycsIHVwbG9hZFMzLnNpbmdsZSgnaW1hZ2UnKSwgKHJlcSwgcmVzKSA9PiB7XG4gICAgcmVzLnNlbmQocmVxLmZpbGUubG9jYXRpb24pO1xufSk7XG5cbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXX0=",
    "map": {
      "version": 3,
      "sources": [
        "uploadRoute.js"
      ],
      "names": [
        "storage",
        "multer",
        "diskStorage",
        "destination",
        "req",
        "file",
        "cb",
        "filename",
        "Date",
        "now",
        "upload",
        "router",
        "express",
        "Router",
        "post",
        "single",
        "res",
        "send",
        "path",
        "aws",
        "config",
        "update",
        "accessKeyId",
        "secretAccessKey",
        "s3",
        "S3",
        "storageS3",
        "bucket",
        "acl",
        "contentType",
        "multerS3",
        "AUTO_CONTENT_TYPE",
        "key",
        "originalname",
        "uploadS3",
        "location"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;;;AAGA;AACA,MAAMA,OAAO,GAAGC,gBAAOC,WAAP,CAAmB;AAC/BC,EAAAA,WAAW,CAACC,GAAD,EAAMC,IAAN,EAAYC,EAAZ,EAAgB;AACvBA,IAAAA,EAAE,CAAC,IAAD,EAAO,UAAP,CAAF;AACH,GAH8B;;AAI/BC,EAAAA,QAAQ,CAACH,GAAD,EAAMC,IAAN,EAAYC,EAAZ,EAAgB;AACpBA,IAAAA,EAAE,CAAC,IAAD,EAAQ,GAAEE,IAAI,CAACC,GAAL,EAAW,MAArB,CAAF;AACH;;AAN8B,CAAnB,CAAhB,C,CASA;;;AACA,MAAMC,MAAM,GAAG,qBAAO;AAAEV,EAAAA;AAAF,CAAP,CAAf;;AAEA,MAAMW,MAAM,GAAGC,iBAAQC,MAAR,EAAf,C,CAGA;;;AACAF,MAAM,CAACG,IAAP,CAAY,GAAZ,EAAiBJ,MAAM,CAACK,MAAP,CAAc,OAAd,CAAjB,EAAyC,CAACX,GAAD,EAAMY,GAAN,KAAc;AACnDA,EAAAA,GAAG,CAACC,IAAJ,CAAU,IAAGb,GAAG,CAACC,IAAJ,CAASa,IAAK,EAA3B;AACH,CAFD,E,CAIA;;AAEAC,gBAAIC,MAAJ,CAAWC,MAAX,CAAkB;AACdC,EAAAA,WAAW,EAAEF,gBAAOE,WADN;AAEdC,EAAAA,eAAe,EAAEH,gBAAOG;AAFV,CAAlB;;AAKA,MAAMC,EAAE,GAAG,IAAIL,gBAAIM,EAAR,EAAX,C,CAGA;;AACA,MAAMC,SAAS,GAAG,sBAAS;AACvBF,EAAAA,EADuB;AAEvBG,EAAAA,MAAM,EAAE,gBAFe;AAGvBC,EAAAA,GAAG,EAAE,aAHkB;AAIvBC,EAAAA,WAAW,EAAEC,iBAASC,iBAJC;;AAKvBC,EAAAA,GAAG,CAAC5B,GAAD,EAAMC,IAAN,EAAYC,EAAZ,EAAgB;AACfA,IAAAA,EAAE,CAAC,IAAD,EAAOD,IAAI,CAAC4B,YAAZ,CAAF;AACH;;AAPsB,CAAT,CAAlB,C,CAUA;;AACA,MAAMC,QAAQ,GAAG,qBAAO;AAAElC,EAAAA,OAAO,EAAE0B;AAAX,CAAP,CAAjB,C,CAGA;;AACAf,MAAM,CAACG,IAAP,CAAY,KAAZ,EAAmBoB,QAAQ,CAACnB,MAAT,CAAgB,OAAhB,CAAnB,EAA6C,CAACX,GAAD,EAAMY,GAAN,KAAc;AACvDA,EAAAA,GAAG,CAACC,IAAJ,CAASb,GAAG,CAACC,IAAJ,CAAS8B,QAAlB;AACH,CAFD;eAIexB,M",
      "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/",
      "sourcesContent": [
        "import express from 'express';\nimport multer from 'multer';\nimport multerS3 from 'multer-s3';\nimport aws from 'aws-sdk';\nimport config from '../config';\n\n\n//set up storage\nconst storage = multer.diskStorage({\n    destination(req, file, cb) {\n        cb(null, 'uploads/');\n    },\n    filename(req, file, cb) {\n        cb(null, `${Date.now()}.jpg`);\n    },\n});\n\n//pass to multer\nconst upload = multer({ storage });\n\nconst router = express.Router();\n\n\n//use multer function as middleware to upload file; locally\nrouter.post('/', upload.single('image'), (req, res) => {\n    res.send(`/${req.file.path}`);\n});\n\n// AMAZON S3 SECTION\n\naws.config.update({\n    accessKeyId: config.accessKeyId,\n    secretAccessKey: config.secretAccessKey,\n});\n\nconst s3 = new aws.S3();\n\n\n//set up storage\nconst storageS3 = multerS3({\n    s3,\n    bucket: 'amazona-bucket',\n    acl: 'public-read',\n    contentType: multerS3.AUTO_CONTENT_TYPE,\n    key(req, file, cb) {\n        cb(null, file.originalname);\n    },\n});\n\n//pass to multer\nconst uploadS3 = multer({ storage: storageS3 });\n\n\n//use multers3 function as middleware to save file on S3\nrouter.post('/s3', uploadS3.single('image'), (req, res) => {\n    res.send(req.file.location);\n});\n\nexport default router;"
      ]
    },
    "sourceType": "script",
    "mtime": 1598698115497
  },
  "{\"sourceRoot\":\"/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/jake/Documents/WebAhead/Project/eShop.uk\",\"filename\":\"/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/uploadRoute.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/jake/Documents/WebAhead/Project/eShop.uk\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.11.1": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/jake/Documents/WebAhead/Project/eShop.uk",
      "filename": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/uploadRoute.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/jake/Documents/WebAhead/Project/eShop.uk",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/uploadRoute.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/uploadRoute.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/",
        "sourceFileName": "uploadRoute.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _multer = _interopRequireDefault(require(\"multer\"));\n\nvar _multerS = _interopRequireDefault(require(\"multer-s3\"));\n\nvar _awsSdk = _interopRequireDefault(require(\"aws-sdk\"));\n\nvar _config = _interopRequireDefault(require(\"../config\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//set up storage\nconst storage = _multer.default.diskStorage({\n  destination(req, file, cb) {\n    cb(null, 'uploads/');\n  },\n\n  filename(req, file, cb) {\n    cb(null, `${Date.now()}.jpg`);\n  }\n\n}); //pass to multer\n\n\nconst upload = (0, _multer.default)({\n  storage\n});\n\nconst router = _express.default.Router(); //use multer function as middleware to upload file; locally\n\n\nrouter.post('/', upload.single('image'), (req, res) => {\n  res.send(`/${req.file.path}`);\n}); // AMAZON S3 SECTION\n\n_awsSdk.default.config.update({\n  accessKeyId: _config.default.accessKeyId,\n  secretAccessKey: _config.default.secretAccessKey\n});\n\nconst s3 = new _awsSdk.default.S3(); //set up storage\n\nconst storageS3 = (0, _multerS.default)({\n  s3,\n  bucket: 'eshop-jp',\n  acl: 'public-read',\n  contentType: _multerS.default.AUTO_CONTENT_TYPE,\n\n  key(req, file, cb) {\n    cb(null, file.originalname);\n  }\n\n}); //pass to multer\n\nconst uploadS3 = (0, _multer.default)({\n  storage: storageS3\n}); //use multers3 function as middleware to save file on S3\n\nrouter.post('/s3', uploadS3.single('image'), (req, res) => {\n  res.send(req.file.location);\n});\nvar _default = router;\nexports.default = _default;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVwbG9hZFJvdXRlLmpzIl0sIm5hbWVzIjpbInN0b3JhZ2UiLCJtdWx0ZXIiLCJkaXNrU3RvcmFnZSIsImRlc3RpbmF0aW9uIiwicmVxIiwiZmlsZSIsImNiIiwiZmlsZW5hbWUiLCJEYXRlIiwibm93IiwidXBsb2FkIiwicm91dGVyIiwiZXhwcmVzcyIsIlJvdXRlciIsInBvc3QiLCJzaW5nbGUiLCJyZXMiLCJzZW5kIiwicGF0aCIsImF3cyIsImNvbmZpZyIsInVwZGF0ZSIsImFjY2Vzc0tleUlkIiwic2VjcmV0QWNjZXNzS2V5IiwiczMiLCJTMyIsInN0b3JhZ2VTMyIsImJ1Y2tldCIsImFjbCIsImNvbnRlbnRUeXBlIiwibXVsdGVyUzMiLCJBVVRPX0NPTlRFTlRfVFlQRSIsImtleSIsIm9yaWdpbmFsbmFtZSIsInVwbG9hZFMzIiwibG9jYXRpb24iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUdBO0FBQ0EsTUFBTUEsT0FBTyxHQUFHQyxnQkFBT0MsV0FBUCxDQUFtQjtBQUMvQkMsRUFBQUEsV0FBVyxDQUFDQyxHQUFELEVBQU1DLElBQU4sRUFBWUMsRUFBWixFQUFnQjtBQUN2QkEsSUFBQUEsRUFBRSxDQUFDLElBQUQsRUFBTyxVQUFQLENBQUY7QUFDSCxHQUg4Qjs7QUFJL0JDLEVBQUFBLFFBQVEsQ0FBQ0gsR0FBRCxFQUFNQyxJQUFOLEVBQVlDLEVBQVosRUFBZ0I7QUFDcEJBLElBQUFBLEVBQUUsQ0FBQyxJQUFELEVBQVEsR0FBRUUsSUFBSSxDQUFDQyxHQUFMLEVBQVcsTUFBckIsQ0FBRjtBQUNIOztBQU44QixDQUFuQixDQUFoQixDLENBU0E7OztBQUNBLE1BQU1DLE1BQU0sR0FBRyxxQkFBTztBQUFFVixFQUFBQTtBQUFGLENBQVAsQ0FBZjs7QUFFQSxNQUFNVyxNQUFNLEdBQUdDLGlCQUFRQyxNQUFSLEVBQWYsQyxDQUdBOzs7QUFDQUYsTUFBTSxDQUFDRyxJQUFQLENBQVksR0FBWixFQUFpQkosTUFBTSxDQUFDSyxNQUFQLENBQWMsT0FBZCxDQUFqQixFQUF5QyxDQUFDWCxHQUFELEVBQU1ZLEdBQU4sS0FBYztBQUNuREEsRUFBQUEsR0FBRyxDQUFDQyxJQUFKLENBQVUsSUFBR2IsR0FBRyxDQUFDQyxJQUFKLENBQVNhLElBQUssRUFBM0I7QUFDSCxDQUZELEUsQ0FJQTs7QUFFQUMsZ0JBQUlDLE1BQUosQ0FBV0MsTUFBWCxDQUFrQjtBQUNkQyxFQUFBQSxXQUFXLEVBQUVGLGdCQUFPRSxXQUROO0FBRWRDLEVBQUFBLGVBQWUsRUFBRUgsZ0JBQU9HO0FBRlYsQ0FBbEI7O0FBS0EsTUFBTUMsRUFBRSxHQUFHLElBQUlMLGdCQUFJTSxFQUFSLEVBQVgsQyxDQUdBOztBQUNBLE1BQU1DLFNBQVMsR0FBRyxzQkFBUztBQUN2QkYsRUFBQUEsRUFEdUI7QUFFdkJHLEVBQUFBLE1BQU0sRUFBRSxVQUZlO0FBR3ZCQyxFQUFBQSxHQUFHLEVBQUUsYUFIa0I7QUFJdkJDLEVBQUFBLFdBQVcsRUFBRUMsaUJBQVNDLGlCQUpDOztBQUt2QkMsRUFBQUEsR0FBRyxDQUFDNUIsR0FBRCxFQUFNQyxJQUFOLEVBQVlDLEVBQVosRUFBZ0I7QUFDZkEsSUFBQUEsRUFBRSxDQUFDLElBQUQsRUFBT0QsSUFBSSxDQUFDNEIsWUFBWixDQUFGO0FBQ0g7O0FBUHNCLENBQVQsQ0FBbEIsQyxDQVVBOztBQUNBLE1BQU1DLFFBQVEsR0FBRyxxQkFBTztBQUFFbEMsRUFBQUEsT0FBTyxFQUFFMEI7QUFBWCxDQUFQLENBQWpCLEMsQ0FHQTs7QUFDQWYsTUFBTSxDQUFDRyxJQUFQLENBQVksS0FBWixFQUFtQm9CLFFBQVEsQ0FBQ25CLE1BQVQsQ0FBZ0IsT0FBaEIsQ0FBbkIsRUFBNkMsQ0FBQ1gsR0FBRCxFQUFNWSxHQUFOLEtBQWM7QUFDdkRBLEVBQUFBLEdBQUcsQ0FBQ0MsSUFBSixDQUFTYixHQUFHLENBQUNDLElBQUosQ0FBUzhCLFFBQWxCO0FBQ0gsQ0FGRDtlQUlleEIsTSIsInNvdXJjZVJvb3QiOiIvaG9tZS9qYWtlL0RvY3VtZW50cy9XZWJBaGVhZC9Qcm9qZWN0L2VTaG9wLnVrL2JhY2tlbmQvcm91dGVzLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnO1xuaW1wb3J0IG11bHRlciBmcm9tICdtdWx0ZXInO1xuaW1wb3J0IG11bHRlclMzIGZyb20gJ211bHRlci1zMyc7XG5pbXBvcnQgYXdzIGZyb20gJ2F3cy1zZGsnO1xuaW1wb3J0IGNvbmZpZyBmcm9tICcuLi9jb25maWcnO1xuXG5cbi8vc2V0IHVwIHN0b3JhZ2VcbmNvbnN0IHN0b3JhZ2UgPSBtdWx0ZXIuZGlza1N0b3JhZ2Uoe1xuICAgIGRlc3RpbmF0aW9uKHJlcSwgZmlsZSwgY2IpIHtcbiAgICAgICAgY2IobnVsbCwgJ3VwbG9hZHMvJyk7XG4gICAgfSxcbiAgICBmaWxlbmFtZShyZXEsIGZpbGUsIGNiKSB7XG4gICAgICAgIGNiKG51bGwsIGAke0RhdGUubm93KCl9LmpwZ2ApO1xuICAgIH0sXG59KTtcblxuLy9wYXNzIHRvIG11bHRlclxuY29uc3QgdXBsb2FkID0gbXVsdGVyKHsgc3RvcmFnZSB9KTtcblxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcblxuXG4vL3VzZSBtdWx0ZXIgZnVuY3Rpb24gYXMgbWlkZGxld2FyZSB0byB1cGxvYWQgZmlsZTsgbG9jYWxseVxucm91dGVyLnBvc3QoJy8nLCB1cGxvYWQuc2luZ2xlKCdpbWFnZScpLCAocmVxLCByZXMpID0+IHtcbiAgICByZXMuc2VuZChgLyR7cmVxLmZpbGUucGF0aH1gKTtcbn0pO1xuXG4vLyBBTUFaT04gUzMgU0VDVElPTlxuXG5hd3MuY29uZmlnLnVwZGF0ZSh7XG4gICAgYWNjZXNzS2V5SWQ6IGNvbmZpZy5hY2Nlc3NLZXlJZCxcbiAgICBzZWNyZXRBY2Nlc3NLZXk6IGNvbmZpZy5zZWNyZXRBY2Nlc3NLZXksXG59KTtcblxuY29uc3QgczMgPSBuZXcgYXdzLlMzKCk7XG5cblxuLy9zZXQgdXAgc3RvcmFnZVxuY29uc3Qgc3RvcmFnZVMzID0gbXVsdGVyUzMoe1xuICAgIHMzLFxuICAgIGJ1Y2tldDogJ2VzaG9wLWpwJyxcbiAgICBhY2w6ICdwdWJsaWMtcmVhZCcsXG4gICAgY29udGVudFR5cGU6IG11bHRlclMzLkFVVE9fQ09OVEVOVF9UWVBFLFxuICAgIGtleShyZXEsIGZpbGUsIGNiKSB7XG4gICAgICAgIGNiKG51bGwsIGZpbGUub3JpZ2luYWxuYW1lKTtcbiAgICB9LFxufSk7XG5cbi8vcGFzcyB0byBtdWx0ZXJcbmNvbnN0IHVwbG9hZFMzID0gbXVsdGVyKHsgc3RvcmFnZTogc3RvcmFnZVMzIH0pO1xuXG5cbi8vdXNlIG11bHRlcnMzIGZ1bmN0aW9uIGFzIG1pZGRsZXdhcmUgdG8gc2F2ZSBmaWxlIG9uIFMzXG5yb3V0ZXIucG9zdCgnL3MzJywgdXBsb2FkUzMuc2luZ2xlKCdpbWFnZScpLCAocmVxLCByZXMpID0+IHtcbiAgICByZXMuc2VuZChyZXEuZmlsZS5sb2NhdGlvbik7XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "uploadRoute.js"
      ],
      "names": [
        "storage",
        "multer",
        "diskStorage",
        "destination",
        "req",
        "file",
        "cb",
        "filename",
        "Date",
        "now",
        "upload",
        "router",
        "express",
        "Router",
        "post",
        "single",
        "res",
        "send",
        "path",
        "aws",
        "config",
        "update",
        "accessKeyId",
        "secretAccessKey",
        "s3",
        "S3",
        "storageS3",
        "bucket",
        "acl",
        "contentType",
        "multerS3",
        "AUTO_CONTENT_TYPE",
        "key",
        "originalname",
        "uploadS3",
        "location"
      ],
      "mappings": ";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;;;AAGA;AACA,MAAMA,OAAO,GAAGC,gBAAOC,WAAP,CAAmB;AAC/BC,EAAAA,WAAW,CAACC,GAAD,EAAMC,IAAN,EAAYC,EAAZ,EAAgB;AACvBA,IAAAA,EAAE,CAAC,IAAD,EAAO,UAAP,CAAF;AACH,GAH8B;;AAI/BC,EAAAA,QAAQ,CAACH,GAAD,EAAMC,IAAN,EAAYC,EAAZ,EAAgB;AACpBA,IAAAA,EAAE,CAAC,IAAD,EAAQ,GAAEE,IAAI,CAACC,GAAL,EAAW,MAArB,CAAF;AACH;;AAN8B,CAAnB,CAAhB,C,CASA;;;AACA,MAAMC,MAAM,GAAG,qBAAO;AAAEV,EAAAA;AAAF,CAAP,CAAf;;AAEA,MAAMW,MAAM,GAAGC,iBAAQC,MAAR,EAAf,C,CAGA;;;AACAF,MAAM,CAACG,IAAP,CAAY,GAAZ,EAAiBJ,MAAM,CAACK,MAAP,CAAc,OAAd,CAAjB,EAAyC,CAACX,GAAD,EAAMY,GAAN,KAAc;AACnDA,EAAAA,GAAG,CAACC,IAAJ,CAAU,IAAGb,GAAG,CAACC,IAAJ,CAASa,IAAK,EAA3B;AACH,CAFD,E,CAIA;;AAEAC,gBAAIC,MAAJ,CAAWC,MAAX,CAAkB;AACdC,EAAAA,WAAW,EAAEF,gBAAOE,WADN;AAEdC,EAAAA,eAAe,EAAEH,gBAAOG;AAFV,CAAlB;;AAKA,MAAMC,EAAE,GAAG,IAAIL,gBAAIM,EAAR,EAAX,C,CAGA;;AACA,MAAMC,SAAS,GAAG,sBAAS;AACvBF,EAAAA,EADuB;AAEvBG,EAAAA,MAAM,EAAE,UAFe;AAGvBC,EAAAA,GAAG,EAAE,aAHkB;AAIvBC,EAAAA,WAAW,EAAEC,iBAASC,iBAJC;;AAKvBC,EAAAA,GAAG,CAAC5B,GAAD,EAAMC,IAAN,EAAYC,EAAZ,EAAgB;AACfA,IAAAA,EAAE,CAAC,IAAD,EAAOD,IAAI,CAAC4B,YAAZ,CAAF;AACH;;AAPsB,CAAT,CAAlB,C,CAUA;;AACA,MAAMC,QAAQ,GAAG,qBAAO;AAAElC,EAAAA,OAAO,EAAE0B;AAAX,CAAP,CAAjB,C,CAGA;;AACAf,MAAM,CAACG,IAAP,CAAY,KAAZ,EAAmBoB,QAAQ,CAACnB,MAAT,CAAgB,OAAhB,CAAnB,EAA6C,CAACX,GAAD,EAAMY,GAAN,KAAc;AACvDA,EAAAA,GAAG,CAACC,IAAJ,CAASb,GAAG,CAACC,IAAJ,CAAS8B,QAAlB;AACH,CAFD;eAIexB,M",
      "sourceRoot": "/home/jake/Documents/WebAhead/Project/eShop.uk/backend/routes/",
      "sourcesContent": [
        "import express from 'express';\nimport multer from 'multer';\nimport multerS3 from 'multer-s3';\nimport aws from 'aws-sdk';\nimport config from '../config';\n\n\n//set up storage\nconst storage = multer.diskStorage({\n    destination(req, file, cb) {\n        cb(null, 'uploads/');\n    },\n    filename(req, file, cb) {\n        cb(null, `${Date.now()}.jpg`);\n    },\n});\n\n//pass to multer\nconst upload = multer({ storage });\n\nconst router = express.Router();\n\n\n//use multer function as middleware to upload file; locally\nrouter.post('/', upload.single('image'), (req, res) => {\n    res.send(`/${req.file.path}`);\n});\n\n// AMAZON S3 SECTION\n\naws.config.update({\n    accessKeyId: config.accessKeyId,\n    secretAccessKey: config.secretAccessKey,\n});\n\nconst s3 = new aws.S3();\n\n\n//set up storage\nconst storageS3 = multerS3({\n    s3,\n    bucket: 'eshop-jp',\n    acl: 'public-read',\n    contentType: multerS3.AUTO_CONTENT_TYPE,\n    key(req, file, cb) {\n        cb(null, file.originalname);\n    },\n});\n\n//pass to multer\nconst uploadS3 = multer({ storage: storageS3 });\n\n\n//use multers3 function as middleware to save file on S3\nrouter.post('/s3', uploadS3.single('image'), (req, res) => {\n    res.send(req.file.location);\n});\n\nexport default router;"
      ]
    },
    "sourceType": "script",
    "mtime": 1598698761804
  }
}